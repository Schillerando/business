(function(){var e={7611:function(e,t,i){"use strict";var s=i(9963),a=i(6252);const n={translate:"no"};function r(e,t,i,s,r,o){const l=(0,a.up)("NavBar"),c=(0,a.up)("router-view"),d=(0,a.up)("SocialsFooter"),u=(0,a.up)("LockedOverlay"),m=(0,a.up)("NoAccessOverlay");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(l),(0,a.Wm)(c),null==e.$route.meta.footer?((0,a.wg)(),(0,a.j4)(d,{key:0})):(0,a.kq)("",!0),null!=e.$route.meta.locked?((0,a.wg)(),(0,a.j4)(u,{key:1})):(0,a.kq)("",!0),null!=e.$route.meta.noAccess?((0,a.wg)(),(0,a.j4)(m,{key:2})):(0,a.kq)("",!0)])}var o=i(5833);const l=e=>((0,a.dD)("data-v-51bdaf46"),e=e(),(0,a.Cn)(),e),c=l((()=>(0,a._)("hr",null,null,-1))),d={class:"navbar navbar-expand-lg navbar-light sticky-top"},u=l((()=>(0,a._)("img",{class:"logo",src:o},null,-1))),m=l((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),p={class:"collapse navbar-collapse",id:"navbarToggler"},h={class:"navbar-nav ms-auto"},g={class:"nav-item"},v={class:"nav-item"},f={class:"nav-item"},b={class:"nav-item"},y={class:"nav-item"},_=["href"],w=l((()=>(0,a._)("i",{class:"fa-solid fa-shuffle mx-1"},null,-1))),k=l((()=>(0,a._)("div",{class:"indicator",id:"indicator"},null,-1)));function A(e,t,i,s,n,r){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[c,(0,a._)("header",d,[(0,a.Wm)(o,{to:"/",class:"brand navbar-brand"},{default:(0,a.w5)((()=>[u,(0,a.Uk)(" Business ")])),_:1}),m,(0,a._)("div",p,[(0,a._)("ul",h,[(0,a._)("li",g,[(0,a.Wm)(o,{class:"nav-link",to:"/buchhaltung"},{default:(0,a.w5)((()=>[(0,a.Uk)("Buchhaltung")])),_:1})]),(0,a._)("li",v,[(0,a.Wm)(o,{class:"nav-link",to:"/services"},{default:(0,a.w5)((()=>[(0,a.Uk)("Services")])),_:1})]),(0,a._)("li",f,[(0,a.Wm)(o,{class:"nav-link",to:"/produkte"},{default:(0,a.w5)((()=>[(0,a.Uk)("Produkte")])),_:1})]),(0,a._)("li",b,[(0,a.Wm)(o,{class:"nav-link",to:"/einstellungen"},{default:(0,a.w5)((()=>[(0,a.Uk)("Einstellungen")])),_:1})]),(0,a._)("li",y,[(0,a._)("a",{class:"nav-link",href:n.mainUrl},[w,(0,a.Uk)(" Schillerando ")],8,_)]),k])])])],64)}var C={name:"NavBar",props:{info:String},data(){return{mainUrl:"https://schillerando.de"}},mounted(){},methods:{animateIndicator(){}}},P=i(3744);const E=(0,P.Z)(C,[["render",A],["__scopeId","data-v-51bdaf46"]]);var D=E;const x=e=>((0,a.dD)("data-v-205cca34"),e=e(),(0,a.Cn)(),e),S={id:"footer",class:"container-fluid"},B=x((()=>(0,a._)("div",{class:"container-fluid"},[(0,a._)("a",{href:"mailto:info@schillerando.de"},[(0,a._)("i",{class:"social-icon fa-solid fa-lg fa-envelope"})]),(0,a._)("a",{tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"focus","data-bs-placement":"top","data-bs-content":'\n      <div>\n        <p>\n          Hierbei handelt es sich um ein Unternehmen für das Schulprojekt Schule als Staat 2023 des FSG Marbach und um kein echtes Unternehmen \n        </p>\n        <p>\n          <strong>Impressum:</strong>\n          <br>Felix Haag\n          <br>Schulstraße 34\n          <br>71672 Marbach am Neckar\n          <br>Telefon: <a href="tel:+4915759664764">0157 / 59 66 47 64</a>\n          <br>E-Mail: <a href="mailto:info@schillerando.de">info@schillerando.de</a>\n        </p>\n      </div>'},[(0,a._)("i",{class:"social-icon fa-solid fa-lg fa-circle-info"})]),(0,a._)("a",{href:"https://www.instagram.com/schillerando/"},[(0,a._)("i",{class:"social-icon fab fa-lg fa-instagram"})]),(0,a._)("p",null,"© Schillerando")],-1))),I=[B];function L(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("footer",S,I)}var U=i(5577),T={name:"ProductView",mounted(){Array.from(document.querySelectorAll('a[data-bs-toggle="popover"]')).forEach((e=>new U.Popover(e,{html:!0})))}};const z=(0,P.Z)(T,[["render",L],["__scopeId","data-v-205cca34"]]);var q=z,O=(i(7658),i(1029));const F=e=>((0,a.dD)("data-v-0bf2058d"),e=e(),(0,a.Cn)(),e),W={key:0},Z={key:0,class:"overlay"},M={class:"centered"},V=F((()=>(0,a._)("img",{class:"lock",src:O,alt:""},null,-1))),R={key:1,class:"mt-3"};function N(e,t,i,s,n,r){return null!=s.companyData&&void 0!=s.companyData?((0,a.wg)(),(0,a.iD)("div",W,[""==s.companyData.abo||null==s.companyData.abo?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",M,[V,s.userData.id==s.userData.user_uid?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=e=>s.router.push("updateAbo"))},"Abo auswählen")):((0,a.wg)(),(0,a.iD)("h4",R,"Der Geschäftsführer deines Unternehmens muss ein Abo auswählen um Zugriff zu erhalten!"))])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var K=i(3907),G=i(2201),j={name:"LockedOverlay",setup(){const e=(0,K.oR)(),t=(0,G.tv)(),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,a.Fl)((()=>e.state.user));return{store:e,router:t,companyData:i,userData:s}}};const $=(0,P.Z)(j,[["render",N],["__scopeId","data-v-0bf2058d"]]);var H=$;const Y=e=>((0,a.dD)("data-v-b2876cfa"),e=e(),(0,a.Cn)(),e),J={key:0},Q={key:0,class:"overlay"},X=Y((()=>(0,a._)("div",{class:"centered"},[(0,a._)("img",{class:"lock",src:O,alt:""}),(0,a._)("h4",{class:"mt-3"},"Auf diese Seite hat nur der Geschäftsführer Zugriff!")],-1))),ee=[X];function te(e,t,i,s,n,r){return null!=s.companyData&&void 0!=s.companyData?((0,a.wg)(),(0,a.iD)("div",J,[s.userData.id!=s.companyData.user_uid&&""!=s.companyData.abo&&null!=s.companyData.abo?((0,a.wg)(),(0,a.iD)("div",Q,ee)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var ie={name:"NoAccessOverlay",setup(){const e=(0,K.oR)(),t=(0,G.tv)(),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,a.Fl)((()=>e.state.user));return{store:e,router:t,companyData:i,userData:s}}};const se=(0,P.Z)(ie,[["render",te],["__scopeId","data-v-b2876cfa"]]);var ae=se,ne={name:"App",components:{NavBar:D,SocialsFooter:q,LockedOverlay:H,NoAccessOverlay:ae},setup(){const e=(0,K.oR)();return e.dispatch("reload"),{store:e}}};const re=(0,P.Z)(ne,[["render",r]]);var oe=re;function le(e,t,i,s,n,r){const o=(0,a.up)("HeroSection"),l=(0,a.up)("FeatureSection"),c=(0,a.up)("QuestionsCarousel");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o),(0,a.Wm)(l),(0,a.Wm)(c)],64)}var ce=i(4077);const de=e=>((0,a.dD)("data-v-6f468084"),e=e(),(0,a.Cn)(),e),ue={id:"title"},me={class:"row"},pe=de((()=>(0,a._)("div",{class:"col-md-6 col-12 order-first order-md-last"},[(0,a._)("img",{class:"hero-image",src:ce,alt:""})],-1))),he={class:"col-md-6 col-12"},ge={class:"hero-info"},ve=de((()=>(0,a._)("div",{class:"title"},[(0,a._)("span",null,"Mehr "),(0,a._)("span",{style:{color:"black"}},"als ein"),(0,a._)("br"),(0,a._)("span",null,"Lieferservice")],-1))),fe=de((()=>(0,a._)("p",{class:"text"},[(0,a.Uk)(" Registriere dein Unternehmen "),(0,a._)("br"),(0,a.Uk)(" um von zahlreichen Services "),(0,a._)("br"),(0,a.Uk)(" zu profitieren ")],-1)));function be(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",ue,[(0,a._)("div",me,[pe,(0,a._)("div",he,[(0,a._)("div",ge,[ve,fe,(0,a._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/companyRegistration")),class:"btn btn-primary"}," Registrieren ")])])])])}var ye={name:"HeroSection",data(){return{businessUrl:"https://business.schillerando.de"}}};const _e=(0,P.Z)(ye,[["render",be],["__scopeId","data-v-6f468084"]]);var we=_e;const ke={id:"questions"},Ae=(0,a.uE)('<div class="container-fluid" data-v-e0ecdaba><div class="row mx-auto my-auto" data-v-e0ecdaba><div id="question-carousel" class="carousel slide carousel-dark" data-bs-ride="carousel" data-v-e0ecdaba><div class="carousel-inner" data-v-e0ecdaba><div class="question carousel-item active" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du hast keinen Überblick über die zahlreichen Angebote bei Schule als Staat? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du hast keine Zeit dir Essen oder Trinken zu kaufen weil du selber arbeiten musst? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du willst Werbung für dein Unternehmen um mehr Kunden zu gewinnen? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du bist Arbeitslos und willst schnelles Geld verdienen? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du willst einen flexiblen Job ohne feste Arbeitszeiten und tristes Rumsitzen? </h3></div></div></div></div><h2 class="answer" data-v-e0ecdaba>Schillerando.</h2></div>',1),Ce=[Ae];function Pe(e,t){return(0,a.wg)(),(0,a.iD)("section",ke,Ce)}const Ee={},De=(0,P.Z)(Ee,[["render",Pe],["__scopeId","data-v-e0ecdaba"]]);var xe=De;const Se=e=>((0,a.dD)("data-v-622abbb9"),e=e(),(0,a.Cn)(),e),Be={id:"feature"},Ie=Se((()=>(0,a._)("div",{class:"container px-4 py-5",id:"featured-3"},[(0,a._)("h2",{class:"pb-2 border-bottom"},"Das bietet Schillerando")],-1))),Le={class:"row g-4 py-5 row-cols-1 row-cols-lg-3"},Ue=Se((()=>(0,a._)("p",{style:{"font-size":"0.9rem","margin-bottom":"40px",padding:"10px",color:"#111111"}},[(0,a.Uk)(" * Nach §9 des Wirtschaftsgesetzes ist jedes Unternehmen dazu verpflichtet über seine Finanzen (Lohnausgaben, Umsätze, Ausgaben für Warenbeschaffung und Miete) Buch zu führen. Mit der "),(0,a._)("span",{style:{"font-weight":"700",color:"#000000"}},"Schillerando Buchhaltungssoftware"),(0,a.Uk)(" geht das unkompliziert und übersichtlich. ")],-1)));function Te(e,t,i,s,n,r){const o=(0,a.up)("FeatureTile");return(0,a.wg)(),(0,a.iD)("section",Be,[Ie,(0,a._)("div",Le,[(0,a.Wm)(o,{left:!0,forCompanies:!1,image:"products.png",title:"Produkte",text:"Entdecke alle Produkte und Angebote im Staat. Egal ob Essen, Trinken, Aktivitäten oder Sonstiges.",link:n.mainUrl+"/produkte",linkTitle:"Produkte"},null,8,["link"]),(0,a.Wm)(o,{left:!1,forCompanies:!1,image:"location.png",title:"Unternehmen",text:"Erhalte einen Überblick über alle Unternehmen im Staat und finde leichter zu ihnen.",link:n.mainUrl+"/unternehmen",linkTitle:"Unternehmen"},null,8,["link"]),(0,a.Wm)(o,{left:!0,forCompanies:!1,image:"prices.png",title:"Preisvergleich",text:"Vergleiche Preise um immer das günstigste Produkt zu finden und Geld zu sparen.",link:n.mainUrl+"/produkte",linkTitle:"Preisvergleich"},null,8,["link"]),(0,a.Wm)(o,{left:!1,forCompanies:!1,title:"Lieferung",image:"delivery.png",text:"Lasse Produkte wie Essen oder Trinken schnell und kostenlos zu dir liefern.",link:n.mainUrl+"/auth",linkTitle:"Registrieren"},null,8,["link"]),(0,a.Wm)(o,{left:!0,forCompanies:!0,image:"boosting.png",title:"Werbung",text:"Mache dein Unternehmen bekannt und erreiche mehr Kunden.",link:"/companyRegistration",linkTitle:"Business"}),(0,a.Wm)(o,{left:!1,forCompanies:!0,image:"accounting.png",title:"Buchhaltung*",text:"Habe immer alle Einnahmen und Ausgaben deines Unternehmens im Blick.",link:"/buchhaltung",linkTitle:"Buchhaltung"}),(0,a.Wm)(o,{left:!0,forCompanies:!0,image:"service.png",title:"Services",text:"Lasse dir vor und während Schule als Staat Ware für dein Unternehmen aus dem Ausland liefern, deinen Müll entsorgen und vieles mehr.",link:"/services",linkTitle:"Services"})]),Ue])}var ze=i(3577);const qe=e=>((0,a.dD)("data-v-45f8bc1e"),e=e(),(0,a.Cn)(),e),Oe={class:"feature col"},Fe={class:"feature-icon"},We=["src"],Ze={style:{color:"#00a100"}},Me=["href"],Ve=qe((()=>(0,a._)("i",{style:{"margin-left":"5px"},class:"fa-solid fa-arrow-right"},null,-1)));function Re(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",Oe,[(0,a._)("div",Fe,[(0,a._)("img",{src:r.getImgUrl(i.image),alt:""},null,8,We)]),(0,a._)("h2",Ze,(0,ze.zw)(i.title),1),(0,a._)("p",null,(0,ze.zw)(i.text),1),i.link?((0,a.wg)(),(0,a.iD)("a",{key:0,href:i.link,class:"icon-link",style:{"text-decoration":"underline"}},[(0,a.Uk)((0,ze.zw)(i.linkTitle)+" ",1),Ve],8,Me)):(0,a.kq)("",!0)])}var Ne={name:"CompanyTile",props:["left","forCompanies","title","image","text","link","linkTitle"],methods:{getImgUrl(e){var t=i(5203);return t("./"+e)}}};const Ke=(0,P.Z)(Ne,[["render",Re],["__scopeId","data-v-45f8bc1e"]]);var Ge=Ke,je={name:"FeatureSection",components:{FeatureTile:Ge},data(){return{businessUrl:"https://business.schillerando.de",mainUrl:"https://schillerando.de"}}};const $e=(0,P.Z)(je,[["render",Te],["__scopeId","data-v-622abbb9"]]);var He=$e,Ye={name:"HomeView",components:{HeroSection:we,QuestionsCarousel:xe,FeatureSection:He},data(){return{}}};const Je=(0,P.Z)(Ye,[["render",le]]);var Qe=Je;const Xe={key:1},et={class:"list"};function tt(e,t,i,s,n,r){const o=(0,a.up)("EditProductOverlay"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("ProductTile");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.newProduct?((0,a.wg)(),(0,a.j4)(o,{key:0,registration:!1,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct())})):(0,a.kq)("",!0),(0,a.Wm)(l,{title:"Produkte"}),(0,a._)("button",{class:"btn btn-primary mb-4 add-product",onClick:t[2]||(t[2]=e=>r.addProduct())}," Produkt hinzufügen "),n.products.length>0?((0,a.wg)(),(0,a.iD)("div",Xe,[(0,a._)("div",et,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(c,{data:e,onDeleteProduct:t[3]||(t[3]=e=>r.deleteProduct(e))},null,8,["data"])])))),128)),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(2,(e=>(0,a._)("div",{key:e}))),64))])])):(0,a.kq)("",!0)],64)}var it=i(9802);const st="https://jwfyrkfpqfkzovzdpkqt.supabase.co",at="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3Znlya2ZwcWZrem92emRwa3F0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzkyNDg4MjcsImV4cCI6MTk5NDgyNDgyN30.ECsAuWRN08LWBqJZqa4v3Qmnx03N8wkGrTRgVMotCS8",nt=(0,it.eI)(st,at),rt={id:"title"},ot={class:"container-fluid"},lt={class:"title"};function ct(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",rt,[(0,a._)("div",ot,[(0,a._)("h1",lt,(0,ze.zw)(i.title),1)])])}var dt={name:"TitleDiv",props:{title:String}};const ut=(0,P.Z)(dt,[["render",ct],["__scopeId","data-v-e14251b2"]]);var mt=ut;const pt=e=>((0,a.dD)("data-v-0f883665"),e=e(),(0,a.Cn)(),e),ht={class:"card"},gt={class:"image"},vt={key:0,class:"no-image"},ft=pt((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),bt=[ft],yt=["src"],_t={class:"info"},wt={class:"row"},kt={class:"col col-9"},At={class:"name"},Ct={class:"category"},Pt={class:"col col-3"},Et=pt((()=>(0,a._)("i",{class:"fa-solid fa-pen-to-square fa-lg"},null,-1))),Dt=[Et],xt={class:"description"},St={class:"price"},Bt={class:"settings"},It={key:0,class:"fa-solid fa-truck fa-lg"},Lt={key:1,class:"fa-solid fa-lock fa-lg"};function Ut(e,t,i,s,n,r){const o=(0,a.up)("EditProductOverlay");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.edit?((0,a.wg)(),(0,a.j4)(o,{key:0,registration:i.registration,data:s.product,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct(e))},null,8,["registration","data"])):(0,a.kq)("",!0),(0,a._)("div",ht,[(0,a._)("div",gt,[null==this.picture?((0,a.wg)(),(0,a.iD)("div",vt,bt)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.picture,alt:""},null,8,yt))]),(0,a._)("div",_t,[(0,a._)("div",wt,[(0,a._)("div",kt,[(0,a._)("p",At,(0,ze.zw)(s.product.name),1),(0,a._)("p",Ct,(0,ze.zw)(s.product.categories[0]),1)]),(0,a._)("div",Pt,[(0,a._)("button",{onClick:t[2]||(t[2]=e=>n.edit=!0),class:"btn btn-primary"},Dt)])]),(0,a._)("p",xt,(0,ze.zw)(s.product.info),1),(0,a._)("p",St,(0,ze.zw)(s.product.price)+" $",1),(0,a._)("div",Bt,[s.product.delivery?((0,a.wg)(),(0,a.iD)("i",It)):(0,a.kq)("",!0),s.product.public?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",Lt))])])])],64)}const Tt=e=>((0,a.dD)("data-v-25b17de9"),e=e(),(0,a.Cn)(),e),zt={class:"overlay"},qt={class:"card"},Ot={class:"card-header"},Ft=Tt((()=>(0,a._)("h4",{class:"card-title"},"Produkt",-1))),Wt={class:"card-body scroll"},Zt={class:"image"},Mt={key:0,class:"no-image"},Vt=Tt((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),Rt=[Vt],Nt=["src"],Kt={key:0,style:{"font-weight":"300","font-size":"0.9rem"}},Gt={class:"needs-validation",novalidate:""},jt={class:"input-group mb-3"},$t=Tt((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-box-open"})],-1))),Ht=["value"],Yt={class:"input-group mb-3"},Jt=Tt((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-dollar-sign"})],-1))),Qt=["value"],Xt={class:"input-group mb-3"},ei=Tt((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),ti=["value"],ii=(0,a.uE)('<option selected data-v-25b17de9>Kategorie</option><option value="Essen" data-v-25b17de9>Essen</option><option value="Trinken" data-v-25b17de9>Trinken</option><option value="Dienstleistung" data-v-25b17de9>Dienstleistung</option><option value="Gegenstand" data-v-25b17de9>Gegenstand</option><option value="Aktivität" data-v-25b17de9> Aktivität </option><option value="Event" data-v-25b17de9> Event </option><option value="Sonstiges" data-v-25b17de9> Sonstiges </option>',8),si=[ii],ai={class:"input-group mb-3"},ni=Tt((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),ri=["value"],oi={class:"switches"},li={class:"form-check form-switch"},ci=["checked"],di=Tt((()=>(0,a._)("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},"Lieferbar",-1))),ui={class:"form-check form-switch"},mi=["checked"],pi=Tt((()=>(0,a._)("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Privat (nur für Buchhaltung)",-1))),hi={class:"card-footer"},gi={key:1,class:"confirm"},vi=Tt((()=>(0,a._)("i",{class:"fa-solid fa-check fa-lg"},null,-1))),fi=[vi],bi=Tt((()=>(0,a._)("i",{class:"fa-solid fa-xmark fa-lg"},null,-1))),yi=[bi];function _i(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",zt,[(0,a._)("div",qt,[(0,a._)("div",Ot,[(0,a._)("div",null,[Ft,(0,a._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=e=>r.stopEditingProduct())})])]),(0,a._)("div",Wt,[(0,a._)("div",Zt,[null==s.product.image?((0,a.wg)(),(0,a.iD)("div",Mt,Rt)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.product.image,alt:"Unternehmen Bild",id:"productImage"},null,8,Nt))]),(0,a._)("input",{class:"form-control form-control-sm col-7",type:"file",id:"formFile",accept:"image/*",onChange:t[1]||(t[1]=e=>r.imageInput())},null,32),null==s.product.image?((0,a.wg)(),(0,a.iD)("p",Kt,"Füge ein Bild hinzu, welches dein Produkt repräsentiert. (Optimales Format 1:1)")):(0,a.kq)("",!0),(0,a._)("form",Gt,[(0,a._)("div",jt,[$t,(0,a._)("input",{type:"text",id:"product-name",class:"form-control",onInput:t[2]||(t[2]=e=>r.validateProduct(!1)),placeholder:"Name",value:s.product.name,required:""},null,40,Ht)]),(0,a._)("div",Yt,[Jt,(0,a._)("input",{type:"number",id:"product-price",class:"form-control",onInput:t[3]||(t[3]=e=>r.validateProduct(!1)),placeholder:"Preis",value:s.product.price,required:""},null,40,Qt)]),(0,a._)("div",Xt,[ei,(0,a._)("select",{class:"form-select",id:"product-category","aria-label":"Default select example",value:s.product.categories[0],onChange:t[4]||(t[4]=e=>r.validateProduct(!1))},si,40,ti)]),(0,a._)("div",ai,[ni,(0,a._)("textarea",{type:"text",id:"product-info",class:"form-control",onInput:t[5]||(t[5]=e=>r.validateProduct(!1)),placeholder:"Beschreibung",required:"",maxlength:"200",style:{resize:"none"},rows:"5",cols:"50",value:s.product.info},null,40,ri)]),(0,a._)("div",oi,[(0,a._)("div",li,[(0,a._)("input",{onClick:t[6]||(t[6]=(...e)=>r.switchDelivery&&r.switchDelivery(...e)),checked:s.product.delivery,class:"form-check-input",type:"checkbox",role:"switch",id:"deliverySwitch"},null,8,ci),di]),(0,a._)("div",ui,[(0,a._)("input",{onClick:t[7]||(t[7]=(...e)=>r.switchPrivate&&r.switchPrivate(...e)),checked:!s.product.public,class:"form-check-input",type:"checkbox",role:"switch",id:"privateSwitch"},null,8,mi),pi])])])]),(0,a._)("div",hi,[(0,a._)("button",{class:"btn btn-primary save-button",onClick:t[8]||(t[8]=e=>r.validateProduct(!0))},"Speichern"),this.delete||""==s.initialProduct.name?this.delete&&""!=s.initialProduct.name?((0,a.wg)(),(0,a.iD)("div",gi,[(0,a._)("button",{class:"btn btn-primary confirm-button",onClick:t[10]||(t[10]=e=>r.deleteProduct())},fi),(0,a._)("button",{class:"btn btn-danger confirm-button",onClick:t[11]||(t[11]=e=>this.delete=!1)},yi)])):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-danger delete-button",onClick:t[9]||(t[9]=e=>this.delete=!0)},"Löschen"))])])])],64)}var wi=i(2262);const ki={class:"modal fade",id:"alertModal",tabindex:"-1","aria-labelledby":"alertPopupLabel","aria-hidden":"true"},Ai={class:"modal-dialog"},Ci={class:"modal-content"},Pi={class:"modal-header"},Ei={class:"modal-title fs-5",id:"alertPopupLabel"},Di={class:"modal-body"},xi=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Schließen ")],-1);function Si(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",ki,[(0,a._)("div",Ai,[(0,a._)("div",Ci,[(0,a._)("div",Pi,[(0,a._)("h1",Ei,(0,ze.zw)(i.title),1)]),(0,a._)("div",Di,[(0,a._)("p",null,(0,ze.zw)(i.info),1)]),xi])])])}var Bi={name:"AlertPopup",data(){return{show:!1}},props:{title:String,info:String}};const Ii=(0,P.Z)(Bi,[["render",Si]]);var Li=Ii,Ui=i(7632),Ti={name:"EditProductOverlay",props:["data","edit","registration"],components:{AlertPopup:Li},emits:["stopEditingProduct","deleteProduct"],data(){return{continuePressed:!1,alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!",delete:!1}},setup(){var e=(0,wi.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""}),t=(0,wi.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""});const i=(0,K.oR)();return{store:i,product:e,initialProduct:t}},mounted(){null!=this.data?(this.product.id=this.data.id,this.product.name=this.data.name,this.product.categories=this.data.categories,this.product.info=this.data.info,this.product.price=this.data.price,this.product.imageBefore=this.data.image,this.product.image=this.data.image,this.product.delivery=this.data.delivery,this.product.public=this.data.public,this.product.product_picture=this.data.product_picture,this.initialProduct.id=this.data.id,this.initialProduct.name=this.data.name,this.initialProduct.categories=this.data.categories,this.initialProduct.info=this.data.info,this.initialProduct.price=this.data.price,this.initialProduct.imageBefore=this.data.image,this.initialProduct.image=this.data.image,this.initialProduct.delivery=this.data.delivery,this.initialProduct.public=this.data.public,this.initialProduct.product_picture=this.data.product_picture):(this.product.id=(0,Ui.Z)(),this.initialProduct.id=this.product.id)},computed:{...(0,K.Se)(["getState"])},watch:{getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e)Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""!=this.alertTitle&&(s=new U.Modal(document.getElementById("alertModal"),{}),s.show()),this.stopEditingProduct();else if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""!=this.alertTitle){var s=new U.Modal(document.getElementById("alertModal"),{});s.show()}}},methods:{async stopEditingProduct(){if(!this.registration){const e=this.store.getters.getCurrentProduct;if(this.store.commit("setCurrentProduct",null),null!=e){if(this.product.id=e.id,this.product.name=e.name,this.product.categories=e.categories,this.product.info=e.info,this.product.price=e.price,this.product.delivery=e.delivery,this.product.public=e.public,this.product.product_picture=e.product_picture,null!=e.product_picture){const t=await nt.storage.from("public/products-pictures").download(e.product_picture);null!=t.data&&(this.product.image=await t.data.text(),this.product.initialImage=this.product.image),t.error&&console.warn(t.error)}}else this.product=null}this.$emit("stopEditingProduct",this.product)},switchDelivery(){this.product.delivery=!this.product.delivery,this.product.public=!!this.product.delivery||this.product.public},switchPrivate(){this.product.public=!this.product.public,this.product.delivery=!!this.product.public&&this.product.delivery},deleteProduct(){this.$emit("deleteProduct",this.product)},imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.product.image=e.target.result},t.readAsDataURL(e.files[0])}},async validateProduct(e){var t=document.getElementById("product-name"),i=document.getElementById("product-price"),s=document.getElementById("product-category"),a=document.getElementById("product-info");if(this.product.name=t.value,this.product.price=i.value,this.product.info=a.value,this.product.categories=[s.value],e||this.continuePressed){e&&(t.value=t.value.trim()),e&&(a.value=a.value.trim());var n=!0;t.value.trim().length<3?(t.classList.remove("is-valid"),t.classList.add("is-invalid"),n=!1):(t.classList.remove("is-invalid"),t.classList.add("is-valid")),i.value<0||i.value>9999?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),n=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),"Kategorie"==s.value?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),n=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),a.value.trim().length<5?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),n=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),this.continuePressed=!0,n&&e&&(this.initialProduct==this.product?this.stopEditingProduct():(this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Aktualisieren des Produkts ist ein Fehler aufgetreten. Versuche es später erneut.",this.successAlertTitle="",this.registration?this.stopEditingProduct():""==this.initialProduct.name?this.store.dispatch("addProduct",this.product):this.store.dispatch("updateProduct",this.product)))}}}};const zi=(0,P.Z)(Ti,[["render",_i],["__scopeId","data-v-25b17de9"]]);var qi=zi,Oi={name:"ProductTile",props:["data","registration"],components:{EditProductOverlay:qi},emits:["deleteProduct","editProduct"],data(){return{edit:!1,picture:null}},setup(){var e=(0,wi.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""});return{product:e}},async mounted(){if(null!=this.data)if(this.product.id=this.data.id,this.product.name=this.data.name,this.product.categories=this.data.categories,this.product.info=this.data.info,this.product.price=this.data.price,this.product.delivery=this.data.delivery,this.product.public=this.data.public,this.product.product_picture=this.data.product_picture,this.registration)this.product.image=this.data.image,this.product.imageBefore=this.data.image,this.picture=this.data.image;else if(null!=this.data.product_picture){const e=await nt.storage.from("public/products-pictures").download(this.data.product_picture);null!=e.data&&(this.product.image=await e.data.text(),this.product.imageBefore=this.product.image,this.picture=this.product.image),e.error&&console.warn(e.error)}else null!=this.data.image&&(this.product.image=this.data.image,this.product.imageBefore=this.data.image,this.picture=this.data.image)},methods:{stopEditingProduct(e){this.edit=!1,null!=e&&(this.product=e,this.picture=e.image,this.registration&&this.$emit("editProduct",e))},deleteProduct(e){this.edit=!1,this.$emit("deleteProduct",e)}}};const Fi=(0,P.Z)(Oi,[["render",Ut],["__scopeId","data-v-0f883665"]]);var Wi=Fi,Zi={name:"ProductView",components:{TitleDiv:mt,ProductTile:Wi,EditProductOverlay:qi},setup(){const e=(0,K.oR)(),t=(0,a.Fl)((()=>e.state.userCompany));return{store:e,companyData:t}},data(){return{products:[],newProduct:!1}},async created(){const{data:e,error:t}=await nt.from("products").select().eq("company_id",this.companyData.id);if(t)throw t;this.products=e.sort(((e,t)=>e.name.localeCompare(t.name)))},methods:{deleteProduct(e){this.newProduct=!1;var t=this.products.findIndex((t=>t.id==e.id));this.products.splice(t,1),this.store.dispatch("deleteProduct",e)},stopEditingProduct(e){this.newProduct=!1,null!=e&&this.products.push(e)},addProduct(){this.newProduct=!0}}};const Mi=(0,P.Z)(Zi,[["render",tt],["__scopeId","data-v-29bbca96"]]);var Vi=Mi;function Ri(e,t,i,s,n,r){const o=(0,a.up)("AlertBanner"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("InfoDiv");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{title:"Coming Soon"}),(0,a.Wm)(l,{title:"Services"}),(0,a.Wm)(c,{info:"Hier hast du in Zukunft eine Übersicht über alle Services, die Schillerando anbietet. Du kannst Services wie Lieferung von Waren aus dem Ausland oder Müllentsorgung buchen. Außerdem kannst du die Hilfe eines Schillerando Mitarbeiters anfordern, wenn du Probleme mit der Verwaltung deines Unternehmens oder der Buchhaltung hast."})],64)}const Ni={class:"container-fluid"};function Ki(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",Ni,[(0,a._)("p",null,(0,ze.zw)(i.info),1)])}var Gi={name:"InfoDiv",props:{info:String}};const ji=(0,P.Z)(Gi,[["render",Ki],["__scopeId","data-v-7cea1aa2"]]);var $i=ji;const Hi={id:"banner"},Yi={class:"container-fluid"},Ji={class:"banner"};function Qi(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",Hi,[(0,a._)("div",Yi,[(0,a._)("h1",Ji,(0,ze.zw)(i.title),1)])])}var Xi={name:"AlertBanner",props:{title:String}};const es=(0,P.Z)(Xi,[["render",Qi],["__scopeId","data-v-1c984a72"]]);var ts=es,is={name:"ServiceView",components:{TitleDiv:mt,AlertBanner:ts,InfoDiv:$i}};const ss=(0,P.Z)(is,[["render",Ri]]);var as=ss;const ns=e=>((0,a.dD)("data-v-bbc38be0"),e=e(),(0,a.Cn)(),e),rs={class:"container"},os={class:"row"},ls={class:"col-12"},cs={key:0,class:"alert alert-warning",role:"alert"},ds={class:"col-lg-8"},us={class:"card m-1"},ms=ns((()=>(0,a._)("div",{class:"card-header"},"Informationen",-1))),ps={class:"card-body"},hs={class:"image"},gs={key:0,class:"no-image"},vs=ns((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),fs=[vs],bs=["src"],ys=["disabled"],_s={class:"needs-validation",novalidate:""},ws={class:"input-group mb-3"},ks=ns((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-shop"})],-1))),As=["value","disabled"],Cs={class:"input-group mb-3"},Ps=ns((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-location-dot"})],-1))),Es=["value","disabled"],Ds={class:"input-group mb-3"},xs=ns((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),Ss=["value","disabled"],Bs=(0,a.uE)('<option selected data-v-bbc38be0>Kategorie</option><option value="Gastronomie" data-v-bbc38be0>Gastronomie</option><option value="Kultur" data-v-bbc38be0>Kultur</option><option value="Dienstleistung" data-v-bbc38be0> Dienstleistung </option><option style="color:red;" value="Gastronomie &amp; Dienstleistung" data-v-bbc38be0> Gastronomie &amp; Dienstleistung </option>',5),Is=[Bs],Ls={class:"input-group mb-3"},Us=ns((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),Ts=["value","disabled"],zs={key:0,class:"py-2",style:{width:"fit-content"}},qs={key:1,style:{display:"flex"}},Os={class:"py-2 mx-0 edit-buttons"},Fs=ns((()=>(0,a._)("div",{class:"loading-button"},"Speichern",-1))),Ws=ns((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Zs=[Fs,Ws],Ms={class:"py-2 mx-0 edit-buttons"},Vs={class:"col-lg-4"},Rs={class:"card m-1"},Ns=ns((()=>(0,a._)("div",{class:"card-header"},"Mitarbeiter",-1))),Ks={class:"card-body"},Gs={class:"input-group mb-3"},js=ns((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa fa-envelope"})],-1))),$s=["value","disabled","onInput"],Hs=["onClick"],Ys=ns((()=>(0,a._)("i",{class:"fa fa-trash"},null,-1))),Js=[Ys],Qs={key:0},Xs={key:0,class:"py-2",style:{width:"fit-content"}},ea={key:1},ta={style:{display:"flex"}},ia={class:"py-2 mx-0 edit-buttons"},sa=ns((()=>(0,a._)("div",{class:"loading-button"},"Speichern",-1))),aa=ns((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),na=[sa,aa],ra={class:"py-2 mx-0 edit-buttons"};function oa(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",rs,[(0,a._)("div",os,[(0,a._)("div",ls,[0==s.companyData.verified?((0,a.wg)(),(0,a.iD)("div",cs," Dein Unternehmen wird noch überprüft. Erst nach Bestätigung werden dein Unternehmen und seine Produkte auf schillerando.de zu sehen sein. ")):(0,a.kq)("",!0)]),(0,a._)("div",ds,[(0,a._)("div",us,[ms,(0,a._)("div",ps,[(0,a._)("div",hs,[null==s.form.image?((0,a.wg)(),(0,a.iD)("div",gs,fs)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.form.image,alt:"Unternehmen Bild",id:"companyImage"},null,8,bs))]),(0,a._)("input",{class:"form-control form-control-sm mb-4",type:"file",id:"formFile",accept:"image/*",onChange:t[0]||(t[0]=e=>r.imageInput()),disabled:!n.isCompanyEditing},null,40,ys),(0,a._)("form",_s,[(0,a._)("div",ws,[ks,(0,a._)("input",{type:"text",id:"company-name",class:"form-control",placeholder:"Name",onInput:t[1]||(t[1]=e=>r.validateCompanyChange(!1)),value:s.companyData.name,disabled:!n.isCompanyEditing,required:""},null,40,As)]),(0,a._)("div",Cs,[Ps,(0,a._)("input",{type:"text",id:"company-location",class:"form-control",placeholder:"Raum, Pausenhof, ...",onInput:t[2]||(t[2]=e=>r.validateCompanyChange(!1)),value:s.companyData.location,disabled:!n.isCompanyEditing,required:""},null,40,Es)]),(0,a._)("div",Ds,[xs,(0,a._)("select",{class:"form-select",id:"company-category","aria-label":"Default select example",value:s.companyData.categories[0],onChange:t[3]||(t[3]=e=>r.validateCompanyChange(!1)),disabled:!n.isCompanyEditing,required:"",color:{isCompanyEditing:"red"}},Is,40,Ss)]),(0,a._)("div",Ls,[Us,(0,a._)("textarea",{type:"text",id:"company-info",class:"form-control",placeholder:"Beschreibung",required:"",maxlength:"400",style:{resize:"none"},rows:"5",cols:"50",onInput:t[4]||(t[4]=e=>r.validateCompanyChange(!1)),value:s.companyData.info,disabled:!n.isCompanyEditing},null,40,Ts)])]),n.isCompanyEditing?((0,a.wg)(),(0,a.iD)("div",qs,[(0,a._)("div",Os,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[6]||(t[6]=e=>r.validateCompanyChange(!0))},Zs)]),(0,a._)("div",Ms,[(0,a._)("button",{type:"button",class:"btn btn-warning px-2 mx-2",onClick:t[7]||(t[7]=e=>r.cancelCompanyChange())}," Abbrechen ")])])):((0,a.wg)(),(0,a.iD)("div",zs,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[5]||(t[5]=e=>r.editCompany())}," Bearbeiten ")]))])])]),(0,a._)("div",Vs,[(0,a._)("div",Rs,[Ns,(0,a._)("div",Ks,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.employees,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a._)("div",Gs,[js,(0,a._)("input",{type:"email",class:"form-control employees-mail",placeholder:"Email","data-regex":"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",value:n.employees[t],disabled:!n.isEmployeesEditing,required:"",onInput:e=>r.validateEmployeesChange(!1,t)},null,40,$s),n.isEmployeesEditing?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"input-group-text",onClick:e=>n.employees.splice(t,1)},Js,8,Hs)):(0,a.kq)("",!0)])])))),128)),s.userData.user_metadata.isCompanyLeader?((0,a.wg)(),(0,a.iD)("div",Qs,[n.isEmployeesEditing?((0,a.wg)(),(0,a.iD)("div",ea,[this.employees.length<6?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[9]||(t[9]=e=>r.addEmployee()),class:"btn btn-primary my-4",style:{width:"max-content",display:"block"}}," Mitarbeiter hinzufügen ")):(0,a.kq)("",!0),(0,a._)("div",ta,[(0,a._)("div",ia,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[10]||(t[10]=e=>r.validateEmployeesChange(!0,0))},na)]),(0,a._)("div",ra,[(0,a._)("button",{type:"button",class:"btn btn-warning px-2 mx-2",onClick:t[11]||(t[11]=e=>r.cancelEmployeesChange())}," Abbrechen ")])])])):((0,a.wg)(),(0,a.iD)("div",Xs,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[8]||(t[8]=e=>r.editEmployees())}," Bearbeiten ")]))])):(0,a.kq)("",!0)])])])])])])}var la={name:"SettingsView",components:{AlertPopup:Li},data(){return{isCompanyEditing:!1,isEmployeesEditing:!1,saveCompanyPressed:!1,saveEmployeesPressed:!1,employees:[],alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!"}},computed:{...(0,K.Se)(["getState"])},setup(){const e=(0,K.oR)(),t=(0,a.Fl)((()=>e.state.user)),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,wi.qj)({name:"",location:"",category:"Kategorie",info:"",employees:[""],image:null,unchangedImage:null});return{store:e,userData:t,companyData:i,form:s}},watch:{companyData:function(){const e=this.companyData.employees;e.forEach(((e,t)=>{this.employees[t]=e}))},getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new U.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new U.Modal(document.getElementById("alertModal"),{});s.show()}}},async created(){this.employees=this.companyData.employees},async mounted(){if(null!=this.companyData.header_picture){const e=await nt.storage.from("public/sellers-headings").download(this.companyData.header_picture);null!=e.data&&(this.form.image=await e.data.text(),this.form.unchangedImage=await e.data.text()),e.error&&console.warn(e.error)}},methods:{imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.form.image=e.target.result},t.readAsDataURL(e.files[0])}},addEmployee(){var e=document.getElementsByClassName("employees-mail"),t=0;Array.from(e).forEach((e=>{this.employees[t]=e.value,e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t++})),this.employees.push("")},cancelChanges(){this.cancelCompanyChange()},editCompany(){this.isCompanyEditing=!0;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");e.disabled=!1,t.disabled=!1,i.disabled=!1,s.disabled=!1},editEmployees(){this.isEmployeesEditing=!0;var e=document.getElementsByClassName("employees-mail");Array.from(e).forEach((e=>{e.disabled=!1}))},async validateCompanyChange(e){if(e||this.saveCompanyPressed){var t=document.getElementById("company-name"),i=document.getElementById("company-location"),s=document.getElementById("company-category"),a=document.getElementById("company-info");e&&(t.value=t.value.trim()),e&&(i.value=i.value.trim()),e&&(a.value=a.value.trim());var n=!0;if(t.value.trim().length<3?(t.classList.remove("is-valid"),t.classList.add("is-invalid"),n=!1):(t.classList.remove("is-invalid"),t.classList.add("is-valid")),i.value.trim().length<3||i.value.trim().length>40?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),n=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),"Kategorie"==s.value?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),n=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),a.value.trim().length<10?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),n=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),this.saveCompanyPressed=!0,n&&e){if(this.store.commit("setState","loading"),t.value.replace(/\s/g,"").toLowerCase()!=this.companyData.alias){const{data:e,error:n}=await nt.from("companies").select().eq("alias",t.value.replace(/\s/g,"").toLowerCase());if(n||null!=e[0])return t.classList.remove("is-valid"),t.classList.add("is-invalid"),this.form.name=t.value,this.form.location=i.value,this.form.category=s.value,this.form.info=a.value,this.failureAlertTitle="Name schon vergeben",this.failureAlertInfo="Es gibt bereits ein Unternehmen mit diesem Namen. Bitte wähle einen anderen!",void this.store.commit("setState","failure")}this.form.name=t.value,this.form.location=i.value,this.form.info=a.value,this.form.category=s.value,this.saveCompany()}}},validateEmployeesChange(e,t){if(e||this.saveEmployeesPressed){var i=document.getElementsByClassName("employees-mail"),s=i[t].getAttribute("data-regex"),a=!0;e?Array.from(i).forEach((e=>{e.value.match(s)?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),a=!1)})):i[t].value.match(s)?(i[t].classList.remove("is-invalid"),i[t].classList.add("is-valid")):(i[t].classList.remove("is-valid"),i[t].classList.add("is-invalid"),a=!1),this.saveEmployeesPressed=!0,a&&e&&this.saveEmployees()}},async saveCompany(){try{this.isCompanyEditing=!1,this.saveCompanyPressed=!1;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");console.log(this.companyData),console.log(this.form);const{data:r,error:o}=await nt.from("companies").update({alias:this.form.name.replace(/\s/g,"").toLowerCase(),name:this.form.name,categories:[this.form.category],location:this.form.location,info:this.form.info}).eq("id",this.companyData.id).select();if(console.log(r),console.log(o),o)throw o;if(null!=this.form.image&&this.form.image!=this.form.unchangedImage){{const{error:e}=await nt.storage.from("sellers-headings").remove([r[0].header_picture]);if(e)throw e}var a=this.form.image.substring(this.form.image.indexOf(":"),this.form.image.indexOf(";")).replace(":",""),n=r[0].id+"."+a.split("/")[1];{const{error:e}=await nt.storage.from("sellers-headings").upload(n,this.form.image,{cacheControl:"3600",upsert:!0,contentType:a});if(e)throw e}{const{error:e}=await nt.from("companies").update({header_picture:n}).eq("id",r[0].id);if(e)throw e}}this.successAlertTitle="",this.store.commit("setState","success"),e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t.classList.remove("is-valid"),t.classList.remove("is-invalid"),i.classList.remove("is-valid"),i.classList.remove("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid")}catch(r){this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Ändern der Unternehmens-Daten ist ein Fehler aufgetreten!",this.store.commit("setState","failure"),this.cancelCompanyChange(),console.log(r.error_description||r.message)}},async saveEmployees(){try{const t=[];var e=document.getElementsByClassName("employees-mail");if(Array.from(e).forEach((e=>{""!=e.value&&t.push(e.value),e.classList.remove("is-valid"),e.classList.remove("is-invalid")})),JSON.stringify(t)!=JSON.stringify(this.companyData.employees)){const{error:e}=await nt.from("companies").update({employees:t}).eq("user_uid",this.userData.id);if(e)throw e}this.isEmployeesEditing=!1,this.saveEmployeesPressed=!1,Array.from(e).forEach((e=>{e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}catch(t){this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Ändern der Mitarbeiter ist ein Fehler aufgetreten!",this.store.commit("setState","failure"),this.cancelEmployeesChange(),console.log(t.error_description||t.message)}},cancelCompanyChange(){this.isCompanyEditing=!1,this.saveCompanyPressed=!1;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");e.value=this.companyData.name,t.value=this.companyData.location,i.value=this.companyData.categories[0],s.value=this.companyData.info,e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t.classList.remove("is-valid"),t.classList.remove("is-invalid"),i.classList.remove("is-valid"),i.classList.remove("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid")},cancelEmployeesChange(){this.isEmployeesEditing=!1,this.saveEmployeesPressed=!1,this.employees=this.companyData.employees.filter((e=>""!=e)),console.log(this.employees);var e=document.getElementsByClassName("employees-mail"),t=0;Array.from(e).forEach((e=>{e.value=this.employees[t],e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t++}))}}};const ca=(0,P.Z)(la,[["render",oa],["__scopeId","data-v-bbc38be0"]]);var da=ca;const ua=e=>((0,a.dD)("data-v-78083aec"),e=e(),(0,a.Cn)(),e),ma={class:"container"},pa={class:"row justify-content-center"},ha={class:"mb-4"},ga={class:"card container-card p-4 pb-0"},va={class:"card-body"},fa=ua((()=>(0,a._)("h1",null,"Unternehmen Registrierung",-1))),ba=ua((()=>(0,a._)("p",{class:"text-muted"}," Registriere dein Unternehmen auf Schillerando ",-1))),ya={key:0,class:"row"},_a={class:"col-md-4"},wa={class:"image"},ka={key:0,class:"no-image"},Aa=ua((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),Ca=[Aa],Pa=["src"],Ea=ua((()=>(0,a._)("p",{style:{"font-weight":"300","font-size":"0.9rem"}},"Füge ein Bild hinzu, welches dein Unternehmen repräsentiert. (Optimales Format 16:9)",-1))),Da={class:"col-md-8"},xa={class:"needs-validation",novalidate:""},Sa={class:"input-group mb-3"},Ba=ua((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-shop"})],-1))),Ia=["value"],La={class:"input-group mb-3"},Ua=ua((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-location-dot"})],-1))),Ta=["value"],za={class:"input-group mb-3"},qa=ua((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),Oa=["value"],Fa=(0,a.uE)('<option selected data-v-78083aec>Kategorie</option><option value="Gastronomie" data-v-78083aec>Gastronomie</option><option value="Kultur" data-v-78083aec>Kultur</option><option value="Dienstleistung" data-v-78083aec>Dienstleistung</option><option value="Gastronomie &amp; Dienstleistung" data-v-78083aec> Gastronomie &amp; Dienstleistung </option>',5),Wa=[Fa],Za={class:"input-group mb-3"},Ma=ua((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),Va=["value"],Ra={key:1},Na=ua((()=>(0,a._)("h5",{class:"pt-4"}," Füge Mitarbeiter hinzu, damit sie bei der Verwaltung deines Unternehmens helfen können! ",-1))),Ka={class:"py-3 row"},Ga={class:"input-group mb-3"},ja=ua((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa fa-envelope"})],-1))),$a=["value"],Ha=ua((()=>(0,a._)("div",{class:"loading-button"},"Mitarbeiter hinzufügen",-1))),Ya=ua((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Ja=[Ha,Ya],Qa={key:2},Xa=ua((()=>(0,a._)("h4",null,"Produkte hinzufügen",-1))),en={class:"list"},tn=ua((()=>(0,a._)("div",{class:"loading-button"},"Produkt hinzufügen",-1))),sn=ua((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),an=[tn,sn],nn={key:3},rn=ua((()=>(0,a._)("h4",{class:"pt-4"},"Abo wählen",-1))),on={key:4},ln=ua((()=>(0,a._)("h4",null,"Bedingungen",-1))),cn={class:"card mb-4 p-4",style:{"overflow-y":"scroll",height:"400px"}},dn={class:"form-check mb-4"},un=ua((()=>(0,a._)("label",{class:"form-check-label",for:"acceptCheck"}," Bedingungen akzeptieren ",-1))),mn={style:{height:"80px"}},pn={key:0,class:"back"},hn=ua((()=>(0,a._)("div",null,"Zurück",-1))),gn=[hn],vn={key:1,class:"skip"},fn=ua((()=>(0,a._)("div",{class:"loading-button"},"Später",-1))),bn=ua((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),yn=[fn,bn],_n={key:2,class:"continue"},wn=ua((()=>(0,a._)("div",{class:"loading-button"},"Weiter",-1))),kn=ua((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),An=[wn,kn],Cn={key:3,class:"continue"},Pn=ua((()=>(0,a._)("div",{class:"loading-button"},"Registrieren",-1))),En=ua((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Dn=[Pn,En],xn=ua((()=>(0,a._)("div",{class:"progress-container"},[(0,a._)("div",{class:"progress",style:{height:"20px"}},[(0,a._)("div",{class:"progress-bar",id:"progress",role:"progressbar","aria-label":"Example 20px high",style:{width:"20%"}})])],-1)));function Sn(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup"),l=(0,a.up)("EditProductOverlay"),c=(0,a.up)("ProductTile"),d=(0,a.up)("AboOptions"),u=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),n.newProduct?((0,a.wg)(),(0,a.j4)(l,{key:0,registration:!0,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct())})):(0,a.kq)("",!0),(0,a._)("div",ma,[(0,a._)("div",pa,[(0,a._)("div",ha,[(0,a._)("div",ga,[(0,a._)("div",va,[fa,ba,0==this.page?((0,a.wg)(),(0,a.iD)("div",ya,[(0,a._)("div",_a,[(0,a._)("div",wa,[null==s.form.image?((0,a.wg)(),(0,a.iD)("div",ka,Ca)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.form.image,alt:"Unternehmen Bild",id:"companyImage"},null,8,Pa))]),(0,a._)("input",{class:"form-control form-control-sm col-7",type:"file",id:"formFile",accept:"image/*",onChange:t[2]||(t[2]=e=>r.imageInput())},null,32),Ea]),(0,a._)("div",Da,[(0,a._)("form",xa,[(0,a._)("div",Sa,[Ba,(0,a._)("input",{type:"text",id:"signup-name",class:"form-control",onInput:t[3]||(t[3]=e=>r.validatePage(0,!1)),placeholder:"Name",value:s.form.name,required:""},null,40,Ia)]),(0,a._)("div",La,[Ua,(0,a._)("input",{type:"text",id:"signup-location",class:"form-control",onInput:t[4]||(t[4]=e=>r.validatePage(0,!1)),placeholder:"Raum, Pausenhof, ...",value:s.form.location,required:""},null,40,Ta)]),(0,a._)("div",za,[qa,(0,a._)("select",{class:"form-select",id:"signup-category","aria-label":"Default select example",value:s.form.category,onChange:t[5]||(t[5]=e=>r.validatePage(0,!1))},Wa,40,Oa)]),(0,a._)("div",Za,[Ma,(0,a._)("textarea",{type:"text",id:"signup-info",class:"form-control",onInput:t[6]||(t[6]=e=>r.validatePage(0,!1)),placeholder:"Beschreibung",required:"",maxlength:"400",style:{resize:"none"},rows:"5",cols:"50",value:s.form.info},null,40,Va)])])])])):1==this.page?((0,a.wg)(),(0,a.iD)("div",Ra,[Na,(0,a._)("div",Ka,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.form.employees,((e,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-6",key:e},[(0,a._)("div",Ga,[ja,(0,a._)("input",{type:"email",class:"form-control signup-mail",placeholder:"Email",onInput:t[7]||(t[7]=e=>r.validatePage(1,!1)),"data-regex":"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",value:s.form.employees[i],required:""},null,40,$a)])])))),128))]),this.form.employees.length<6?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[8]||(t[8]=e=>r.addEmployee()),class:"btn btn-primary col-md-9 mb-5",style:{width:"max-content"}},Ja)):(0,a.kq)("",!0)])):2==this.page?((0,a.wg)(),(0,a.iD)("div",Qa,[Xa,(0,a._)("div",en,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.form.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(c,{data:e,registration:!0,onDeleteProduct:t[9]||(t[9]=e=>r.deleteProduct(e)),onEditProduct:t[10]||(t[10]=e=>r.editProduct(e))},null,8,["data"])])))),128)),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(2,(e=>(0,a._)("div",{key:e}))),64))]),(0,a._)("button",{type:"button",onClick:t[11]||(t[11]=e=>r.addProduct()),class:"btn btn-primary col-md-9 mt-3 mb-2",style:{width:"max-content"}},an)])):3==this.page?((0,a.wg)(),(0,a.iD)("div",nn,[rn,(0,a.Wm)(d,{abo:s.form.abo,onChooseAbo:t[12]||(t[12]=e=>r.chooseAbo(e))},null,8,["abo"])])):4==this.page?((0,a.wg)(),(0,a.iD)("div",on,[ln,(0,a._)("div",cn,[(0,a.Wm)(u)]),(0,a._)("div",dn,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"acceptCheck",onChange:t[13]||(t[13]=e=>r.validatePage(4,!1))},null,32),un])])):(0,a.kq)("",!0),(0,a._)("div",mn,[this.page>0?((0,a.wg)(),(0,a.iD)("div",pn,[(0,a._)("button",{type:"button",onClick:t[14]||(t[14]=e=>this.page--),class:"btn btn-secondary"},gn)])):(0,a.kq)("",!0),1==this.page||2==this.page?((0,a.wg)(),(0,a.iD)("div",vn,[(0,a._)("button",{type:"button",onClick:t[15]||(t[15]=e=>r.skipPage()),class:"btn btn-secondary"},yn)])):(0,a.kq)("",!0),4!=this.page?((0,a.wg)(),(0,a.iD)("div",_n,[(0,a._)("button",{type:"button",onClick:t[16]||(t[16]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},An)])):(0,a.kq)("",!0),4==this.page?((0,a.wg)(),(0,a.iD)("div",Cn,[(0,a._)("button",{type:"button",onClick:t[17]||(t[17]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},Dn)])):(0,a.kq)("",!0)])])]),xn])])])])}const Bn=e=>((0,a.dD)("data-v-39f734bc"),e=e(),(0,a.Cn)(),e),In={class:"row abo flex-card"},Ln={class:"col-lg-4"},Un=Bn((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},"Standard")],-1))),Tn={class:"card-body"},zn={class:"list-unstyled mt-3 mb-4"},qn={class:"info-text"},On=Bn((()=>(0,a._)("li",{class:"info-text advantage"},"Kostenlose Buchhaltung",-1))),Fn=Bn((()=>(0,a._)("li",{class:"info-text"},[(0,a.Uk)("Gebührenpflichtige Lieferungen"),(0,a._)("sup",null,"1")],-1))),Wn=Bn((()=>(0,a._)("li",{class:"info-text"},"Gebührenpflichtige Services",-1))),Zn=Bn((()=>(0,a._)("li",{class:"info-text"},"-",-1))),Mn=Bn((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a.Uk)("50$"),(0,a._)("sup",null,"2")])],-1))),Vn={class:"col-lg-4"},Rn=Bn((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},"Delivery")],-1))),Nn={class:"card-body"},Kn={class:"list-unstyled mt-3 mb-4"},Gn={class:"info-text"},jn=Bn((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Buchhaltung",-1))),$n=Bn((()=>(0,a._)("li",{class:"info-text advantage"},"Kostenlose Lieferungen",-1))),Hn=Bn((()=>(0,a._)("li",{class:"info-text"},"Gebührenpflichtige Services",-1))),Yn=Bn((()=>(0,a._)("li",{class:"info-text"},"-",-1))),Jn=Bn((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a.Uk)("100$"),(0,a._)("sup",null,"2")])],-1))),Qn={class:"col-lg-4"},Xn=Bn((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},[(0,a.Uk)("Business "),(0,a._)("span",{style:{"margin-left":"10px","font-weight":"500"},class:"badge text-bg-danger"},"-20%")])],-1))),er={class:"card-body"},tr={class:"list-unstyled mt-3 mb-4"},ir={class:"info-text"},sr=Bn((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Buchhaltung",-1))),ar=Bn((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Lieferungen",-1))),nr=Bn((()=>(0,a._)("li",{class:"info-text advantage"}," Kostenlose Services ",-1))),rr=Bn((()=>(0,a._)("li",{class:"info-text advantage"},"Bevorzugung",-1))),or=Bn((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a._)("span",{style:{"text-decoration":"line-through"}},"200$"),(0,a._)("span",{style:{color:"red","margin-left":"10px"}},"160$"),(0,a._)("sup",null,"2")])],-1))),lr={class:"col-12",style:{"margin-bottom":"40px"}},cr=Bn((()=>(0,a._)("div",{class:"card-body"}," Später auswählen ",-1))),dr=[cr],ur=Bn((()=>(0,a._)("p",{class:"note"},[(0,a._)("sup",null,"1"),(0,a.Uk)(" 10% Lieferkosten pro Bestellung für Unternehmen. Beispiel: Kunde bestellt Cola für 20$ (2€). Schillerando Mitarbeiter geht zu Unternehmen und kauft Cola für 18$ (1.8€). Schillerando Mitarbeiter liefert Cola zum Kunden und bekommt 20$ (2€). Schillerando erhält 2$ (0.20€) Lieferkosten.")],-1))),mr=Bn((()=>(0,a._)("p",{class:"note"},[(0,a._)("sup",null,"2"),(0,a.Uk)(" $ entspricht der Staatswährung (1$ = 0.1€). Das Geld muss am ersten Tag von SAS bei Schillerando abgegeben werden bzw. wird von einem Schillerando Mitarbeiter eingesammelt.")],-1))),pr=Bn((()=>(0,a._)("div",{class:"alert alert-danger",id:"alert-danger",role:"alert"}," Bitte wähle ein Abo aus! ",-1)));function hr(e,t,i,s,n,r){const o=(0,a.up)("CompanyBadge");return(0,a.wg)(),(0,a.iD)("div",In,[(0,a._)("div",Ln,[(0,a._)("div",{class:(0,ze.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Standard"==i.abo}]),onClick:t[0]||(t[0]=e=>r.chooseAbo("Standard"))},[Un,(0,a._)("div",Tn,[(0,a._)("ul",zn,[(0,a._)("li",qn,[(0,a.Wm)(o,{verified:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Schillerando Partner ")]),On,Fn,Wn,Zn])]),Mn],2)]),(0,a._)("div",Vn,[(0,a._)("div",{class:(0,ze.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Delivery"==i.abo}]),onClick:t[1]||(t[1]=e=>r.chooseAbo("Delivery"))},[Rn,(0,a._)("div",Nn,[(0,a._)("ul",Kn,[(0,a._)("li",Gn,[(0,a.Wm)(o,{verified:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Schillerando Partner ")]),jn,$n,Hn,Yn])]),Jn],2)]),(0,a._)("div",Qn,[(0,a._)("div",{class:(0,ze.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Business"==i.abo}]),onClick:t[2]||(t[2]=e=>r.chooseAbo("Business"))},[Xn,(0,a._)("div",er,[(0,a._)("ul",tr,[(0,a._)("li",ir,[(0,a.Wm)(o,{verified:!0,premium:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Premium Partner ")]),sr,ar,nr,rr])]),or],2)]),(0,a._)("div",lr,[(0,a._)("div",{class:(0,ze.C_)(["card mb-3 rounded-3 shadow-sm",{selected:"Later"==i.abo}]),style:{"text-align":"center"},onClick:t[3]||(t[3]=e=>r.chooseAbo("Later"))},dr,2)]),ur,mr,pr])}const gr={key:0,class:"wrapper"},vr={class:"container_row"},fr={key:0,class:"layer2 fa-solid fa-crown fa-xs"},br={key:1,class:"layer2 fa-solid fa-check fa-sm"};function yr(e,t,i,s,n,r){return i.verified||i.premium?((0,a.wg)(),(0,a.iD)("div",gr,[(0,a._)("div",vr,[(0,a._)("i",{class:"layer1 fa-solid fa-certificate fa-xl",style:(0,ze.j5)({color:[i.premium?"#f6b600":"#3798f0"]})},null,4),i.premium?((0,a.wg)(),(0,a.iD)("i",fr)):((0,a.wg)(),(0,a.iD)("i",br))])])):(0,a.kq)("",!0)}var _r={name:"CompanyBadge",props:{verified:Boolean,premium:Boolean},mounted(){Array.from(document.querySelectorAll('a[data-bs-toggle="popover"]')).forEach((e=>new U.Popover(e,{html:!0})))}};const wr=(0,P.Z)(_r,[["render",yr],["__scopeId","data-v-013fe816"]]);var kr=wr,Ar={name:"AboOptions",props:["abo"],components:{CompanyBadge:kr},emits:["chooseAbo"],methods:{chooseAbo(e){this.$emit("chooseAbo",e)}}};const Cr=(0,P.Z)(Ar,[["render",hr],["__scopeId","data-v-39f734bc"]]);var Pr=Cr;const Er=e=>((0,a.dD)("data-v-9cc3105c"),e=e(),(0,a.Cn)(),e),Dr=(0,a.uE)("<h1 data-v-9cc3105c>Allgemeine Geschäftsbedingungen von „Schillerando“ gegenüber Unternehmen</h1><h3 data-v-9cc3105c>§1 Bedingungen gegenüber Unternehmen und Begriffsdefinitionen</h3><p data-v-9cc3105c>(1) Die nachfolgenden Allgemeinen Geschäftsbedingungen gelten für alle Unternehmen, die Waren oder Dienstleistungen über Schillerando erwerben oder verkaufen, im Folgenden auch Auftraggeber genannt, in ihrer zum Zeitpunkt der Bestellung gültigen Fassung. </p><h3 data-v-9cc3105c>§2 Zustandekommen eines Vertrages, Speicherung des Vertragstextes</h3><p data-v-9cc3105c>(1) Die folgenden Regelungen über den Vertragsabschluss gelten für Leistungen von Schillerando gegenüber Unternehmen. Der Auftraggeber verpflichtet sich, im Auftrag seines Unternehmens zu handeln. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Anfallende Kosten werden mit dem Auftraggeber persönlich abgerechnet, sollte sich das angegebene Unternehmen als nicht existent erweisen.</p><h3 data-v-9cc3105c>(3) Im Falle des Vertragsschlusses kommt der Vertrag zwischen</h3><p data-v-9cc3105c>Schillerando<br data-v-9cc3105c> Schulstraße 34<br data-v-9cc3105c> D-71672 Marbach</p><h3 data-v-9cc3105c>Und dem auftraggebenden Unternehmen zustande.</h3>",8),xr=Er((()=>(0,a._)("br",null,null,-1))),Sr=Er((()=>(0,a._)("br",null,null,-1))),Br=["href"],Ir=(0,a.uE)("<h3 data-v-9cc3105c>§3 Preise, Zahlung, Fälligkeit</h3><p data-v-9cc3105c>(1) Im Falle einer Bestellung werden zu liefernde Produkte von einem Schillerando Lieferanten bezahlt. Schillerando rechnet die Kosten eigenständig mit dem Besteller ab. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Der Auftraggeber verpflichtet sich, den vollen Preis einer Dienstleistung zu zahlen. Sollte die Zahlung zum Zeitpunkt der Fertigstellung des gewählten Service noch nicht erfolgt sein, behält sich Schillerando eine Auflösung des Vertrags vor. Hierbei können Strafgebühren für den Auftraggeber anfallen. </p><h3 data-v-9cc3105c>§4 Abonnements</h3><p data-v-9cc3105c>(1) Schillerando bietet drei verschiedene Abonnements für Unternehmen an. Die Anmeldung ist vor und während des Projektes möglich. Beim Abschluss vor Projektstart sind die Gebühren am ersten Tag des Projekts zu bezahlen, bei Abschluss während des Projekts am Tag des Abschlusses. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Folgende Abonnements werden angeboten: <br data-v-9cc3105c><br data-v-9cc3105c> Abo 1 (Standard): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Gebührenpflichtige Lieferungen*<br data-v-9cc3105c> Gebührenpflichtige Services<br data-v-9cc3105c> Kosten: 50$**<br data-v-9cc3105c><br data-v-9cc3105c> Abo 2 (Delivery): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Kostenlose Lieferungen<br data-v-9cc3105c> Gebührenpflichtige Services<br data-v-9cc3105c> Kosten: 100$**<br data-v-9cc3105c><br data-v-9cc3105c> Abo 3 (Business): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Kostenlose Lieferungen<br data-v-9cc3105c> Kostenlose Services<br data-v-9cc3105c> Kosten: 200$**<br data-v-9cc3105c><br data-v-9cc3105c> *Zu Abo 1 (Standard): Bei Abo 1 (Standard) werden 5% Lieferkosten des Bestellwerts fällig. Daher bezahlt der Schillerando Lieferant bei Abholung einer Bestellung 95% der regulären Kosten. <br data-v-9cc3105c><br data-v-9cc3105c> **$ entspricht der Staatswährung, in der die Kosten des ausgewählten Abos bezahlt werden müssen. (1$ ≙ 0,1€)<br data-v-9cc3105c><br data-v-9cc3105c> Sollten die Abokosten nicht zur vereinbarten Frist bezahlt werden, so hält sich Schillerando das Recht vor, alle Anzeigen und Produkte wieder zu entfernen.<br data-v-9cc3105c><br data-v-9cc3105c> Bei zeitlich begrenzten Rabatten auf die Abo Preise, wird der Preis fällig, der zum Zeitpunkt der Auswahl beworben wurde. <br data-v-9cc3105c><br data-v-9cc3105c> (3) Bei Registrierung ohne Abonnement wird das Unternehmen weder im Onlineshop angezeigt noch hat es Zugriff auf Schillerando Business. </p><h3 data-v-9cc3105c>§5 Sonstige Leistungen</h3><p data-v-9cc3105c>(1) Sonstige gewählte Leistungen werden nach Abschluss der Leistung in Rechnung gestellt.</p><h3 data-v-9cc3105c>§6 Vertragssprache</h3><p data-v-9cc3105c>(1) Als Vertragssprache steht ausschließlich Deutsch zur Verfügung.</p><h3 data-v-9cc3105c>§7 Sonstiges</h3><p data-v-9cc3105c>(1) Schillerando gibt keine Garantie, dass durch ein gekauftes Abonnement der Umsatz des Unternehmens steigt.<br data-v-9cc3105c><br data-v-9cc3105c> (2) Die Reihenfolge der Auflistung auf der Schillerando Website kann nicht extern beeinflusst werden und ist nicht veränderbar. </p><h6 data-v-9cc3105c>Stand der AGB: Mai 2023</h6>",11);function Lr(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",null,[Dr,(0,a._)("p",null,[(0,a.Uk)("(3) Die Präsentation der Dienstleistungen stellt kein rechtlich bindendes Vertragsangebot dar, sondern dient lediglich der unverbindlichen Information. Mit der Bestellung des gewünschten Abonnements oder der gewünschten Dienstleistung gibt das Unternehmen ein verbindliches Angebot auf Abschluss eines Kaufvertrages ab. Gültig wird der Vertrag nach Annahme des Angebots durch Schillerando. "),xr,Sr,(0,a.Uk)(" (4) Speicherung des Vertragstextes: Schillerando speichert den Vertragstext, sowie das Einverständnis unserer Kunden. Die AGB kann jederzeit auch unter "),(0,a._)("a",{href:n.businessUrl+"/agb"},"https://www.business.schillerando.de/agb",8,Br),(0,a.Uk)(" eingesehen werden.")]),Ir])}var Ur={name:"AGB",data(){return{businessUrl:"https://business.schillerando.de"}}};const Tr=(0,P.Z)(Ur,[["render",Lr],["__scopeId","data-v-9cc3105c"]]);var zr=Tr,qr={name:"CompanyRegistrationView",components:{AlertPopup:Li,AGB:zr,AboOptions:Pr,EditProductOverlay:qi,ProductTile:Wi},data(){return{page:0,continuePressed:!1,action:"",alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!",newProduct:!1}},computed:{...(0,K.Se)(["getState"])},watch:{page:function(){const e=document.getElementById("progress");e.style.width=20*(this.page+1)+"%"},getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new U.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new U.Modal(document.getElementById("alertModal"),{});s.show(),"register"==this.action&&this.signUpFailure()}}},setup(){const e=(0,wi.qj)({name:"",location:"",category:"Kategorie",info:"",employees:[""],products:[],abo:null}),t=(0,K.oR)();return{store:t,form:e}},methods:{imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.form.image=e.target.result},t.readAsDataURL(e.files[0])}},addEmployee(){var e=document.getElementsByClassName("signup-mail"),t=0;Array.from(e).forEach((e=>{this.form.employees[t]=e.value,t++})),this.form.employees.push("")},addProduct(){this.newProduct=!0},editProduct(e){const t=this.form.products.map((function(e){return e.id})).indexOf(e.id);this.form.products[t]=e},stopEditingProduct(e){null!=e&&""!=e.name&&this.form.products.push(e),this.newProduct=!1},deleteProduct(e){if(null==e)this.newProduct=!1;else{var t=this.form.products.findIndex((t=>t.id==e.id));this.form.products.splice(t,1)}},chooseAbo(e){this.form.abo=e,this.validatePage(3,!1)},skipPage(e){1==e?this.form.employees=[""]:2==e&&(this.form.products=[]),this.page++},async validatePage(e,t){if(0==e){var i=document.getElementById("signup-name"),s=document.getElementById("signup-location"),a=document.getElementById("signup-category"),n=document.getElementById("signup-info");this.form.name=i.value,this.form.location=s.value,this.form.info=n.value,this.form.category=a.value}if(t||this.continuePressed)if(0==e){t&&(i.value=i.value.trim()),t&&(s.value=s.value.trim()),t&&(n.value=n.value.trim());var r=!0;if(i.value.trim().length<3?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),r=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),s.value.trim().length<3||s.value.trim().length>100?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),r=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),"Kategorie"==a.value?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),r=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),n.value.trim().length<10?(n.classList.remove("is-valid"),n.classList.add("is-invalid"),r=!1):(n.classList.remove("is-invalid"),n.classList.add("is-valid")),this.continuePressed=!0,r&&t){this.store.commit("setState","loading");const{data:e,error:t}=await nt.from("companies").select().eq("alias",i.value.replace(/\s/g,"").toLowerCase());if(t||null!=e[0])return this.failureAlertTitle="Name schon vergeben",this.failureAlertInfo="Es gibt bereits ein Unternehmen mit diesem Namen. Bitte wähle einen anderen!",this.store.commit("setState","failure"),i.classList.remove("is-valid"),void i.classList.add("is-invalid");this.successAlertTitle="",this.store.commit("setState","success"),this.form.name=i.value,this.form.location=s.value,this.form.info=n.value,this.form.category=a.value,this.continuePressed=!1,this.page++}}else if(1==e){var o=document.getElementsByClassName("signup-mail");r=!0;var l=o[0].getAttribute("data-regex");if(Array.from(o).forEach((e=>{e.value=e.value.replace(/\s/g,""),e.value.match(l)||""==e.value?(e.classList.remove("is-invalid"),""!=e.value&&e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),r=!1)})),this.continuePressed=!0,r&&t){var c=0;Array.from(o).forEach((e=>{this.form.employees[c]=e.value,c++})),this.continuePressed=!1,this.page++}}else if(2==e)this.page++;else if(3==e){const e=document.getElementById("alert-danger");r=!1,null==this.form.abo?(e.style.visibility="visible",e.style.position="relative"):(e.style.visibility="hidden",e.style.position="absolute",r=!0),this.continuePressed=!0,r&&t&&(console.log(this.form),this.continuePressed=!1,this.page++)}else if(4==e){const e=document.getElementById("acceptCheck");r=!1,e.checked?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),r=!0):(e.classList.add("is-invalid"),e.classList.remove("is-valid")),this.continuePressed=!0,r&&t&&(this.continuePressed=!1,this.signUp())}},signUp(){this.store.dispatch("createCompany",this.form),this.failureAlertTitle="Registrierung fehlgeschlagen",this.failureAlertInfo="Bei der Registrierung deines Unternehmens ist ein Fehler aufgetreten! Versuche es später erneut.",this.successAlertTitle=""},signUpFailure(){var e=document.getElementById("signup-mail");e.classList.remove("is-valid"),e.classList.add("is-invalid");var t=document.getElementsByClassName("invalid-feedback");Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}))},removeValidation(){const e=document.getElementById("reset-mail");e.value="",e.classList.remove("is-valid"),e.classList.remove("is-invalid")}}};const Or=(0,P.Z)(qr,[["render",Sn],["__scopeId","data-v-78083aec"]]);var Fr=Or;function Wr(e,t,i,s,n,r){const o=(0,a.up)("AlertBanner"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("InfoDiv");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{title:"Coming Soon"}),(0,a.Wm)(l,{title:"Buchhaltung"}),(0,a.Wm)(c,{info:"Hier kannst du in Zukunft die Buchhaltung deines Unternehems führen. Du kannst Lohnausgaben, Umsätze durch Verkäufe, Ausgaben für Warenbeschaffung, Ausgaben für Miete und sonstige Einnahmen und Ausgaben eintragen. Außerdem werden deine Einnahmen durch Verkäufe auf Schillerando automatisch mit einberechnet. Du erhälst eine genaue Übersicht über deine Ausgaben und Einnahmen und über deinen Gewinn oder Verlust insgesamt. Alle Beträge werden automatisch zwischen Staatswährung und Euro umgerechnet, sodass du zum Beispiel Ausgaben im Ausland einfach in Euro eingeben kannst und dir keine Gedanken über den Wechselkurs machen musst."})],64)}var Zr={name:"AccountingView",components:{TitleDiv:mt,AlertBanner:ts,InfoDiv:$i},data(){return{}}};const Mr=(0,P.Z)(Zr,[["render",Wr]]);var Vr=Mr;function Rr(e,t,i,s,n,r){const o=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o)])}var Nr={name:"AGBView",components:{AGB:zr}};const Kr=(0,P.Z)(Nr,[["render",Rr],["__scopeId","data-v-7c51a6d1"]]);var Gr=Kr;const jr=e=>((0,a.dD)("data-v-016cb5ea"),e=e(),(0,a.Cn)(),e),$r={class:"container"},Hr={class:"row justify-content-center"},Yr={class:"mb-4"},Jr={class:"card container-card p-4 pb-0"},Qr={class:"card-body"},Xr=jr((()=>(0,a._)("h1",null,"Abo Auswählen",-1))),eo={class:"text-muted"},to={key:0},io={key:1},so=jr((()=>(0,a._)("h4",null,"Bedingungen",-1))),ao={class:"card mb-4 p-4",style:{"overflow-y":"scroll",height:"400px"}},no={class:"form-check mb-4"},ro=jr((()=>(0,a._)("label",{class:"form-check-label",for:"acceptCheck"}," Bedingungen akzeptieren ",-1))),oo={style:{height:"80px"}},lo={key:0,class:"back"},co=jr((()=>(0,a._)("div",{class:"loading-button"},"Zurück",-1))),uo=jr((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),mo=[co,uo],po={key:1,class:"continue"},ho=jr((()=>(0,a._)("div",{class:"loading-button"},"Weiter",-1))),go=jr((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),vo=[ho,go],fo={key:2,class:"continue"},bo=jr((()=>(0,a._)("div",{class:"loading-button"},"Bestätigen",-1))),yo=jr((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),_o=[bo,yo];function wo(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup"),l=(0,a.up)("AboOptions"),c=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",$r,[(0,a._)("div",Hr,[(0,a._)("div",Yr,[(0,a._)("div",Jr,[(0,a._)("div",Qr,[Xr,(0,a._)("p",eo,' Wähle ein Abonnement für dein Unternehmen "'+(0,ze.zw)(s.store.getters.getUserCompany.name)+'" ',1),0==this.page?((0,a.wg)(),(0,a.iD)("div",to,[(0,a.Wm)(l,{abo:s.form.abo,onChooseAbo:t[0]||(t[0]=e=>r.chooseAbo(e))},null,8,["abo"])])):1==this.page?((0,a.wg)(),(0,a.iD)("div",io,[so,(0,a._)("div",ao,[(0,a.Wm)(c)]),(0,a._)("div",no,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"acceptCheck",onChange:t[1]||(t[1]=e=>r.validatePage(1,!1))},null,32),ro])])):(0,a.kq)("",!0),(0,a._)("div",oo,[this.page>0?((0,a.wg)(),(0,a.iD)("div",lo,[(0,a._)("button",{type:"button",onClick:t[2]||(t[2]=e=>this.page--),class:"btn btn-secondary"},mo)])):(0,a.kq)("",!0),4!=this.page?((0,a.wg)(),(0,a.iD)("div",po,[(0,a._)("button",{type:"button",onClick:t[3]||(t[3]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},vo)])):(0,a.kq)("",!0),4==this.page?((0,a.wg)(),(0,a.iD)("div",fo,[(0,a._)("button",{type:"button",onClick:t[4]||(t[4]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},_o)])):(0,a.kq)("",!0)])])])])])])])}var ko={name:"UpdateAboView",components:{AlertPopup:Li,AboOptions:Pr,AGB:zr},data(){return{page:0,continuePressed:!1,action:"",alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!"}},computed:{...(0,K.Se)(["getState"])},watch:{getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new U.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new U.Modal(document.getElementById("alertModal"),{});s.show(),"register"==this.action&&this.signUpFailure()}}},setup(){const e=(0,wi.qj)({abo:null}),t=(0,K.oR)();return{store:t,form:e}},methods:{chooseAbo(e){this.form.abo=e,this.validatePage(0,!1)},async validatePage(e,t){if(t||this.continuePressed)if(0==e){const e=document.getElementById("alert-danger");var i=!1;null==this.form.abo?(e.style.visibility="visible",e.style.position="relative"):(e.style.visibility="hidden",e.style.position="absolute",i=!0),this.continuePressed=!0,i&&t&&(console.log(this.form),this.continuePressed=!1,this.page++)}else if(1==e){const e=document.getElementById("acceptCheck");i=!1,e.checked?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),i=!0):(e.classList.add("is-invalid"),e.classList.remove("is-valid")),this.continuePressed=!0,i&&t&&(this.continuePressed=!1,this.updateAbo())}},updateAbo(){this.store.dispatch("updateAbo",this.form),this.failureAlertTitle="Aktualisierung fehlgeschlagen",this.failureAlertInfo="Bei der Aktualisierung des Abonnements ist ein Fehler aufgetreten! Versuche es später erneut.",this.successAlertTitle=""}}};const Ao=(0,P.Z)(ko,[["render",wo],["__scopeId","data-v-016cb5ea"]]);var Co=Ao,Po=i(4702);const Eo=(0,K.MT)({state:{user:null,session:null,userCompany:null,state:void 0,currentProduct:null},mutations:{setUser(e,t){e.user=t},setUserCompany(e,t){e.userCompany=t},setState(e,t){e.state=t},setCurrentProduct(e,t){e.currentProduct=t}},getters:{getUser(e){return e.user},getUserCompany(e){return e.userCompany},getState(e){return e.state},getCurrentProduct(e){return e.currentProduct}},actions:{async reload({commit:e}){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);t=!0;try{const{data:i,error:s}=await nt.auth.refreshSession();s||null==i.session?t?(e("setUser",null),e("setUserCompany",null)):this.dispatch("getSharedLogin"):(e("setUser",i.user),this.dispatch("startUserCompanySubscription"))}catch(i){e("setUser",null),e("setUserCompany",null)}t||(this.timer=setInterval((()=>{this.dispatch("getSharedLogin")}),1e3))},async getSharedLogin({commit:e}){const t=document.cookie.split(/\s*;\s*/).map((e=>e.split("="))),i=t.find((e=>"supabase-access-token"==e[0])),s=t.find((e=>"supabase-refresh-token"==e[0]));if(i&&s){if(null!=this.getters.getUser)return;const{data:t,error:a}=await nt.auth.setSession({access_token:i[1],refresh_token:s[1]});a||null==t.session?(e("setUser",null),e("setUserCompany",null),document.cookie="supabase-access-token=false;",document.cookie="supabase-refresh-token=false;",Bo.go(Bo.currentRoute)):null!=this.getters.getUser?(e("setUser",t.user),this.dispatch("startUserCompanySubscription")):(e("setUser",t.user),this.dispatch("startUserCompanySubscription"),Bo.go(Bo.currentRoute))}else null!=this.getters.getUser?(e("setUser",null),e("setUserCompany",null),Bo.go(Bo.currentRoute)):(e("setUserCompany",null),e("setUser",null))},async startUserCompanySubscription({commit:e}){try{const{data:t,error:i}=await nt.from("companies").select().or("user_uid.eq."+this.getters.getUser.id+',employees.cs.{"'+this.getters.getUser.email+'"}');if(i)throw i;if(null==t[0])return void e("setUserCompany",null);e("setUserCompany",t[0]);const s=nt.channel("any").on("postgres_changes",{event:"*",schema:"public",table:"companies",filter:"id=eq."+this.getters.getUserCompany.id},(t=>{console.log("Database change received!",t.new),e("setUserCompany",t.new)}));s.subscribe()}catch(t){e("setUserCompany",null),console.log(t.error_description||t.message)}},async stopUserCompanySubscription({commit:e}){try{await nt.removeAllChannels(),e("setUserCompanySubscription",null)}catch(t){console.log(t.error_description||t.message)}},async createCompany({commit:e},t){try{e("setState","loading");const l=t.name.replace(/\s/g,"").toLowerCase();var i=t.employees.filter((function(e,i){return t.employees.indexOf(e)==i}));const{data:c,error:d}=await nt.from("companies").insert({alias:l,name:t.name,categories:[t.category],location:t.location,info:t.info,user_uid:this.getters.getUser.id,employees:i,abo:"Later"==t.abo?null:t.abo,relevance:"Business"==t.abo?50:100}).select();if(d)throw d;if(e("setUserCompany",c[0]),null!=t.image){var s=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),a=c[0].id+"."+s.split("/")[1];{const{error:e}=await nt.storage.from("sellers-headings").upload(a,t.image,{cacheControl:"3600",upsert:!0,contentType:s});if(e)throw e}{const{error:e}=await nt.from("companies").update({header_picture:a}).eq("id",this.getters.getUserCompany.id);if(e)throw e}}{const{data:t,error:i}=await nt.auth.updateUser({data:{isCompanyLeader:!0}});if(i)throw i;e("setUser",t.user)}for(var n=0;n<t.products.length;n++){const e=t.products[n],{data:i,error:a}=await nt.from("products").insert({name:e.name,info:e.info,price:e.price,categories:e.categories,company_id:this.getters.getUserCompany.id,auth_uid:this.getters.getUser.id,delivery:e.delivery,public:e.public}).select();if(a)throw a;if(null!=e.image){var r=e.image.substring(e.image.indexOf(":"),e.image.indexOf(";")).replace(":",""),o=i[0].id+"."+s.split("/")[1];{const{error:t}=await nt.storage.from("products-pictures").upload(o,e.image,{cacheControl:"3600",upsert:!0,contentType:r});if(t)throw t}{const{error:e}=await nt.from("products").update({product_picture:o}).eq("id",i[0].id);if(e)throw e}}}console.log("Successfully registered"),e("setState","success"),this.dispatch("startUserCompanySubscription"),await Bo.replace("/einstellungen")}catch(l){e("setState","failure"),console.log(l.error_description||l.message)}},async updateAbo({commit:e},t){try{if(e("setState","loading"),"Later"!=t.abo){const{error:e}=await nt.from("companies").update({abo:t.abo,relevance:"Business"==t.abo?50:100}).eq("id",this.getters.getUserCompany.id);if(e)throw e}e("setState","success"),Bo.back()}catch(i){e("setState","failure"),console.log(i.error_description||i.message)}},async addProduct({commit:e},t){try{e("setState","loading");const{data:a,error:n}=await nt.from("products").insert({name:t.name,info:t.info,categories:t.categories,price:t.price,delivery:t.delivery,public:t.public,auth_uid:this.getters.getUser.id,company_id:this.getters.getUserCompany.id}).select();if(n)throw n;if(e("setCurrentProduct",a[0]),null!=t.image){var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=a[0].id+"."+i.split("/")[1];{const{error:e}=await nt.storage.from("products-pictures").upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:t,error:i}=await nt.from("products").update({product_picture:s}).eq("id",this.getters.getCurrentProduct.id).select();if(i)throw i;e("setCurrentProduct",t[0])}}e("setState","success")}catch(a){e("setCurrentProduct",null),e("setState","failure"),console.log(a.error_description||a.message)}},async updateProduct({commit:e},t){try{e("setState","loading");const{data:a,error:n}=await nt.from("products").update({name:t.name,info:t.info,categories:t.categories,price:t.price,delivery:t.delivery,public:t.public}).eq("id",t.id).select();if(n)throw n;if(e("setCurrentProduct",a[0]),null!=t.image&&t.imageBefore!=t.image){{const{error:e}=await nt.storage.from("products-pictures").remove(a[0].product_picture);if(e)throw e}var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=t.id+"."+i.split("/")[1];{const{error:e}=await nt.storage.from("products-pictures").upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:i,error:a}=await nt.from("products").update({product_picture:s}).eq("id",t.id).select();if(a)throw a;e("setCurrentProduct",i[0])}}e("setState","success")}catch(a){e("setCurrentProduct",null),e("setState","failure"),console.log(a.error_description||a.message)}},async deleteProduct({commit:e},t){try{if(e("setState","loading"),null!=t.product_picture){const{error:e}=await nt.storage.from("products-pictures").remove([t.product_picture]);if(e)throw e}const{error:i}=await nt.from("products").delete().eq("id",t.id);if(i)throw i;e("setState","success")}catch(i){e("setState","failure"),console.log(i.error_description||i.message)}}},modules:{},plugins:[(0,Po.Z)()]});var Do=Eo;const xo=[{path:"/",name:"HomeView",component:Qe},{path:"/produkte",name:"ProductView",component:Vi,meta:{locked:!0,company:!0}},{path:"/services",name:"ServiceView",component:as,meta:{locked:!0,company:!0}},{path:"/buchhaltung",name:"AccountingView",component:Vr,meta:{locked:!0,company:!0}},{path:"/einstellungen",name:"SettingsView",component:da,meta:{locked:!0,company:!0,noAccess:!0}},{path:"/companyRegistration",name:"CompanyRegistrationView",component:Fr,meta:{footer:!1,company:!1,auth:!0}},{path:"/agb",name:"AGBView",component:Gr},{path:"/updateAbo",name:"UpdateAboView",component:Co,meta:{footer:!1,company:!0}}],So=(0,G.p7)({history:(0,G.PO)("/"),routes:xo,scrollBehavior(){document.getElementById("app").scrollIntoView({behavior:"smooth"}),document.getElementById("navbarToggler").classList.remove("show")}});So.beforeEach((async(e,t,i)=>{if("true"==e.query.ext&&null!=e.query.access_token&&"null"!=e.query.access_token)try{const{data:t}=await nt.auth.setSession({access_token:e.query.access_token,refresh_token:e.query.refresh_token});Do.commit("setUser",t.user),Do.dispatch("startUserCompanySubscription"),await new Promise((e=>setTimeout(e,500)))}catch(n){Do.commit("setUser",null),Do.commit("setUserCompany",null)}else"true"==e.query.ext&&await new Promise((e=>setTimeout(e,500)));const s=Do.getters.getUser;var a=Do.getters.getUserCompany;null==a&&(new Promise((e=>setTimeout(e,500))),a=Do.getters.getUserCompany),console.log(s),console.log(a),(e.meta.auth||e.meta.company)&&null==s?(window.location.replace("https://schillerando.de/auth?redirect=ext_"+e.path),i()):e.meta.company&&null==a&&null!=s&&null==s.email_confirmed_at?(window.location.replace("https://schillerando.de/account"),i()):e.meta.company&&null==a&&null!=s?i({path:"companyRegistration"}):0==e.meta.company&&null!=a?i({path:"einstellungen"}):0==e.meta.auth&&null!=s||"UpdateAboView"==e.name&&null!=a&&""!=a.abo&&null!=a.abo?i({path:t.path}):"CompanyRegistrationView"==e.name&&null!=a?i({path:"einstellungen"}):i()}));var Bo=So;(0,s.ri)(oe).use(Do).use(Bo).mount("#app")},5203:function(e,t,i){var s={"./accounting.png":63,"./boosting.png":6662,"./cola.png":7573,"./combined.png":9083,"./delivery.png":6323,"./hero_image.png":4077,"./location.png":6780,"./lock.png":1029,"./logo.png":6949,"./logo_reversed.png":4495,"./logo_reversed_background.png":4422,"./logo_transparent.png":5833,"./prices.png":8915,"./products.png":4939,"./schillerpay_button.png":179,"./schillerpay_einrichten.png":8597,"./schillerpay_logo.png":4868,"./service.png":3382};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=5203},63:function(e,t,i){"use strict";e.exports=i.p+"img/accounting.0a000003.png"},6662:function(e,t,i){"use strict";e.exports=i.p+"img/boosting.e5b5add5.png"},7573:function(e,t,i){"use strict";e.exports=i.p+"img/cola.64f01ebe.png"},9083:function(e,t,i){"use strict";e.exports=i.p+"img/combined.d1178e41.png"},6323:function(e,t,i){"use strict";e.exports=i.p+"img/delivery.12c34355.png"},4077:function(e,t,i){"use strict";e.exports=i.p+"img/hero_image.9eefec6d.png"},6780:function(e,t,i){"use strict";e.exports=i.p+"img/location.753badd3.png"},1029:function(e,t,i){"use strict";e.exports=i.p+"img/lock.41092fc5.png"},6949:function(e,t,i){"use strict";e.exports=i.p+"img/logo.54c2e11f.png"},4495:function(e,t,i){"use strict";e.exports=i.p+"img/logo_reversed.07c16239.png"},4422:function(e,t,i){"use strict";e.exports=i.p+"img/logo_reversed_background.ed99d671.png"},5833:function(e,t,i){"use strict";e.exports=i.p+"img/logo_transparent.67ae4d7f.png"},8915:function(e,t,i){"use strict";e.exports=i.p+"img/prices.f03e18bc.png"},4939:function(e,t,i){"use strict";e.exports=i.p+"img/products.aee9eb33.png"},179:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_button.13d44137.png"},8597:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_einrichten.7b1a0f77.png"},4868:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_logo.59e49007.png"},3382:function(e,t,i){"use strict";e.exports=i.p+"img/service.643a402c.png"}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],n=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var n=Object.create(null);i.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){r[e]=function(){return s[e]}}));return r["default"]=function(){return s},i.d(n,r),n}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(t&&t(s);c<r.length;c++)n=r[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},s=self["webpackChunkbusiness"]=self["webpackChunkbusiness"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(7611)}));s=i.O(s)})();
//# sourceMappingURL=app.6f2b4ea6.js.map