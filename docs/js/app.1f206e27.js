(function(){var e={7850:function(e,t,i){"use strict";var s=i(9963),a=i(6252);const n={translate:"no"};function r(e,t,i,s,r,o){const l=(0,a.up)("NavBar"),c=(0,a.up)("router-view"),d=(0,a.up)("SocialsFooter"),u=(0,a.up)("LockedOverlay"),p=(0,a.up)("NoAccessOverlay");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(l),(0,a.Wm)(c),null==e.$route.meta.footer?((0,a.wg)(),(0,a.j4)(d,{key:0})):(0,a.kq)("",!0),null!=e.$route.meta.locked?((0,a.wg)(),(0,a.j4)(u,{key:1})):(0,a.kq)("",!0),null!=e.$route.meta.noAccess?((0,a.wg)(),(0,a.j4)(p,{key:2})):(0,a.kq)("",!0)])}var o=i(5833);const l=e=>((0,a.dD)("data-v-3be9a58e"),e=e(),(0,a.Cn)(),e),c=l((()=>(0,a._)("hr",null,null,-1))),d=l((()=>(0,a._)("img",{class:"logo",src:o},null,-1))),u=l((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),p={class:"collapse navbar-collapse",id:"navbarToggler"},m={class:"navbar-nav ms-auto"},h={class:"nav-item"},g={class:"nav-item"},v={class:"nav-item"},y={class:"nav-item"},f={class:"nav-item"},b=["href"],_=l((()=>(0,a._)("i",{class:"fa-solid fa-shuffle mx-1"},null,-1)));function w(e,t,i,s,n,r){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[c,(0,a._)("header",{onClick:t[0]||(t[0]=(...e)=>r.changeLinkColors&&r.changeLinkColors(...e)),class:"navbar navbar-expand-lg navbar-light sticky-top"},[(0,a.Wm)(o,{to:"/",class:"brand navbar-brand"},{default:(0,a.w5)((()=>[d,(0,a.Uk)(" Business ")])),_:1}),u,(0,a._)("div",p,[(0,a._)("ul",m,[(0,a._)("li",h,[(0,a.Wm)(o,{class:"nav-link",to:"/buchhaltung"},{default:(0,a.w5)((()=>[(0,a.Uk)("Buchhaltung")])),_:1})]),(0,a._)("li",g,[(0,a.Wm)(o,{class:"nav-link",to:"/services"},{default:(0,a.w5)((()=>[(0,a.Uk)("Services")])),_:1})]),(0,a._)("li",v,[(0,a.Wm)(o,{class:"nav-link",to:"/produkte"},{default:(0,a.w5)((()=>[(0,a.Uk)("Produkte")])),_:1})]),(0,a._)("li",y,[(0,a.Wm)(o,{class:"nav-link",to:"/einstellungen"},{default:(0,a.w5)((()=>[(0,a.Uk)("Einstellungen")])),_:1})]),(0,a._)("li",f,[(0,a._)("a",{class:"nav-link",href:n.mainUrl},[_,(0,a.Uk)(" Schillerando ")],8,b)])])])])],64)}var k={name:"NavBar",props:{info:String},data(){return{mainUrl:"https://schillerando.de"}},mounted(){this.changeLinkColors()},methods:{changeLinkColors(){const e=window.location.href.split("/"),t=e[e.length-1],i=document.getElementsByClassName("nav-link");for(var s=0;s<i.length;s++)i[s].style.color="#000";switch(t){case"buchhaltung":i[0].style.color="#00a100";break;case"services":i[1].style.color="#00a100";break;case"produkte":i[2].style.color="#00a100";break;case"einstellungen":i[3].style.color="#00a100";break;default:break}}}},E=i(3744);const C=(0,E.Z)(k,[["render",w],["__scopeId","data-v-3be9a58e"]]);var A=C;const S=e=>((0,a.dD)("data-v-205cca34"),e=e(),(0,a.Cn)(),e),x={id:"footer",class:"container-fluid"},D=S((()=>(0,a._)("div",{class:"container-fluid"},[(0,a._)("a",{href:"mailto:info@schillerando.de"},[(0,a._)("i",{class:"social-icon fa-solid fa-lg fa-envelope"})]),(0,a._)("a",{tabindex:"0",role:"button","data-bs-toggle":"popover","data-bs-trigger":"focus","data-bs-placement":"top","data-bs-content":'\n      <div>\n        <p>\n          Hierbei handelt es sich um ein Unternehmen für das Schulprojekt Schule als Staat 2023 des FSG Marbach und um kein echtes Unternehmen \n        </p>\n        <p>\n          <strong>Impressum:</strong>\n          <br>Felix Haag\n          <br>Schulstraße 34\n          <br>71672 Marbach am Neckar\n          <br>Telefon: <a href="tel:+4915759664764">0157 / 59 66 47 64</a>\n          <br>E-Mail: <a href="mailto:info@schillerando.de">info@schillerando.de</a>\n        </p>\n      </div>'},[(0,a._)("i",{class:"social-icon fa-solid fa-lg fa-circle-info"})]),(0,a._)("a",{href:"https://www.instagram.com/schillerando/"},[(0,a._)("i",{class:"social-icon fab fa-lg fa-instagram"})]),(0,a._)("p",null,"© Schillerando")],-1))),P=[D];function I(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("footer",x,P)}var B=i(5577),L={name:"ProductView",mounted(){Array.from(document.querySelectorAll('a[data-bs-toggle="popover"]')).forEach((e=>new B.Popover(e,{html:!0})))}};const U=(0,E.Z)(L,[["render",I],["__scopeId","data-v-205cca34"]]);var T=U,q=(i(7658),i(1029));const z=e=>((0,a.dD)("data-v-0bf2058d"),e=e(),(0,a.Cn)(),e),F={key:0},O={key:0,class:"overlay"},M={class:"centered"},R=z((()=>(0,a._)("img",{class:"lock",src:q,alt:""},null,-1))),N={key:1,class:"mt-3"};function G(e,t,i,s,n,r){return null!=s.companyData&&void 0!=s.companyData?((0,a.wg)(),(0,a.iD)("div",F,[""==s.companyData.abo||null==s.companyData.abo?((0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("div",M,[R,s.userData.id==s.userData.user_uid?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=e=>s.router.push("updateAbo"))},"Abo auswählen")):((0,a.wg)(),(0,a.iD)("h4",N,"Der Geschäftsführer deines Unternehmens muss ein Abo auswählen um Zugriff zu erhalten!"))])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var V=i(3907),W=i(2201),$={name:"LockedOverlay",setup(){const e=(0,V.oR)(),t=(0,W.tv)(),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,a.Fl)((()=>e.state.user));return{store:e,router:t,companyData:i,userData:s}}};const Z=(0,E.Z)($,[["render",G],["__scopeId","data-v-0bf2058d"]]);var j=Z;const K=e=>((0,a.dD)("data-v-b2876cfa"),e=e(),(0,a.Cn)(),e),H={key:0},Y={key:0,class:"overlay"},J=K((()=>(0,a._)("div",{class:"centered"},[(0,a._)("img",{class:"lock",src:q,alt:""}),(0,a._)("h4",{class:"mt-3"},"Auf diese Seite hat nur der Geschäftsführer Zugriff!")],-1))),Q=[J];function X(e,t,i,s,n,r){return null!=s.companyData&&void 0!=s.companyData?((0,a.wg)(),(0,a.iD)("div",H,[s.userData.id!=s.companyData.user_uid&&""!=s.companyData.abo&&null!=s.companyData.abo?((0,a.wg)(),(0,a.iD)("div",Y,Q)):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var ee={name:"NoAccessOverlay",setup(){const e=(0,V.oR)(),t=(0,W.tv)(),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,a.Fl)((()=>e.state.user));return{store:e,router:t,companyData:i,userData:s}}};const te=(0,E.Z)(ee,[["render",X],["__scopeId","data-v-b2876cfa"]]);var ie=te,se={name:"App",components:{NavBar:A,SocialsFooter:T,LockedOverlay:j,NoAccessOverlay:ie},setup(){const e=(0,V.oR)();return e.dispatch("reload"),{store:e}}};const ae=(0,E.Z)(se,[["render",r]]);var ne=ae;function re(e,t,i,s,n,r){const o=(0,a.up)("HeroSection"),l=(0,a.up)("FeatureSection"),c=(0,a.up)("QuestionsCarousel");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o),(0,a.Wm)(l),(0,a.Wm)(c)],64)}var oe=i(4077);const le=e=>((0,a.dD)("data-v-6f468084"),e=e(),(0,a.Cn)(),e),ce={id:"title"},de={class:"row"},ue=le((()=>(0,a._)("div",{class:"col-md-6 col-12 order-first order-md-last"},[(0,a._)("img",{class:"hero-image",src:oe,alt:""})],-1))),pe={class:"col-md-6 col-12"},me={class:"hero-info"},he=le((()=>(0,a._)("div",{class:"title"},[(0,a._)("span",null,"Mehr "),(0,a._)("span",{style:{color:"black"}},"als ein"),(0,a._)("br"),(0,a._)("span",null,"Lieferservice")],-1))),ge=le((()=>(0,a._)("p",{class:"text"},[(0,a.Uk)(" Registriere dein Unternehmen "),(0,a._)("br"),(0,a.Uk)(" um von zahlreichen Services "),(0,a._)("br"),(0,a.Uk)(" zu profitieren ")],-1)));function ve(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",ce,[(0,a._)("div",de,[ue,(0,a._)("div",pe,[(0,a._)("div",me,[he,ge,(0,a._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/companyRegistration")),class:"btn btn-primary"}," Registrieren ")])])])])}var ye={name:"HeroSection",data(){return{businessUrl:"https://business.schillerando.de"}}};const fe=(0,E.Z)(ye,[["render",ve],["__scopeId","data-v-6f468084"]]);var be=fe;const _e={id:"questions"},we=(0,a.uE)('<div class="container-fluid" data-v-e0ecdaba><div class="row mx-auto my-auto" data-v-e0ecdaba><div id="question-carousel" class="carousel slide carousel-dark" data-bs-ride="carousel" data-v-e0ecdaba><div class="carousel-inner" data-v-e0ecdaba><div class="question carousel-item active" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du hast keinen Überblick über die zahlreichen Angebote bei Schule als Staat? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du hast keine Zeit dir Essen oder Trinken zu kaufen weil du selber arbeiten musst? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du willst Werbung für dein Unternehmen um mehr Kunden zu gewinnen? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du bist Arbeitslos und willst schnelles Geld verdienen? </h3></div><div class="question carousel-item" data-bs-interval="4000" data-v-e0ecdaba><h3 class="question-text" data-v-e0ecdaba> Du willst einen flexiblen Job ohne feste Arbeitszeiten und tristes Rumsitzen? </h3></div></div></div></div><h2 class="answer" data-v-e0ecdaba>Schillerando.</h2></div>',1),ke=[we];function Ee(e,t){return(0,a.wg)(),(0,a.iD)("section",_e,ke)}const Ce={},Ae=(0,E.Z)(Ce,[["render",Ee],["__scopeId","data-v-e0ecdaba"]]);var Se=Ae;const xe=e=>((0,a.dD)("data-v-622abbb9"),e=e(),(0,a.Cn)(),e),De={id:"feature"},Pe=xe((()=>(0,a._)("div",{class:"container px-4 py-5",id:"featured-3"},[(0,a._)("h2",{class:"pb-2 border-bottom"},"Das bietet Schillerando")],-1))),Ie={class:"row g-4 py-5 row-cols-1 row-cols-lg-3"},Be=xe((()=>(0,a._)("p",{style:{"font-size":"0.9rem","margin-bottom":"40px",padding:"10px",color:"#111111"}},[(0,a.Uk)(" * Nach §9 des Wirtschaftsgesetzes ist jedes Unternehmen dazu verpflichtet über seine Finanzen (Lohnausgaben, Umsätze, Ausgaben für Warenbeschaffung und Miete) Buch zu führen. Mit der "),(0,a._)("span",{style:{"font-weight":"700",color:"#000000"}},"Schillerando Buchhaltungssoftware"),(0,a.Uk)(" geht das unkompliziert und übersichtlich. ")],-1)));function Le(e,t,i,s,n,r){const o=(0,a.up)("FeatureTile");return(0,a.wg)(),(0,a.iD)("section",De,[Pe,(0,a._)("div",Ie,[(0,a.Wm)(o,{left:!0,forCompanies:!1,image:"products.png",title:"Produkte",text:"Entdecke alle Produkte und Angebote im Staat. Egal ob Essen, Trinken, Aktivitäten oder Sonstiges.",link:n.mainUrl+"/produkte",linkTitle:"Produkte"},null,8,["link"]),(0,a.Wm)(o,{left:!1,forCompanies:!1,image:"location.png",title:"Unternehmen",text:"Erhalte einen Überblick über alle Unternehmen im Staat und finde leichter zu ihnen.",link:n.mainUrl+"/unternehmen",linkTitle:"Unternehmen"},null,8,["link"]),(0,a.Wm)(o,{left:!0,forCompanies:!1,image:"prices.png",title:"Preisvergleich",text:"Vergleiche Preise um immer das günstigste Produkt zu finden und Geld zu sparen.",link:n.mainUrl+"/produkte",linkTitle:"Preisvergleich"},null,8,["link"]),(0,a.Wm)(o,{left:!1,forCompanies:!1,title:"Lieferung",image:"delivery.png",text:"Lasse Produkte wie Essen oder Trinken schnell und kostenlos zu dir liefern.",link:n.mainUrl+"/auth",linkTitle:"Registrieren"},null,8,["link"]),(0,a.Wm)(o,{left:!0,forCompanies:!0,image:"boosting.png",title:"Werbung",text:"Mache dein Unternehmen bekannt und erreiche mehr Kunden.",link:"/companyRegistration",linkTitle:"Business"}),(0,a.Wm)(o,{left:!1,forCompanies:!0,image:"accounting.png",title:"Buchhaltung*",text:"Habe immer alle Einnahmen und Ausgaben deines Unternehmens im Blick.",link:"/buchhaltung",linkTitle:"Buchhaltung"}),(0,a.Wm)(o,{left:!0,forCompanies:!0,image:"service.png",title:"Services",text:"Lasse dir vor und während Schule als Staat Ware für dein Unternehmen aus dem Ausland liefern, deinen Müll entsorgen und vieles mehr.",link:"/services",linkTitle:"Services"})]),Be])}var Ue=i(3577);const Te=e=>((0,a.dD)("data-v-45f8bc1e"),e=e(),(0,a.Cn)(),e),qe={class:"feature col"},ze={class:"feature-icon"},Fe=["src"],Oe={style:{color:"#00a100"}},Me=["href"],Re=Te((()=>(0,a._)("i",{style:{"margin-left":"5px"},class:"fa-solid fa-arrow-right"},null,-1)));function Ne(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",qe,[(0,a._)("div",ze,[(0,a._)("img",{src:r.getImgUrl(i.image),alt:""},null,8,Fe)]),(0,a._)("h2",Oe,(0,Ue.zw)(i.title),1),(0,a._)("p",null,(0,Ue.zw)(i.text),1),i.link?((0,a.wg)(),(0,a.iD)("a",{key:0,href:i.link,class:"icon-link",style:{"text-decoration":"underline"}},[(0,a.Uk)((0,Ue.zw)(i.linkTitle)+" ",1),Re],8,Me)):(0,a.kq)("",!0)])}var Ge={name:"CompanyTile",props:["left","forCompanies","title","image","text","link","linkTitle"],methods:{getImgUrl(e){var t=i(5203);return t("./"+e)}}};const Ve=(0,E.Z)(Ge,[["render",Ne],["__scopeId","data-v-45f8bc1e"]]);var We=Ve,$e={name:"FeatureSection",components:{FeatureTile:We},data(){return{businessUrl:"https://business.schillerando.de",mainUrl:"https://schillerando.de"}}};const Ze=(0,E.Z)($e,[["render",Le],["__scopeId","data-v-622abbb9"]]);var je=Ze,Ke={name:"HomeView",components:{HeroSection:be,QuestionsCarousel:Se,FeatureSection:je},data(){return{}}};const He=(0,E.Z)(Ke,[["render",re]]);var Ye=He;function Je(e,t,i,s,n,r){const o=(0,a.up)("EditProductOverlay"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("SortableList");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.newProduct?((0,a.wg)(),(0,a.j4)(o,{key:0,registration:!1,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct())})):(0,a.kq)("",!0),(0,a.Wm)(l,{title:"Produkte"}),(0,a._)("button",{class:"btn btn-primary mb-4 add-product",onClick:t[2]||(t[2]=e=>r.addProduct())}," Produkt hinzufügen "),n.products.length>0?((0,a.wg)(),(0,a.j4)(c,{items:n.products,key:n.key,"sort-by-categories":"true",element:"ProductTile",onDeleteProduct:t[3]||(t[3]=e=>r.deleteProduct(e))},null,8,["items"])):(0,a.kq)("",!0)],64)}var Qe=i(9802);const Xe="https://jwfyrkfpqfkzovzdpkqt.supabase.co",et="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3Znlya2ZwcWZrem92emRwa3F0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzkyNDg4MjcsImV4cCI6MTk5NDgyNDgyN30.ECsAuWRN08LWBqJZqa4v3Qmnx03N8wkGrTRgVMotCS8",tt=(0,Qe.eI)(Xe,et),it={id:"title"},st={class:"container-fluid"},at={class:"title"};function nt(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",it,[(0,a._)("div",st,[(0,a._)("h1",at,(0,Ue.zw)(i.title),1)])])}var rt={name:"TitleDiv",props:{title:String}};const ot=(0,E.Z)(rt,[["render",nt],["__scopeId","data-v-e14251b2"]]);var lt=ot;const ct=e=>((0,a.dD)("data-v-bf11f640"),e=e(),(0,a.Cn)(),e),dt={class:"overlay"},ut={class:"card"},pt={class:"card-header"},mt=ct((()=>(0,a._)("h4",{class:"card-title"},"Produkt",-1))),ht={class:"card-body scroll"},gt={class:"image"},vt={key:0,class:"no-image"},yt=ct((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),ft=[yt],bt=["src"],_t={key:0,style:{"font-weight":"300","font-size":"0.9rem"}},wt={class:"needs-validation",novalidate:""},kt={class:"input-group mb-3"},Et=ct((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-box-open"})],-1))),Ct=["value"],At={class:"input-group mb-3"},St=ct((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-dollar-sign"})],-1))),xt=["value"],Dt={class:"input-group mb-3"},Pt=ct((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),It=["value"],Bt=(0,a.uE)('<option value="" selected data-v-bf11f640>Kategorie</option><option value="Essen" data-v-bf11f640>Essen</option><option value="Trinken" data-v-bf11f640>Trinken</option><option value="Dienstleistung" data-v-bf11f640>Dienstleistung</option><option value="Gegenstand" data-v-bf11f640>Gegenstand</option><option value="Aktivität" data-v-bf11f640> Aktivität </option><option value="Event" data-v-bf11f640> Event </option><option value="Sonstiges" data-v-bf11f640> Sonstiges </option>',8),Lt=[Bt],Ut={class:"input-group mb-3"},Tt=ct((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),qt=["value"],zt={class:"switches"},Ft={class:"form-check form-switch"},Ot=["checked"],Mt=ct((()=>(0,a._)("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},"Lieferbar",-1))),Rt={class:"form-check form-switch"},Nt=["checked"],Gt=ct((()=>(0,a._)("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Privat (nur für Buchhaltung)",-1))),Vt={class:"card-footer"},Wt={key:1,class:"confirm"},$t=ct((()=>(0,a._)("i",{class:"fa-solid fa-check fa-lg"},null,-1))),Zt=[$t],jt=ct((()=>(0,a._)("i",{class:"fa-solid fa-xmark fa-lg"},null,-1))),Kt=[jt];function Ht(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",dt,[(0,a._)("div",ut,[(0,a._)("div",pt,[(0,a._)("div",null,[mt,(0,a._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=e=>r.stopEditingProduct())})])]),(0,a._)("div",ht,[(0,a._)("div",gt,[null==s.product.image?((0,a.wg)(),(0,a.iD)("div",vt,ft)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.product.image,alt:"Unternehmen Bild",id:"productImage"},null,8,bt))]),(0,a._)("input",{class:"form-control form-control-sm col-7",type:"file",id:"formFile",accept:"image/*",onChange:t[1]||(t[1]=e=>r.imageInput())},null,32),null==s.product.image?((0,a.wg)(),(0,a.iD)("p",_t,"Füge ein Bild hinzu, welches dein Produkt repräsentiert. (Optimales Format 1:1)")):(0,a.kq)("",!0),(0,a._)("form",wt,[(0,a._)("div",kt,[Et,(0,a._)("input",{type:"text",id:"product-name",class:"form-control",onInput:t[2]||(t[2]=e=>r.validateProduct(!1)),placeholder:"Name",value:s.product.name,required:""},null,40,Ct)]),(0,a._)("div",At,[St,(0,a._)("input",{type:"number",id:"product-price",class:"form-control",onInput:t[3]||(t[3]=e=>r.validateProduct(!1)),placeholder:"Preis",value:s.product.price,required:""},null,40,xt)]),(0,a._)("div",Dt,[Pt,(0,a._)("select",{class:"form-select",id:"product-category","aria-label":"Default select example",value:s.product.categories[0],onChange:t[4]||(t[4]=e=>r.validateProduct(!1))},Lt,40,It)]),(0,a._)("div",Ut,[Tt,(0,a._)("textarea",{type:"text",id:"product-info",class:"form-control",onInput:t[5]||(t[5]=e=>r.validateProduct(!1)),placeholder:"Beschreibung",required:"",maxlength:"200",style:{resize:"none"},rows:"5",cols:"50",value:s.product.info},null,40,qt)]),(0,a._)("div",zt,[(0,a._)("div",Ft,[(0,a._)("input",{onClick:t[6]||(t[6]=(...e)=>r.switchDelivery&&r.switchDelivery(...e)),checked:s.product.delivery,class:"form-check-input",type:"checkbox",role:"switch",id:"deliverySwitch"},null,8,Ot),Mt]),(0,a._)("div",Rt,[(0,a._)("input",{onClick:t[7]||(t[7]=(...e)=>r.switchPrivate&&r.switchPrivate(...e)),checked:!s.product.public,class:"form-check-input",type:"checkbox",role:"switch",id:"privateSwitch"},null,8,Nt),Gt])])])]),(0,a._)("div",Vt,[(0,a._)("button",{class:"btn btn-primary save-button",onClick:t[8]||(t[8]=e=>r.validateProduct(!0))},"Speichern"),this.delete||""==s.initialProduct.name?this.delete&&""!=s.initialProduct.name?((0,a.wg)(),(0,a.iD)("div",Wt,[(0,a._)("button",{class:"btn btn-primary confirm-button",onClick:t[10]||(t[10]=e=>r.deleteProduct())},Zt),(0,a._)("button",{class:"btn btn-danger confirm-button",onClick:t[11]||(t[11]=e=>this.delete=!1)},Kt)])):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-danger delete-button",onClick:t[9]||(t[9]=e=>this.delete=!0)},"Löschen"))])])])],64)}var Yt=i(2262);const Jt={class:"modal fade",id:"alertModal",tabindex:"-1","aria-labelledby":"alertPopupLabel","aria-hidden":"true"},Qt={class:"modal-dialog"},Xt={class:"modal-content"},ei={class:"modal-header"},ti={class:"modal-title fs-5",id:"alertPopupLabel"},ii={class:"modal-body"},si=(0,a._)("div",{class:"modal-footer"},[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Schließen ")],-1);function ai(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",Jt,[(0,a._)("div",Qt,[(0,a._)("div",Xt,[(0,a._)("div",ei,[(0,a._)("h1",ti,(0,Ue.zw)(i.title),1)]),(0,a._)("div",ii,[(0,a._)("p",null,(0,Ue.zw)(i.info),1)]),si])])])}var ni={name:"AlertPopup",data(){return{show:!1}},props:{title:String,info:String}};const ri=(0,E.Z)(ni,[["render",ai]]);var oi=ri,li=i(7632),ci={name:"EditProductOverlay",props:["data","edit","registration"],components:{AlertPopup:oi},emits:["stopEditingProduct","deleteProduct"],data(){return{continuePressed:!1,alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!",delete:!1}},setup(){var e=(0,Yt.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""}),t=(0,Yt.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""});const i=(0,V.oR)();return{store:i,product:e,initialProduct:t}},mounted(){null!=this.data?(this.product.id=this.data.id,this.product.name=this.data.name,this.product.categories=this.data.categories,this.product.info=this.data.info,this.product.price=this.data.price,this.product.imageBefore=this.data.image,this.product.image=this.data.image,this.product.delivery=this.data.delivery,this.product.public=this.data.public,this.product.product_picture=this.data.product_picture,this.initialProduct.id=this.data.id,this.initialProduct.name=this.data.name,this.initialProduct.categories=this.data.categories,this.initialProduct.info=this.data.info,this.initialProduct.price=this.data.price,this.initialProduct.imageBefore=this.data.image,this.initialProduct.image=this.data.image,this.initialProduct.delivery=this.data.delivery,this.initialProduct.public=this.data.public,this.initialProduct.product_picture=this.data.product_picture):(this.product.id=(0,li.Z)(),this.initialProduct.id=this.product.id)},computed:{...(0,V.Se)(["getState"])},watch:{getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e)Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""!=this.alertTitle&&(s=new B.Modal(document.getElementById("alertModal"),{}),s.show()),this.stopEditingProduct();else if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""!=this.alertTitle){var s=new B.Modal(document.getElementById("alertModal"),{});s.show()}}},methods:{async stopEditingProduct(){if(!this.registration){const e=this.store.getters.getCurrentProduct;if(this.store.commit("setCurrentProduct",null),null!=e){if(this.product.id=e.id,this.product.name=e.name,this.product.categories=e.categories,this.product.info=e.info,this.product.price=e.price,this.product.delivery=e.delivery,this.product.public=e.public,this.product.product_picture=e.product_picture,null!=e.product_picture){const t=await tt.storage.from("public/products-pictures").download(e.product_picture);null!=t.data&&(this.product.image=await t.data.text(),this.product.initialImage=this.product.image),t.error&&console.warn(t.error)}}else this.product=null}this.$emit("stopEditingProduct",this.product)},switchDelivery(){this.product.delivery=!this.product.delivery,this.product.public=!!this.product.delivery||this.product.public},switchPrivate(){this.product.public=!this.product.public,this.product.delivery=!!this.product.public&&this.product.delivery},deleteProduct(){this.$emit("deleteProduct",this.product)},imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.product.image=e.target.result},t.readAsDataURL(e.files[0])}},async validateProduct(e){var t=document.getElementById("product-name"),i=document.getElementById("product-price"),s=document.getElementById("product-category"),a=document.getElementById("product-info");if(this.product.name=t.value,this.product.price=i.value,this.product.info=a.value,this.product.categories=[s.value],e||this.continuePressed){e&&(t.value=t.value.trim()),e&&(a.value=a.value.trim());var n=!0;t.value.trim().length<3?(t.classList.remove("is-valid"),t.classList.add("is-invalid"),n=!1):(t.classList.remove("is-invalid"),t.classList.add("is-valid")),i.value<0||i.value>9999?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),n=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),"Kategorie"==s.value?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),n=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),a.value.trim().length<5?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),n=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),this.continuePressed=!0,n&&e&&(this.initialProduct==this.product?this.stopEditingProduct():(this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Aktualisieren des Produkts ist ein Fehler aufgetreten. Versuche es später erneut.",this.successAlertTitle="",this.registration?this.stopEditingProduct():""==this.initialProduct.name?this.store.dispatch("addProduct",this.product):this.store.dispatch("updateProduct",this.product)))}}}};const di=(0,E.Z)(ci,[["render",Ht],["__scopeId","data-v-bf11f640"]]);var ui=di;const pi=e=>((0,a.dD)("data-v-8274b76a"),e=e(),(0,a.Cn)(),e),mi={key:0,class:"search-comp col-12 col-md-6 col-xl-4"},hi={key:0,class:"alias-wrapper"},gi={class:"alias-suggestions"},vi={class:"btn btn-light alias-link"},yi=pi((()=>(0,a._)("i",{class:"fa-solid fa-arrow-right"},null,-1))),fi={class:"settings"},bi={key:0,class:"fa-solid fa-arrow-down fa-lg"},_i={key:1,class:"fa-solid fa-arrow-up fa-lg"},wi=(0,a.uE)('<option value="" selected data-v-8274b76a>Typ</option><option value="Einnahmen" data-v-8274b76a> Alle Einnahmen </option><option value="Ausgaben" data-v-8274b76a> Alle Ausgaben </option><option value="Verkauf+" data-v-8274b76a> Verkauf </option><option value="Einkauf-" data-v-8274b76a>Einkauf</option><option value="Gehalt-" data-v-8274b76a>Gehalt</option><option value="Miete-" data-v-8274b76a>Miete</option><option value="Steuern-" data-v-8274b76a>Steuern</option><option value="Sonstige Einnahme+" data-v-8274b76a> Sonstige Einnahmen </option><option value="Sonstige Ausgabe-" data-v-8274b76a>Sonstige Ausgaben</option>',10),ki=[wi],Ei=(0,a.uE)('<option value="" selected data-v-8274b76a>Kategorie</option><option value="Essen" data-v-8274b76a>Essen</option><option value="Trinken" data-v-8274b76a>Trinken</option><option value="Dienstleistung" data-v-8274b76a>Dienstleistung</option><option value="Gegenstand" data-v-8274b76a>Gegenstand</option><option value="Aktivität" data-v-8274b76a>Aktivität</option><option value="Event" data-v-8274b76a>Event</option><option value="Sonstiges" data-v-8274b76a>Sonstiges</option>',8),Ci=[Ei],Ai=(0,a.uE)('<option value="created_at" selected data-v-8274b76a>Sortieren</option><option value="amount" data-v-8274b76a>Betrag</option><option value="created_at" data-v-8274b76a>Datum</option><option value="category" data-v-8274b76a>Typ</option><option value="name" data-v-8274b76a>Name</option>',5),Si=[Ai],xi=(0,a.uE)('<option value="relevance" selected data-v-8274b76a>Sortieren</option><option value="price" data-v-8274b76a>Preis</option><option value="review" data-v-8274b76a>Bewertung</option><option value="category" data-v-8274b76a>Kategorie</option><option value="name" data-v-8274b76a>Name</option>',5),Di=[xi],Pi={key:0,style:{"margin-bottom":"50px"}},Ii={key:0,class:"empty"},Bi={key:1,class:"empty"};function Li(e,t,i,n,r,o){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,Ue.C_)(["row",{noSearch:i.noSearch,"no-margin":"AccountingEntryTile"==i.element}])},[(0,a._)("div",{class:(0,Ue.C_)({"col-md-3 col-xl-4":"ProductTile"==i.element,"col-md-2":"AccountingEntryTile"==i.element})},null,2),i.noSearch?((0,a.wg)(),(0,a.iD)("div",mi)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,Ue.C_)({"col-12 col-md-6 col-xl-4":"ProductTile"==i.element,"col-md-8":"AccountingEntryTile"==i.element})},[(0,a.wy)((0,a._)("input",{class:"search form-control form-control-lg me-2",type:"search",placeholder:"Suchen...","aria-label":"Suchen...","on-":"",onFocus:t[0]||(t[0]=e=>r.focus=!0),onFocusout:t[1]||(t[1]=e=>o.removeFocus()),"onUpdate:modelValue":t[2]||(t[2]=e=>r.searchString=e)},null,544),[[s.nr,r.searchString]]),this.directLinks.length>0&&this.focus?((0,a.wg)(),(0,a.iD)("div",hi,[(0,a._)("div",gi,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.directLinks,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,style:{display:"block"}},[(0,a.Wm)(l,{to:e.alias},{default:(0,a.w5)((()=>[(0,a._)("button",vi,[(0,a.Uk)((0,Ue.zw)(e.alias)+" ",1),yi])])),_:2},1032,["to"])])))),128))])])):(0,a.kq)("",!0)],2)),(0,a._)("div",{class:(0,Ue.C_)({"col-md-3 col-xl-4":"ProductTile"==i.element,"col-md-2":"AccountingEntryTile"==i.element})},null,2),(0,a._)("div",{class:(0,Ue.C_)({"col-md-3 col-xl-4":"ProductTile"==i.element,"col-md-2":"AccountingEntryTile"==i.element})},null,2),(0,a._)("div",{class:(0,Ue.C_)({"col-12 col-md-6 col-xl-4":"ProductTile"==i.element,"col-md-8":"AccountingEntryTile"==i.element})},[(0,a._)("div",fi,[(0,a._)("button",{class:"direction btn btn-outline-secondary",onClick:t[3]||(t[3]=e=>["up"==r.dir?r.dir="down":r.dir="up"])},["up"==r.dir?((0,a.wg)(),(0,a.iD)("i",bi)):((0,a.wg)(),(0,a.iD)("i",_i))]),"AccountingEntryTile"==i.element?((0,a.wg)(),(0,a.iD)("select",{key:0,onChange:t[4]||(t[4]=(...e)=>o.entryCategoryChange&&o.entryCategoryChange(...e)),id:"entryCategory",class:"form-select form-select-md mb-3","aria-label":".form-select-lg example"},ki,32)):((0,a.wg)(),(0,a.iD)("select",{key:1,onChange:t[5]||(t[5]=(...e)=>o.productCategoryChange&&o.productCategoryChange(...e)),id:"productCategory",class:"form-select form-select-md mb-3","aria-label":".form-select-lg example"},Ci,32)),"AccountingEntryTile"==i.element?((0,a.wg)(),(0,a.iD)("select",{key:2,onChange:t[6]||(t[6]=(...e)=>o.entrySortChange&&o.entrySortChange(...e)),id:"entrySort",class:"form-select form-select-right form-select-md mb-3","aria-label":".form-select-lg example"},Si,32)):((0,a.wg)(),(0,a.iD)("select",{key:3,onChange:t[7]||(t[7]=(...e)=>o.productSortChange&&o.productSortChange(...e)),id:"productSort",class:"form-select form-select-right form-select-md mb-3","aria-label":".form-select-lg example"},Di,32))])],2)],2),(0,a._)("div",{class:(0,Ue.C_)({"product-list":"ProductTile"==i.element,"entry-list":"AccountingEntryTile"==i.element}),ref:"sortableList"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sortedShownItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},["ProductTile"==i.element?((0,a.wg)(),(0,a.j4)((0,a.LL)(i.element),{key:0,data:e,onDeleteProduct:t[8]||(t[8]=e=>o.deleteProduct(e))},null,40,["data"])):((0,a.wg)(),(0,a.j4)((0,a.LL)(i.element),{data:e,products:i.products,key:e.id,onDeleteEntry:t[9]||(t[9]=e=>o.deleteEntry(e)),onStopEditingEntry:t[10]||(t[10]=e=>o.stopEditingEntry(e))},null,40,["data","products"]))])))),128)),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(2,(e=>(0,a._)("div",{key:e,class:"item"}))),64))],2),0!=r.shownItems.length||i.loading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Pi,["AccountingEntryTile"==i.element?((0,a.wg)(),(0,a.iD)("h4",Ii," Es wurden keine Einträge gefunden ")):((0,a.wg)(),(0,a.iD)("h4",Bi,"Es wurden keine Produkte gefunden"))]))],64)}const Ui=e=>((0,a.dD)("data-v-c4cf3c74"),e=e(),(0,a.Cn)(),e),Ti={class:"card"},qi={class:"image"},zi={key:0,class:"no-image"},Fi=Ui((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),Oi=[Fi],Mi=["src"],Ri={class:"info"},Ni={class:"row"},Gi={class:"col col-9"},Vi={class:"name"},Wi={class:"category"},$i={class:"col col-3"},Zi=Ui((()=>(0,a._)("i",{class:"fa-solid fa-pen-to-square fa-lg"},null,-1))),ji=[Zi],Ki={class:"description"},Hi={class:"price"},Yi={class:"settings"},Ji={key:0,class:"fa-solid fa-truck fa-lg"},Qi={key:1,class:"fa-solid fa-lock fa-lg"};function Xi(e,t,i,s,n,r){const o=(0,a.up)("EditProductOverlay");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.edit?((0,a.wg)(),(0,a.j4)(o,{key:0,registration:i.registration,data:s.product,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct(e))},null,8,["registration","data"])):(0,a.kq)("",!0),(0,a._)("div",Ti,[(0,a._)("div",qi,[null==this.picture?((0,a.wg)(),(0,a.iD)("div",zi,Oi)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.picture,alt:""},null,8,Mi))]),(0,a._)("div",Ri,[(0,a._)("div",Ni,[(0,a._)("div",Gi,[(0,a._)("p",Vi,(0,Ue.zw)(s.product.name),1),(0,a._)("p",Wi,(0,Ue.zw)(s.product.categories[0]),1)]),(0,a._)("div",$i,[(0,a._)("button",{onClick:t[2]||(t[2]=e=>n.edit=!0),class:"btn btn-primary"},ji)])]),(0,a._)("p",Ki,(0,Ue.zw)(s.product.info),1),(0,a._)("p",Hi,(0,Ue.zw)(s.product.price)+" $",1),(0,a._)("div",Yi,[s.product.delivery?((0,a.wg)(),(0,a.iD)("i",Ji)):(0,a.kq)("",!0),s.product.public?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("i",Qi))])])])],64)}var es={name:"ProductTile",props:["data","registration"],components:{EditProductOverlay:ui},emits:["deleteProduct","editProduct"],data(){return{edit:!1,picture:null}},setup(){var e=(0,Yt.qj)({id:null,name:"",info:"",categories:[],price:"",imageBefore:null,image:null,delivery:!0,public:!0,product_picture:""});return{product:e}},async mounted(){if(null!=this.data)if(this.product.id=this.data.id,this.product.name=this.data.name,this.product.categories=this.data.categories,this.product.info=this.data.info,this.product.price=this.data.price,this.product.delivery=this.data.delivery,this.product.public=this.data.public,this.product.product_picture=this.data.product_picture,this.registration)this.product.image=this.data.image,this.product.imageBefore=this.data.image,this.picture=this.data.image;else if(null!=this.data.product_picture){const e=await tt.storage.from("public/products-pictures").download(this.data.product_picture);null!=e.data&&(this.product.image=await e.data.text(),this.product.imageBefore=this.product.image,this.picture=this.product.image),e.error&&console.warn(e.error)}else null!=this.data.image&&(this.product.image=this.data.image,this.product.imageBefore=this.data.image,this.picture=this.data.image)},methods:{stopEditingProduct(e){this.edit=!1,null!=e&&(this.product=e,this.picture=e.image,this.registration&&this.$emit("editProduct",e))},deleteProduct(e){this.edit=!1,this.$emit("deleteProduct",e)}}};const ts=(0,E.Z)(es,[["render",Xi],["__scopeId","data-v-c4cf3c74"]]);var is=ts;const ss={class:"type"},as={class:"input-group-text"},ns={key:0,class:"fa-solid fa-cart-shopping fa-lg"},rs={key:1,class:"fa-solid fa-house fa-lg"},os={key:2,class:"fa-solid fa-user fa-lg"},ls={key:3,class:"fa-solid fa-gavel fa-lg"},cs={key:4,class:"fa-solid fa-box-open fa-lg"},ds={key:5,class:"fa-solid fa-dollar-sign fa-lg"},us={key:6,class:"fa-solid fa-file"},ps={class:"name"};function ms(e,t,i,s,n,r){const o=(0,a.up)("EditAccountingEntryOverlay");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.edit?((0,a.wg)(),(0,a.j4)(o,{key:0,data:s.entry,products:i.products,onStopEditingEntry:t[0]||(t[0]=e=>r.stopEditingEntry(e)),onDeleteEntry:t[1]||(t[1]=e=>r.deleteEntry(e))},null,8,["data","products"])):(0,a.kq)("",!0),(0,a._)("div",{class:"card",onClick:t[2]||(t[2]=e=>n.edit=!0)},[(0,a._)("div",ss,[(0,a._)("span",as,["Einkauf-"==s.entry.type?((0,a.wg)(),(0,a.iD)("i",ns)):"Miete-"==s.entry.type?((0,a.wg)(),(0,a.iD)("i",rs)):"Gehalt-"==s.entry.type?((0,a.wg)(),(0,a.iD)("i",os)):"Steuern-"==s.entry.type?((0,a.wg)(),(0,a.iD)("i",ls)):"Verkauf+"==s.entry.type?((0,a.wg)(),(0,a.iD)("i",cs)):((0,a.wg)(),(0,a.iD)("i",ds)),null!=s.entry.bill_picture?((0,a.wg)(),(0,a.iD)("i",us)):(0,a.kq)("",!0)])]),(0,a._)("p",ps,(0,Ue.zw)(s.entry.name),1),(0,a._)("p",{class:(0,Ue.C_)(["price",{income:s.entry.amount>0,expense:s.entry.amount<0}])},(0,Ue.zw)(s.entry.amount>0?"+":"")+(0,Ue.zw)(s.entry.amount)+" "+(0,Ue.zw)(s.entry.currencyIsEuro?"€":"$"),3)])],64)}const hs=e=>((0,a.dD)("data-v-16b00ad2"),e=e(),(0,a.Cn)(),e),gs={class:"overlay"},vs={class:"card"},ys={class:"card-header"},fs=hs((()=>(0,a._)("h4",{class:"card-title"},"Eintrag",-1))),bs={class:"card-body scroll mt-4"},_s={key:0,class:"details"},ws={class:"day"},ks={class:"time"},Es={class:"userName"},Cs={class:"needs-validation",novalidate:""},As={class:"input-group mb-3"},Ss=hs((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),xs=["value"],Ds=(0,a.uE)('<option value="" selected data-v-16b00ad2>Typ</option><option value="Verkauf+" data-v-16b00ad2> Verkauf </option><option value="Einkauf-" data-v-16b00ad2>Einkauf</option><option value="Gehalt-" data-v-16b00ad2>Gehalt</option><option value="Miete-" data-v-16b00ad2>Miete</option><option value="Steuern-" data-v-16b00ad2>Steuern</option><option value="Sonstige Einnahme+" data-v-16b00ad2> Sonstige Einnahme </option><option value="Sonstige Ausgabe-" data-v-16b00ad2>Sonstige Ausgabe</option>',8),Ps=[Ds],Is={key:0,class:"input-group mb-3"},Bs=hs((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-box-open"})],-1))),Ls=["value"],Us=hs((()=>(0,a._)("option",{value:"",selected:""},"Produkt",-1))),Ts=["value"],qs={class:"input-group mb-3"},zs=hs((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-bookmark"})],-1))),Fs=["value"],Os={key:1,class:"input-group mb-3"},Ms=hs((()=>(0,a._)("span",{class:"input-group-text currency-input"},"Währung",-1))),Rs={class:"input-group mb-3"},Ns={class:"input-group-text"},Gs=["value"],Vs={class:"input-group mb-3"},Ws=hs((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),$s=["value"],Zs={key:1,style:{"font-weight":"300","font-size":"0.9rem"}},js=["src"],Ks={class:"card-footer"},Hs={key:1,class:"confirm"},Ys=hs((()=>(0,a._)("i",{class:"fa-solid fa-check fa-lg"},null,-1))),Js=[Ys],Qs=hs((()=>(0,a._)("i",{class:"fa-solid fa-xmark fa-lg"},null,-1))),Xs=[Qs];function ea(e,t,i,n,r,o){const l=(0,a.up)("AlertPopup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",gs,[(0,a._)("div",vs,[(0,a._)("div",ys,[(0,a._)("div",null,[fs,(0,a._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=e=>o.stopEditingEntry())})])]),(0,a._)("div",bs,[""!=r.userName?((0,a.wg)(),(0,a.iD)("div",_s,[(0,a._)("span",ws,(0,Ue.zw)(r.day),1),(0,a._)("span",ks,(0,Ue.zw)(r.time),1),(0,a._)("span",Es,(0,Ue.zw)(r.userName),1)])):(0,a.kq)("",!0),(0,a._)("form",Cs,[(0,a._)("div",As,[Ss,(0,a._)("select",{class:"form-select",id:"entry-type","aria-label":"Default select example",value:n.entry.type,onChange:t[1]||(t[1]=e=>o.validateEntry(!1)),required:""},Ps,40,xs)]),"Verkauf+"==n.entry.type?((0,a.wg)(),(0,a.iD)("div",Is,[Bs,(0,a._)("select",{class:"form-select",id:"entry-product","aria-label":"Default select example",value:n.entry.product.id,onChange:t[2]||(t[2]=e=>o.validateEntry(!1,!0))},[Us,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.products,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,Ue.zw)(e.name)+" | "+(0,Ue.zw)(e.price)+" $",9,Ts)))),128))],40,Ls)])):(0,a.kq)("",!0),(0,a._)("div",qs,[zs,(0,a._)("input",{type:"text",id:"entry-name",class:"form-control",onInput:t[3]||(t[3]=e=>o.validateEntry(!1)),placeholder:"Name",value:n.entry.name,required:""},null,40,Fs)]),"Verkauf+"!=n.entry.type&&"Miete-"!=n.entry.type?((0,a.wg)(),(0,a.iD)("div",Os,[Ms,(0,a._)("a",{class:(0,Ue.C_)([{"btn-primary":!n.entry.currencyIsEuro},"form-control"]),onClick:t[4]||(t[4]=(0,s.iM)((e=>o.changeCurrency(!1)),["prevent"]))}," Schillis ",2),(0,a._)("a",{class:(0,Ue.C_)([{"btn-primary":n.entry.currencyIsEuro},"form-control"]),onClick:t[5]||(t[5]=(0,s.iM)((e=>o.changeCurrency(!0)),["prevent"]))}," Euro ",2)])):(0,a.kq)("",!0),(0,a._)("div",Rs,[(0,a._)("span",Ns,[n.entry.currencyIsEuro?((0,a.wg)(),(0,a.iD)("i",{key:0,class:(0,Ue.C_)(["fa-solid fa-euro-sign",{income:n.entry.type.includes("+"),expense:n.entry.type.includes("-")}])},null,2)):((0,a.wg)(),(0,a.iD)("i",{key:1,class:(0,Ue.C_)(["fa-solid fa-dollar-sign",{income:n.entry.type.includes("+"),expense:n.entry.type.includes("-")}])},null,2))]),(0,a._)("input",{type:"number",id:"entry-amount",class:(0,Ue.C_)(["form-control",{income:n.entry.type.includes("+"),expense:n.entry.type.includes("-")}]),onInput:t[6]||(t[6]=e=>o.validateEntry(!1)),placeholder:"Betrag",value:0==Math.abs(n.entry.amount)?"":Math.abs(n.entry.amount),required:""},null,42,Gs)]),(0,a._)("div",Vs,[Ws,(0,a._)("textarea",{type:"text",id:"entry-info",class:"form-control",onInput:t[7]||(t[7]=e=>o.validateEntry(!1)),placeholder:"Beschreibung",maxlength:"100",style:{resize:"none"},rows:"5",cols:"50",value:n.entry.info},null,40,$s)])]),null==n.entry.image?((0,a.wg)(),(0,a.iD)("p",Zs,"Füge einen Kassenzettel, eine Rechnung oder ähnliches hinzu.")):(0,a.kq)("",!0),null!=n.entry.image?((0,a.wg)(),(0,a.iD)("img",{key:2,src:this.entry.image,alt:"Unternehmen Bild",id:"productImage"},null,8,js)):(0,a.kq)("",!0),(0,a._)("input",{class:"form-control form-control-sm col-7",type:"file",id:"formFile",accept:"image/*",onChange:t[8]||(t[8]=e=>o.imageInput())},null,32)]),(0,a._)("div",Ks,[(0,a._)("button",{class:"btn btn-primary save-button",onClick:t[9]||(t[9]=e=>o.validateEntry(!0))},"Speichern"),this.delete||""==n.initialEntry.name?this.delete&&""!=n.initialEntry.name?((0,a.wg)(),(0,a.iD)("div",Hs,[(0,a._)("button",{class:"btn btn-primary confirm-button",onClick:t[11]||(t[11]=e=>o.deleteEntry())},Js),(0,a._)("button",{class:"btn btn-danger confirm-button",onClick:t[12]||(t[12]=e=>this.delete=!1)},Xs)])):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-danger delete-button",onClick:t[10]||(t[10]=e=>this.delete=!0)},"Löschen"))])])])],64)}function ta(e){if(null==e)return null;const t=e.split("-");return 3!=t.length?"":`${t[2]}.${t[1]}.${t[0]}`}function ia(e){if(null==e)return e;const t=e.split(":");return t.length<3?"":`${t[0]}:${t[1]}`}var sa={name:"EditEntryOverlay",props:["data","edit","products"],components:{AlertPopup:oi},emits:["stopEditingEntry","deleteEntry"],data(){return{continuePressed:!1,alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!",delete:!1,day:"",time:"",userName:""}},setup(){var e=(0,Yt.qj)({id:null,name:"",type:"",info:"",amount:"",product:null,created_at:"",imageBefore:null,image:null,bill_picture:"",currencyIsEuro:!1}),t=(0,Yt.qj)({id:null,name:"",type:"",info:"",amount:"",product:null,created_at:"",imageBefore:null,image:null,bill_picture:"",currencyIsEuro:!1}),i=(0,Yt.qj)({id:null,name:"",info:"",categories:[],price:"",delivery:!0,public:!0,product_picture:""});const s=(0,V.oR)();return{store:s,entry:e,initialEntry:t,product:i}},mounted(){if(null!=this.data){this.entry.id=this.data.id,this.entry.name=this.data.name,this.entry.type=this.data.type,this.entry.info=this.data.info,this.entry.amount=this.data.amount,this.entry.currencyIsEuro=this.data.currencyIsEuro,this.day=ta(this.data.created_at.split("T")[0]),this.time=ia(this.data.created_at.split("T")[1]),this.userName=this.data.userName;var e=this.products.find((e=>e.id==this.data.product));this.entry.product=null!=e?e:this.product,this.entry.imageBefore=this.data.image,this.entry.image=this.data.image,this.entry.bill_picture=this.data.bill_picture,this.initialEntry.id=this.data.id,this.initialEntry.name=this.data.name,this.initialEntry.type=this.data.type,this.initialEntry.info=this.data.info,this.initialEntry.amount=this.data.amount,this.initialEntry.currencyIsEuro=this.data.currencyIsEuro,this.initialEntry.product=null!=e?e:this.product,this.initialEntry.imageBefore=this.data.image,this.initialEntry.image=this.data.image,this.initialEntry.bill_picture=this.data.bill_picture}else this.entry.id=(0,li.Z)(),this.initialEntry.id=this.entry.id,this.entry.product=this.product,this.initialEntry.product=this.product},computed:{...(0,V.Se)(["getState"])},watch:{getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e)Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""!=this.alertTitle&&(s=new B.Modal(document.getElementById("alertModal"),{}),s.show()),this.stopEditingEntry();else if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""!=this.alertTitle){var s=new B.Modal(document.getElementById("alertModal"),{});s.show()}}},methods:{async stopEditingEntry(){const e=this.store.getters.getCurrentEntry;if(this.store.commit("setCurrentEntry",null),null!=e){if(this.entry.id=e.id,this.entry.name=e.name,this.entry.type=e.type,this.entry.info=e.info,this.entry.amount=e.amount,this.entry.product=e.product,this.entry.bill_picture=e.bill_picture,this.entry.currencyIsEuro=e.currencyIsEuro,this.entry.created_at=e.created_at,this.entry.userName=e.userName,null!=e.bill_picture){const t=await tt.storage.from("bill-pictures/"+this.store.getters.getUserCompany.id).download(e.bill_picture);null!=t.data&&(this.entry.image=await t.data.text(),this.entry.initialImage=this.entry.image),t.error&&console.warn(t.error)}}else this.entry=null;this.$emit("stopEditingEntry",this.entry)},deleteEntry(){this.$emit("deleteEntry",this.entry)},imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.entry.image=e.target.result},t.readAsDataURL(e.files[0])}},changeCurrency(e){this.entry.currencyIsEuro=e,this.entry.amount=0},async validateEntry(e,t){var i=document.getElementById("entry-name"),s=document.getElementById("entry-type"),a=document.getElementById("entry-amount"),n=document.getElementById("entry-info");if("Verkauf+"==this.entry.type){var r=document.getElementById("entry-product"),o=this.products.find((e=>e.id==r.value));this.entry.product=null!=o?o:this.product,t&&null!=this.entry.product.id&&""!=r.value&&null!=r.value?(this.entry.name=this.entry.product.name,this.entry.amount=this.entry.product.price):(this.entry.name=i.value,this.entry.amount=a.value)}else this.entry.name=i.value,this.entry.amount=a.value;if(this.entry.type=s.value,this.entry.info=n.value,e||this.continuePressed){e&&(i.value=i.value.trim()),e&&(n.value=n.value.trim());var l=!0;e&&0!=this.entry.amount&&(this.entry.currencyIsEuro?(this.entry.amount=parseFloat(this.entry.amount).toFixed(2).toString(),a.value=this.entry.amount):(this.entry.amount=parseFloat(this.entry.amount).toFixed(0).toString(),a.value=this.entry.amount)),i.value.trim().length<3?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),l=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),a.value<-9999||a.value>9999?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),l=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),""==s.value?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),l=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),this.continuePressed=!0,l&&e&&(this.initialEntry==this.entry?this.stopEditingEntry():(this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Aktualisieren des Eintrags ist ein Fehler aufgetreten. Versuche es später erneut.",this.successAlertTitle="",""==this.initialEntry.name?this.store.dispatch("addEntry",this.entry):this.store.dispatch("updateEntry",this.entry)))}}}};const aa=(0,E.Z)(sa,[["render",ea],["__scopeId","data-v-16b00ad2"]]);var na=aa,ra={name:"AccountingEntryTile",props:["data","products"],components:{EditAccountingEntryOverlay:na},emits:["deleteEntry","stopEditingEntry"],data(){return{edit:!1,picture:null}},setup(){var e=(0,Yt.qj)({id:null,name:"",type:"",info:"",amount:"",product:null,created_at:"",imageBefore:null,image:null,bill_picture:"",currencyIsEuro:!1});const t=(0,V.oR)(),i=(0,a.Fl)((()=>t.state.userCompany));return{entry:e,store:t,companyData:i}},async mounted(){if(null!=this.data)if(this.entry.id=this.data.id,this.entry.name=this.data.name,this.entry.type=this.data.type,this.entry.info=this.data.info,this.entry.amount=this.data.amount,this.entry.bill_picture=this.data.bill_picture,this.entry.currencyIsEuro=this.data.currencyIsEuro,void 0!=this.data.users?this.entry.userName=this.data.users.name:this.entry.userName=this.data.userName,this.entry.created_at=this.data.created_at,null!=this.data.bill_picture){const e=await tt.storage.from("bill-pictures/"+this.store.getters.getUserCompany.id).download(this.data.bill_picture);null!=e.data&&(this.entry.image=await e.data.text(),this.entry.imageBefore=this.entry.image,this.picture=this.entry.image),e.error&&console.warn(e.error)}else null!=this.data.image&&(this.entry.image=this.data.image,this.entry.imageBefore=this.entry.image,this.picture=this.data.image)},methods:{stopEditingEntry(e){this.edit=!1,null!=e&&(this.entry=e,this.picture=e.image,this.$emit("stopEditingEntry",e))},deleteEntry(e){this.edit=!1,this.$emit("deleteEntry",e)}}};const oa=(0,E.Z)(ra,[["render",ms],["__scopeId","data-v-d7d013d8"]]);var la=oa,ca={name:"SortableList",emits:["deleteProduct","deleteEntry","stopEditingEntry"],data(){return{categories:[],chosenCategories:[],searchString:"",shownItems:[],sortedShownItems:[],sortBy:"AccountingEntryTile"==this.element?"created_at":"",dir:"up",directLinks:[],focus:!1}},props:["items","element","loading","noSearch","sortByCategories","showCategory","products"],methods:{sort:function(){if(this.sortedShownItems=this.shownItems,""!=this.sortBy){if("category"==this.sortBy){var e=[];if("ProductTile"==this.element){e=["Essen","Trinken","Gegenstand","Dienstleistung","Aktivität","Event","Sonstiges"];for(var t=0;t<this.sortedShownItems.length;t++)this.sortedShownItems[t].category=e.indexOf(this.sortedShownItems[t].categories[0])}else{e=["Verkauf+","Einkauf-","Gehalt-","Miete-","Steuern-","Sonstige Einnahmen+","Sonstige Ausgaben-"];for(var i=0;i<this.sortedShownItems.length;i++)this.sortedShownItems[i].category=e.indexOf(this.sortedShownItems[i].type)}}else if("amount"==this.sortBy)return this.sortedShownItems.sort(((e,t)=>(e.currencyIsEuro&&(e.amount=10*e.amount),t.currencyIsEuro&&(t.amount=10*t.amount),"string"==typeof e[this.sortBy]&&"string"==typeof t[this.sortBy]?e[this.sortBy].localeCompare(t[this.sortBy]):Math.abs(e[this.sortBy])>Math.abs(t[this.sortBy])?1:Math.abs(e[this.sortBy])<Math.abs(t[this.sortBy])?-1:0))),void("down"==this.dir&&this.sortedShownItems.reverse());this.sortedShownItems.sort(((e,t)=>"string"==typeof e[this.sortBy]&&"string"==typeof t[this.sortBy]?e[this.sortBy].localeCompare(t[this.sortBy]):e[this.sortBy]>t[this.sortBy]?1:e[this.sortBy]<t[this.sortBy]?-1:0)),("up"==this.dir&&"created_at"==this.sortBy||"down"==this.dir&&"created_at"!=this.sortBy)&&this.sortedShownItems.reverse()}else this.shuffleArray(this.sortedShownItems)},searchForString:function(e,t){if(e.startsWith("/")&&(e=e.substring(1)),null==t)return 0;let i=0;if("object"==typeof t){if(!(t instanceof Array)){let e=[],i=[];i="AccountingEntryTile"==this.element?["name","type","info"]:["name","company_name","info"],i.forEach((i=>e.push(t[i]))),t=e}for(let s=0;s<t.length;s++)i+=this.searchForString(e,t[s]);return i}if("string"!=typeof t)return 0;let s=t.match(new RegExp(e,"gi"));return null==s?0:s.length},generateShownItems:function(){let e=[];for(let t=0;t<this.items.length;t++){let i=this.items[t],s=!0;if(0==this.searchForString(this.searchString,i))s=!1;else if("AccountingEntryTile"==this.element)s=!!this.chosenCategories.includes(i.type)||(!(!this.chosenCategories.includes("Einnahmen")||!i.type.includes("+"))||(!(!this.chosenCategories.includes("Ausgaben")||!i.type.includes("-"))||0==this.chosenCategories.length));else if(null==i.categories&&0!=this.chosenCategories.length)s=!1;else for(let e=0;e<this.chosenCategories.length;e++)i.categories.includes(this.chosenCategories[e])||(s=!1),"Gastronomie & Dienstleistung"!=i.categories[0]||"Gastronomie"!=this.chosenCategories[e]&&"Dienstleistung"!=this.chosenCategories[e]||(s=!0);s&&e.push(i)}e!=this.shownItems&&(this.shownItems=e,this.sort())},generateCategories:function(){for(let e=0;e<this.items.length;e++){let t=this.items[e];if(null!=t.categories)for(let e=0;e<t.categories.length;e++){let i=t.categories[e];this.categories.includes(i)||this.categories.push(i)}}},entryCategoryChange(){const e=document.getElementById("entryCategory"),t=e.value;this.chosenCategories=""==t?[]:[t]},productCategoryChange(){const e=document.getElementById("productCategory"),t=e.value;this.chosenCategories=""==t?[]:[t]},entrySortChange(){const e=document.getElementById("entrySort"),t=e.value;this.sortBy=t,console.log(t)},productSortChange(){const e=document.getElementById("productSort"),t=e.value;this.sortBy=t},aliasRoute(e){Uc.addRoute({path:"/"+e}),Uc.forward(),console.log("/"+e)},removeFocus(){setTimeout(function(){this.focus=!1}.bind(this),200)},shuffleArray(e){for(let t=e.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}},deleteProduct(e){this.$emit("deleteProduct",e)},deleteEntry(e){this.$emit("deleteEntry",e)},stopEditingEntry(e){this.$emit("stopEditingEntry",e)}},mounted(){this.sortByCategories&&(this.sortBy="category"),this.generateCategories(),this.generateShownItems()},watch:{items:function(){console.log("test"),this.generateCategories(),this.generateShownItems()},element:function(){this.generateShownItems()},searchString:function(){if(this.generateShownItems(),this.directLinks=[],"CompanyTile"==this.element&&this.searchString.startsWith("/"))for(let e=0;e<this.items.length;e++)void 0!==this.items[e].alias&&this.items[e].alias.startsWith(this.searchString.substring(1))&&this.directLinks.push(this.items[e])},dir:function(){this.generateShownItems()},sortBy:function(){this.generateShownItems()},chosenCategories:function(){this.generateShownItems()}},components:{ProductTile:is,AccountingEntryTile:la}};const da=(0,E.Z)(ca,[["render",Li],["__scopeId","data-v-8274b76a"]]);var ua=da,pa={name:"ProductView",components:{TitleDiv:lt,EditProductOverlay:ui,SortableList:ua},setup(){const e=(0,V.oR)(),t=(0,a.Fl)((()=>e.state.userCompany));return{store:e,companyData:t}},data(){return{products:[],newProduct:!1,key:0}},async created(){const{data:e,error:t}=await tt.from("products").select().eq("company_id",this.companyData.id);if(t)throw t;this.products=e.sort(((e,t)=>e.name.localeCompare(t.name)))},methods:{deleteProduct(e){this.newProduct=!1,console.log("test");var t=this.products.findIndex((t=>t.id==e.id));this.products.splice(t,1),this.key++,this.store.dispatch("deleteProduct",e)},stopEditingProduct(e){this.newProduct=!1,console.log("test"),null!=e&&(this.products.push(e),this.key++)},addProduct(){this.newProduct=!0}}};const ma=(0,E.Z)(pa,[["render",Je],["__scopeId","data-v-0ffffca6"]]);var ha=ma;function ga(e,t,i,s,n,r){const o=(0,a.up)("AlertBanner"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("InfoDiv");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o,{title:"Coming Soon"}),(0,a.Wm)(l,{title:"Services"}),(0,a.Wm)(c,{info:"Hier hast du in Zukunft eine Übersicht über alle Services, die Schillerando anbietet. Du kannst Services wie Lieferung von Waren aus dem Ausland oder Müllentsorgung buchen. Außerdem kannst du die Hilfe eines Schillerando Mitarbeiters anfordern, wenn du Probleme mit der Verwaltung deines Unternehmens oder der Buchhaltung hast."})],64)}const va={class:"container-fluid"};function ya(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",va,[(0,a._)("p",null,(0,Ue.zw)(i.info),1)])}var fa={name:"InfoDiv",props:{info:String}};const ba=(0,E.Z)(fa,[["render",ya],["__scopeId","data-v-7cea1aa2"]]);var _a=ba;const wa={id:"banner"},ka={class:"container-fluid"},Ea={class:"banner"};function Ca(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("section",wa,[(0,a._)("div",ka,[(0,a._)("h1",Ea,(0,Ue.zw)(i.title),1)])])}var Aa={name:"AlertBanner",props:{title:String}};const Sa=(0,E.Z)(Aa,[["render",Ca],["__scopeId","data-v-1c984a72"]]);var xa=Sa,Da={name:"ServiceView",components:{TitleDiv:lt,AlertBanner:xa,InfoDiv:_a}};const Pa=(0,E.Z)(Da,[["render",ga]]);var Ia=Pa;const Ba=e=>((0,a.dD)("data-v-bbc38be0"),e=e(),(0,a.Cn)(),e),La={class:"container"},Ua={class:"row"},Ta={class:"col-12"},qa={key:0,class:"alert alert-warning",role:"alert"},za={class:"col-lg-8"},Fa={class:"card m-1"},Oa=Ba((()=>(0,a._)("div",{class:"card-header"},"Informationen",-1))),Ma={class:"card-body"},Ra={class:"image"},Na={key:0,class:"no-image"},Ga=Ba((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),Va=[Ga],Wa=["src"],$a=["disabled"],Za={class:"needs-validation",novalidate:""},ja={class:"input-group mb-3"},Ka=Ba((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-shop"})],-1))),Ha=["value","disabled"],Ya={class:"input-group mb-3"},Ja=Ba((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-location-dot"})],-1))),Qa=["value","disabled"],Xa={class:"input-group mb-3"},en=Ba((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),tn=["value","disabled"],sn=(0,a.uE)('<option selected data-v-bbc38be0>Kategorie</option><option value="Gastronomie" data-v-bbc38be0>Gastronomie</option><option value="Kultur" data-v-bbc38be0>Kultur</option><option value="Dienstleistung" data-v-bbc38be0> Dienstleistung </option><option style="color:red;" value="Gastronomie &amp; Dienstleistung" data-v-bbc38be0> Gastronomie &amp; Dienstleistung </option>',5),an=[sn],nn={class:"input-group mb-3"},rn=Ba((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),on=["value","disabled"],ln={key:0,class:"py-2",style:{width:"fit-content"}},cn={key:1,style:{display:"flex"}},dn={class:"py-2 mx-0 edit-buttons"},un=Ba((()=>(0,a._)("div",{class:"loading-button"},"Speichern",-1))),pn=Ba((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),mn=[un,pn],hn={class:"py-2 mx-0 edit-buttons"},gn={class:"col-lg-4"},vn={class:"card m-1"},yn=Ba((()=>(0,a._)("div",{class:"card-header"},"Mitarbeiter",-1))),fn={class:"card-body"},bn={class:"input-group mb-3"},_n=Ba((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa fa-envelope"})],-1))),wn=["value","disabled","onInput"],kn=["onClick"],En=Ba((()=>(0,a._)("i",{class:"fa fa-trash"},null,-1))),Cn=[En],An={key:0},Sn={key:0,class:"py-2",style:{width:"fit-content"}},xn={key:1},Dn={style:{display:"flex"}},Pn={class:"py-2 mx-0 edit-buttons"},In=Ba((()=>(0,a._)("div",{class:"loading-button"},"Speichern",-1))),Bn=Ba((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Ln=[In,Bn],Un={class:"py-2 mx-0 edit-buttons"};function Tn(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",La,[(0,a._)("div",Ua,[(0,a._)("div",Ta,[0==s.companyData.verified?((0,a.wg)(),(0,a.iD)("div",qa," Dein Unternehmen wird noch überprüft. Erst nach Bestätigung werden dein Unternehmen und seine Produkte auf schillerando.de zu sehen sein. ")):(0,a.kq)("",!0)]),(0,a._)("div",za,[(0,a._)("div",Fa,[Oa,(0,a._)("div",Ma,[(0,a._)("div",Ra,[null==s.form.image?((0,a.wg)(),(0,a.iD)("div",Na,Va)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.form.image,alt:"Unternehmen Bild",id:"companyImage"},null,8,Wa))]),(0,a._)("input",{class:"form-control form-control-sm mb-4",type:"file",id:"formFile",accept:"image/*",onChange:t[0]||(t[0]=e=>r.imageInput()),disabled:!n.isCompanyEditing},null,40,$a),(0,a._)("form",Za,[(0,a._)("div",ja,[Ka,(0,a._)("input",{type:"text",id:"company-name",class:"form-control",placeholder:"Name",onInput:t[1]||(t[1]=e=>r.validateCompanyChange(!1)),value:s.companyData.name,disabled:!n.isCompanyEditing,required:""},null,40,Ha)]),(0,a._)("div",Ya,[Ja,(0,a._)("input",{type:"text",id:"company-location",class:"form-control",placeholder:"Raum, Pausenhof, ...",onInput:t[2]||(t[2]=e=>r.validateCompanyChange(!1)),value:s.companyData.location,disabled:!n.isCompanyEditing,required:""},null,40,Qa)]),(0,a._)("div",Xa,[en,(0,a._)("select",{class:"form-select",id:"company-category","aria-label":"Default select example",value:s.companyData.categories[0],onChange:t[3]||(t[3]=e=>r.validateCompanyChange(!1)),disabled:!n.isCompanyEditing,required:"",color:{isCompanyEditing:"red"}},an,40,tn)]),(0,a._)("div",nn,[rn,(0,a._)("textarea",{type:"text",id:"company-info",class:"form-control",placeholder:"Beschreibung",required:"",maxlength:"400",style:{resize:"none"},rows:"5",cols:"50",onInput:t[4]||(t[4]=e=>r.validateCompanyChange(!1)),value:s.companyData.info,disabled:!n.isCompanyEditing},null,40,on)])]),n.isCompanyEditing?((0,a.wg)(),(0,a.iD)("div",cn,[(0,a._)("div",dn,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[6]||(t[6]=e=>r.validateCompanyChange(!0))},mn)]),(0,a._)("div",hn,[(0,a._)("button",{type:"button",class:"btn btn-warning px-2 mx-2",onClick:t[7]||(t[7]=e=>r.cancelCompanyChange())}," Abbrechen ")])])):((0,a.wg)(),(0,a.iD)("div",ln,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[5]||(t[5]=e=>r.editCompany())}," Bearbeiten ")]))])])]),(0,a._)("div",gn,[(0,a._)("div",vn,[yn,(0,a._)("div",fn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.employees,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a._)("div",bn,[_n,(0,a._)("input",{type:"email",class:"form-control employees-mail",placeholder:"Email","data-regex":"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",value:n.employees[t],disabled:!n.isEmployeesEditing,required:"",onInput:e=>r.validateEmployeesChange(!1,t)},null,40,wn),n.isEmployeesEditing?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"input-group-text",onClick:e=>n.employees.splice(t,1)},Cn,8,kn)):(0,a.kq)("",!0)])])))),128)),s.userData.user_metadata.isCompanyLeader?((0,a.wg)(),(0,a.iD)("div",An,[n.isEmployeesEditing?((0,a.wg)(),(0,a.iD)("div",xn,[this.employees.length<6?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[9]||(t[9]=e=>r.addEmployee()),class:"btn btn-primary my-4",style:{width:"max-content",display:"block"}}," Mitarbeiter hinzufügen ")):(0,a.kq)("",!0),(0,a._)("div",Dn,[(0,a._)("div",Pn,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[10]||(t[10]=e=>r.validateEmployeesChange(!0,0))},Ln)]),(0,a._)("div",Un,[(0,a._)("button",{type:"button",class:"btn btn-warning px-2 mx-2",onClick:t[11]||(t[11]=e=>r.cancelEmployeesChange())}," Abbrechen ")])])])):((0,a.wg)(),(0,a.iD)("div",Sn,[(0,a._)("button",{type:"button",class:"btn btn-primary px-2 mx-2",onClick:t[8]||(t[8]=e=>r.editEmployees())}," Bearbeiten ")]))])):(0,a.kq)("",!0)])])])])])])}var qn={name:"SettingsView",components:{AlertPopup:oi},data(){return{isCompanyEditing:!1,isEmployeesEditing:!1,saveCompanyPressed:!1,saveEmployeesPressed:!1,employees:[],alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!"}},computed:{...(0,V.Se)(["getState"])},setup(){const e=(0,V.oR)(),t=(0,a.Fl)((()=>e.state.user)),i=(0,a.Fl)((()=>e.state.userCompany)),s=(0,Yt.qj)({name:"",location:"",category:"Kategorie",info:"",employees:[""],image:null,unchangedImage:null});return{store:e,userData:t,companyData:i,form:s}},watch:{companyData:function(){const e=this.companyData.employees;e.forEach(((e,t)=>{this.employees[t]=e}))},getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new B.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new B.Modal(document.getElementById("alertModal"),{});s.show()}}},async created(){this.employees=this.companyData.employees},async mounted(){if(null!=this.companyData.header_picture){const e=await tt.storage.from("public/sellers-headings").download(this.companyData.header_picture);null!=e.data&&(this.form.image=await e.data.text(),this.form.unchangedImage=await e.data.text()),e.error&&console.warn(e.error)}},methods:{imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.form.image=e.target.result},t.readAsDataURL(e.files[0])}},addEmployee(){var e=document.getElementsByClassName("employees-mail"),t=0;Array.from(e).forEach((e=>{this.employees[t]=e.value,e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t++})),this.employees.push("")},cancelChanges(){this.cancelCompanyChange()},editCompany(){this.isCompanyEditing=!0;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");e.disabled=!1,t.disabled=!1,i.disabled=!1,s.disabled=!1},editEmployees(){this.isEmployeesEditing=!0;var e=document.getElementsByClassName("employees-mail");Array.from(e).forEach((e=>{e.disabled=!1}))},async validateCompanyChange(e){if(e||this.saveCompanyPressed){var t=document.getElementById("company-name"),i=document.getElementById("company-location"),s=document.getElementById("company-category"),a=document.getElementById("company-info");e&&(t.value=t.value.trim()),e&&(i.value=i.value.trim()),e&&(a.value=a.value.trim());var n=!0;if(t.value.trim().length<3?(t.classList.remove("is-valid"),t.classList.add("is-invalid"),n=!1):(t.classList.remove("is-invalid"),t.classList.add("is-valid")),i.value.trim().length<3||i.value.trim().length>40?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),n=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),"Kategorie"==s.value?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),n=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),a.value.trim().length<10?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),n=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),this.saveCompanyPressed=!0,n&&e){if(this.store.commit("setState","loading"),t.value.replace(/\s/g,"").toLowerCase()!=this.companyData.alias){const{data:e,error:n}=await tt.from("companies").select().eq("alias",t.value.replace(/\s/g,"").toLowerCase());if(n||null!=e[0])return t.classList.remove("is-valid"),t.classList.add("is-invalid"),this.form.name=t.value,this.form.location=i.value,this.form.category=s.value,this.form.info=a.value,this.failureAlertTitle="Name schon vergeben",this.failureAlertInfo="Es gibt bereits ein Unternehmen mit diesem Namen. Bitte wähle einen anderen!",void this.store.commit("setState","failure")}this.form.name=t.value,this.form.location=i.value,this.form.info=a.value,this.form.category=s.value,this.saveCompany()}}},validateEmployeesChange(e,t){if(e||this.saveEmployeesPressed){var i=document.getElementsByClassName("employees-mail"),s=i[t].getAttribute("data-regex"),a=!0;e?Array.from(i).forEach((e=>{e.value.match(s)?(e.classList.remove("is-invalid"),e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),a=!1)})):i[t].value.match(s)?(i[t].classList.remove("is-invalid"),i[t].classList.add("is-valid")):(i[t].classList.remove("is-valid"),i[t].classList.add("is-invalid"),a=!1),this.saveEmployeesPressed=!0,a&&e&&this.saveEmployees()}},async saveCompany(){try{this.isCompanyEditing=!1,this.saveCompanyPressed=!1;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");console.log(this.companyData),console.log(this.form);const{data:r,error:o}=await tt.from("companies").update({alias:this.form.name.replace(/\s/g,"").toLowerCase(),name:this.form.name,categories:[this.form.category],location:this.form.location,info:this.form.info}).eq("id",this.companyData.id).select();if(console.log(r),console.log(o),o)throw o;if(null!=this.form.image&&this.form.image!=this.form.unchangedImage){{const{error:e}=await tt.storage.from("sellers-headings").remove([r[0].header_picture]);if(e)throw e}var a=this.form.image.substring(this.form.image.indexOf(":"),this.form.image.indexOf(";")).replace(":",""),n=r[0].id+"."+a.split("/")[1];{const{error:e}=await tt.storage.from("sellers-headings").upload(n,this.form.image,{cacheControl:"3600",upsert:!0,contentType:a});if(e)throw e}{const{error:e}=await tt.from("companies").update({header_picture:n}).eq("id",r[0].id);if(e)throw e}}this.successAlertTitle="",this.store.commit("setState","success"),e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t.classList.remove("is-valid"),t.classList.remove("is-invalid"),i.classList.remove("is-valid"),i.classList.remove("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid")}catch(r){this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Ändern der Unternehmens-Daten ist ein Fehler aufgetreten!",this.store.commit("setState","failure"),this.cancelCompanyChange(),console.log(r.error_description||r.message)}},async saveEmployees(){try{const t=[];var e=document.getElementsByClassName("employees-mail");if(Array.from(e).forEach((e=>{""!=e.value&&t.push(e.value),e.classList.remove("is-valid"),e.classList.remove("is-invalid")})),JSON.stringify(t)!=JSON.stringify(this.companyData.employees)){const{error:e}=await tt.from("companies").update({employees:t}).eq("user_uid",this.userData.id);if(e)throw e}this.isEmployeesEditing=!1,this.saveEmployeesPressed=!1,Array.from(e).forEach((e=>{e.classList.remove("is-valid"),e.classList.remove("is-invalid")}))}catch(t){this.failureAlertTitle="Fehler",this.failureAlertInfo="Beim Ändern der Mitarbeiter ist ein Fehler aufgetreten!",this.store.commit("setState","failure"),this.cancelEmployeesChange(),console.log(t.error_description||t.message)}},cancelCompanyChange(){this.isCompanyEditing=!1,this.saveCompanyPressed=!1;var e=document.getElementById("company-name"),t=document.getElementById("company-location"),i=document.getElementById("company-category"),s=document.getElementById("company-info");e.value=this.companyData.name,t.value=this.companyData.location,i.value=this.companyData.categories[0],s.value=this.companyData.info,e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t.classList.remove("is-valid"),t.classList.remove("is-invalid"),i.classList.remove("is-valid"),i.classList.remove("is-invalid"),s.classList.remove("is-valid"),s.classList.remove("is-invalid")},cancelEmployeesChange(){this.isEmployeesEditing=!1,this.saveEmployeesPressed=!1,this.employees=this.companyData.employees.filter((e=>""!=e)),console.log(this.employees);var e=document.getElementsByClassName("employees-mail"),t=0;Array.from(e).forEach((e=>{e.value=this.employees[t],e.classList.remove("is-valid"),e.classList.remove("is-invalid"),t++}))}}};const zn=(0,E.Z)(qn,[["render",Tn],["__scopeId","data-v-bbc38be0"]]);var Fn=zn;const On=e=>((0,a.dD)("data-v-33d03e5c"),e=e(),(0,a.Cn)(),e),Mn={class:"container"},Rn={class:"row justify-content-center"},Nn={class:"mb-4"},Gn={class:"card container-card p-4 pb-0"},Vn={class:"card-body"},Wn=On((()=>(0,a._)("h1",null,"Unternehmen Registrierung",-1))),$n=On((()=>(0,a._)("p",{class:"text-muted"}," Registriere dein Unternehmen auf Schillerando ",-1))),Zn={key:0,class:"row"},jn={class:"col-md-4"},Kn={class:"image"},Hn={key:0,class:"no-image"},Yn=On((()=>(0,a._)("i",{class:"fa-solid fa-image fa-2xl"},null,-1))),Jn=[Yn],Qn=["src"],Xn=On((()=>(0,a._)("p",{style:{"font-weight":"300","font-size":"0.9rem"}},"Füge ein Bild hinzu, welches dein Unternehmen repräsentiert. (Optimales Format 16:9)",-1))),er={class:"col-md-8"},tr={class:"needs-validation",novalidate:""},ir={class:"input-group mb-3"},sr=On((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-shop"})],-1))),ar=["value"],nr={class:"input-group mb-3"},rr=On((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-location-dot"})],-1))),or=["value"],lr={class:"input-group mb-3"},cr=On((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-list"})],-1))),dr=["value"],ur=(0,a.uE)('<option selected data-v-33d03e5c>Kategorie</option><option value="Gastronomie" data-v-33d03e5c>Gastronomie</option><option value="Kultur" data-v-33d03e5c>Kultur</option><option value="Dienstleistung" data-v-33d03e5c>Dienstleistung</option><option value="Gastronomie &amp; Dienstleistung" data-v-33d03e5c> Gastronomie &amp; Dienstleistung </option>',5),pr=[ur],mr={class:"input-group mb-3"},hr=On((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa-solid fa-circle-info"})],-1))),gr=["value"],vr={key:1},yr=On((()=>(0,a._)("h5",{class:"pt-4"}," Füge Mitarbeiter hinzu, damit sie bei der Verwaltung deines Unternehmens helfen können! ",-1))),fr={class:"py-3 row"},br={class:"input-group mb-3"},_r=On((()=>(0,a._)("span",{class:"input-group-text"},[(0,a._)("i",{class:"fa fa-envelope"})],-1))),wr=["value"],kr=On((()=>(0,a._)("div",{class:"loading-button"},"Mitarbeiter hinzufügen",-1))),Er=On((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Cr=[kr,Er],Ar={key:2},Sr=On((()=>(0,a._)("h4",null,"Produkte hinzufügen",-1))),xr={class:"list"},Dr=On((()=>(0,a._)("div",{class:"loading-button"},"Produkt hinzufügen",-1))),Pr=On((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Ir=[Dr,Pr],Br={key:3},Lr=On((()=>(0,a._)("h4",{class:"pt-4"},"Abo wählen",-1))),Ur={key:4},Tr=On((()=>(0,a._)("h4",null,"Bedingungen",-1))),qr={class:"card mb-4 p-4",style:{"overflow-y":"scroll",height:"400px"}},zr={class:"form-check mb-4"},Fr=On((()=>(0,a._)("label",{class:"form-check-label",for:"acceptCheck"}," Bedingungen akzeptieren ",-1))),Or={style:{height:"80px"}},Mr={key:0,class:"back"},Rr=On((()=>(0,a._)("div",null,"Zurück",-1))),Nr=[Rr],Gr={key:1,class:"skip"},Vr=On((()=>(0,a._)("div",{class:"loading-button"},"Später",-1))),Wr=On((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),$r=[Vr,Wr],Zr={key:2,class:"continue"},jr=On((()=>(0,a._)("div",{class:"loading-button"},"Weiter",-1))),Kr=On((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Hr=[jr,Kr],Yr={key:3,class:"continue"},Jr=On((()=>(0,a._)("div",{class:"loading-button"},"Registrieren",-1))),Qr=On((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Xr=[Jr,Qr],eo=On((()=>(0,a._)("div",{class:"progress-container"},[(0,a._)("div",{class:"progress",style:{height:"20px"}},[(0,a._)("div",{class:"progress-bar",id:"progress",role:"progressbar","aria-label":"Example 20px high",style:{width:"20%"}})])],-1)));function to(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup"),l=(0,a.up)("EditProductOverlay"),c=(0,a.up)("ProductTile"),d=(0,a.up)("AboOptions"),u=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),n.newProduct?((0,a.wg)(),(0,a.j4)(l,{key:0,registration:!0,onStopEditingProduct:t[0]||(t[0]=e=>r.stopEditingProduct(e)),onDeleteProduct:t[1]||(t[1]=e=>r.deleteProduct())})):(0,a.kq)("",!0),(0,a._)("div",Mn,[(0,a._)("div",Rn,[(0,a._)("div",Nn,[(0,a._)("div",Gn,[(0,a._)("div",Vn,[Wn,$n,0==this.page?((0,a.wg)(),(0,a.iD)("div",Zn,[(0,a._)("div",jn,[(0,a._)("div",Kn,[null==s.form.image?((0,a.wg)(),(0,a.iD)("div",Hn,Jn)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:this.form.image,alt:"Unternehmen Bild",id:"companyImage"},null,8,Qn))]),(0,a._)("input",{class:"form-control form-control-sm col-7",type:"file",id:"formFile",accept:"image/*",onChange:t[2]||(t[2]=e=>r.imageInput())},null,32),Xn]),(0,a._)("div",er,[(0,a._)("form",tr,[(0,a._)("div",ir,[sr,(0,a._)("input",{type:"text",id:"signup-name",class:"form-control",onInput:t[3]||(t[3]=e=>r.validatePage(0,!1)),placeholder:"Name",value:s.form.name,required:""},null,40,ar)]),(0,a._)("div",nr,[rr,(0,a._)("input",{type:"text",id:"signup-location",class:"form-control",onInput:t[4]||(t[4]=e=>r.validatePage(0,!1)),placeholder:"Raum, Pausenhof, ...",value:s.form.location,required:""},null,40,or)]),(0,a._)("div",lr,[cr,(0,a._)("select",{class:"form-select",id:"signup-category","aria-label":"Default select example",value:s.form.category,onChange:t[5]||(t[5]=e=>r.validatePage(0,!1))},pr,40,dr)]),(0,a._)("div",mr,[hr,(0,a._)("textarea",{type:"text",id:"signup-info",class:"form-control",onInput:t[6]||(t[6]=e=>r.validatePage(0,!1)),placeholder:"Beschreibung",required:"",maxlength:"400",style:{resize:"none"},rows:"5",cols:"50",value:s.form.info},null,40,gr)])])])])):1==this.page?((0,a.wg)(),(0,a.iD)("div",vr,[yr,(0,a._)("div",fr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.form.employees,((e,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-6",key:e},[(0,a._)("div",br,[_r,(0,a._)("input",{type:"email",class:"form-control signup-mail",placeholder:"Email",onInput:t[7]||(t[7]=e=>r.validatePage(1,!1)),"data-regex":"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",value:s.form.employees[i],required:""},null,40,wr)])])))),128))]),this.form.employees.length<6?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[8]||(t[8]=e=>r.addEmployee()),class:"btn btn-primary col-md-9 mb-5",style:{width:"max-content"}},Cr)):(0,a.kq)("",!0)])):2==this.page?((0,a.wg)(),(0,a.iD)("div",Ar,[Sr,(0,a._)("div",xr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.form.products,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"product-div"},[(0,a.Wm)(c,{data:e,registration:!0,onDeleteProduct:t[9]||(t[9]=e=>r.deleteProduct(e)),onEditProduct:t[10]||(t[10]=e=>r.editProduct(e))},null,8,["data"])])))),128)),((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(2,(e=>(0,a._)("div",{key:e}))),64))]),(0,a._)("button",{type:"button",onClick:t[11]||(t[11]=e=>r.addProduct()),class:"btn btn-primary col-md-9 mt-3 mb-2",style:{width:"max-content"}},Ir)])):3==this.page?((0,a.wg)(),(0,a.iD)("div",Br,[Lr,(0,a.Wm)(d,{abo:s.form.abo,onChooseAbo:t[12]||(t[12]=e=>r.chooseAbo(e))},null,8,["abo"])])):4==this.page?((0,a.wg)(),(0,a.iD)("div",Ur,[Tr,(0,a._)("div",qr,[(0,a.Wm)(u)]),(0,a._)("div",zr,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"acceptCheck",onChange:t[13]||(t[13]=e=>r.validatePage(4,!1))},null,32),Fr])])):(0,a.kq)("",!0),(0,a._)("div",Or,[this.page>0?((0,a.wg)(),(0,a.iD)("div",Mr,[(0,a._)("button",{type:"button",onClick:t[14]||(t[14]=e=>this.page--),class:"btn btn-secondary"},Nr)])):(0,a.kq)("",!0),1==this.page||2==this.page?((0,a.wg)(),(0,a.iD)("div",Gr,[(0,a._)("button",{type:"button",onClick:t[15]||(t[15]=e=>r.skipPage()),class:"btn btn-secondary"},$r)])):(0,a.kq)("",!0),4!=this.page?((0,a.wg)(),(0,a.iD)("div",Zr,[(0,a._)("button",{type:"button",onClick:t[16]||(t[16]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},Hr)])):(0,a.kq)("",!0),4==this.page?((0,a.wg)(),(0,a.iD)("div",Yr,[(0,a._)("button",{type:"button",onClick:t[17]||(t[17]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},Xr)])):(0,a.kq)("",!0)])])]),eo])])])])}const io=e=>((0,a.dD)("data-v-39f734bc"),e=e(),(0,a.Cn)(),e),so={class:"row abo flex-card"},ao={class:"col-lg-4"},no=io((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},"Standard")],-1))),ro={class:"card-body"},oo={class:"list-unstyled mt-3 mb-4"},lo={class:"info-text"},co=io((()=>(0,a._)("li",{class:"info-text advantage"},"Kostenlose Buchhaltung",-1))),uo=io((()=>(0,a._)("li",{class:"info-text"},[(0,a.Uk)("Gebührenpflichtige Lieferungen"),(0,a._)("sup",null,"1")],-1))),po=io((()=>(0,a._)("li",{class:"info-text"},"Gebührenpflichtige Services",-1))),mo=io((()=>(0,a._)("li",{class:"info-text"},"-",-1))),ho=io((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a.Uk)("50$"),(0,a._)("sup",null,"2")])],-1))),go={class:"col-lg-4"},vo=io((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},"Delivery")],-1))),yo={class:"card-body"},fo={class:"list-unstyled mt-3 mb-4"},bo={class:"info-text"},_o=io((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Buchhaltung",-1))),wo=io((()=>(0,a._)("li",{class:"info-text advantage"},"Kostenlose Lieferungen",-1))),ko=io((()=>(0,a._)("li",{class:"info-text"},"Gebührenpflichtige Services",-1))),Eo=io((()=>(0,a._)("li",{class:"info-text"},"-",-1))),Co=io((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a.Uk)("100$"),(0,a._)("sup",null,"2")])],-1))),Ao={class:"col-lg-4"},So=io((()=>(0,a._)("div",{class:"card-header py-3"},[(0,a._)("h4",{class:"info-title my-0 fw-normal"},[(0,a.Uk)("Business "),(0,a._)("span",{style:{"margin-left":"10px","font-weight":"500"},class:"badge text-bg-danger"},"-20%")])],-1))),xo={class:"card-body"},Do={class:"list-unstyled mt-3 mb-4"},Po={class:"info-text"},Io=io((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Buchhaltung",-1))),Bo=io((()=>(0,a._)("li",{class:"info-text"},"Kostenlose Lieferungen",-1))),Lo=io((()=>(0,a._)("li",{class:"info-text advantage"}," Kostenlose Services ",-1))),Uo=io((()=>(0,a._)("li",{class:"info-text advantage"},"Bevorzugung",-1))),To=io((()=>(0,a._)("div",{class:"card-footer"},[(0,a._)("h4",{class:"mt-2"},[(0,a._)("span",{style:{"text-decoration":"line-through"}},"200$"),(0,a._)("span",{style:{color:"red","margin-left":"10px"}},"160$"),(0,a._)("sup",null,"2")])],-1))),qo={class:"col-12",style:{"margin-bottom":"40px"}},zo=io((()=>(0,a._)("div",{class:"card-body"}," Später auswählen ",-1))),Fo=[zo],Oo=io((()=>(0,a._)("p",{class:"note"},[(0,a._)("sup",null,"1"),(0,a.Uk)(" 10% Lieferkosten pro Bestellung für Unternehmen. Beispiel: Kunde bestellt Cola für 20$ (2€). Schillerando Mitarbeiter geht zu Unternehmen und kauft Cola für 18$ (1.8€). Schillerando Mitarbeiter liefert Cola zum Kunden und bekommt 20$ (2€). Schillerando erhält 2$ (0.20€) Lieferkosten.")],-1))),Mo=io((()=>(0,a._)("p",{class:"note"},[(0,a._)("sup",null,"2"),(0,a.Uk)(" $ entspricht der Staatswährung (1$ = 0.1€). Das Geld muss am ersten Tag von SAS bei Schillerando abgegeben werden bzw. wird von einem Schillerando Mitarbeiter eingesammelt.")],-1))),Ro=io((()=>(0,a._)("div",{class:"alert alert-danger",id:"alert-danger",role:"alert"}," Bitte wähle ein Abo aus! ",-1)));function No(e,t,i,s,n,r){const o=(0,a.up)("CompanyBadge");return(0,a.wg)(),(0,a.iD)("div",so,[(0,a._)("div",ao,[(0,a._)("div",{class:(0,Ue.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Standard"==i.abo}]),onClick:t[0]||(t[0]=e=>r.chooseAbo("Standard"))},[no,(0,a._)("div",ro,[(0,a._)("ul",oo,[(0,a._)("li",lo,[(0,a.Wm)(o,{verified:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Schillerando Partner ")]),co,uo,po,mo])]),ho],2)]),(0,a._)("div",go,[(0,a._)("div",{class:(0,Ue.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Delivery"==i.abo}]),onClick:t[1]||(t[1]=e=>r.chooseAbo("Delivery"))},[vo,(0,a._)("div",yo,[(0,a._)("ul",fo,[(0,a._)("li",bo,[(0,a.Wm)(o,{verified:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Schillerando Partner ")]),_o,wo,ko,Eo])]),Co],2)]),(0,a._)("div",Ao,[(0,a._)("div",{class:(0,Ue.C_)(["card mb-4 rounded-3 shadow-sm",{selected:"Business"==i.abo}]),onClick:t[2]||(t[2]=e=>r.chooseAbo("Business"))},[So,(0,a._)("div",xo,[(0,a._)("ul",Do,[(0,a._)("li",Po,[(0,a.Wm)(o,{verified:!0,premium:!0,style:{zoom:"80%","margin-right":"5px"}}),(0,a.Uk)(" Premium Partner ")]),Io,Bo,Lo,Uo])]),To],2)]),(0,a._)("div",qo,[(0,a._)("div",{class:(0,Ue.C_)(["card mb-3 rounded-3 shadow-sm",{selected:"Later"==i.abo}]),style:{"text-align":"center"},onClick:t[3]||(t[3]=e=>r.chooseAbo("Later"))},Fo,2)]),Oo,Mo,Ro])}const Go={key:0,class:"wrapper"},Vo={class:"container_row"},Wo={key:0,class:"layer2 fa-solid fa-crown fa-xs"},$o={key:1,class:"layer2 fa-solid fa-check fa-sm"};function Zo(e,t,i,s,n,r){return i.verified||i.premium?((0,a.wg)(),(0,a.iD)("div",Go,[(0,a._)("div",Vo,[(0,a._)("i",{class:"layer1 fa-solid fa-certificate fa-xl",style:(0,Ue.j5)({color:[i.premium?"#f6b600":"#3798f0"]})},null,4),i.premium?((0,a.wg)(),(0,a.iD)("i",Wo)):((0,a.wg)(),(0,a.iD)("i",$o))])])):(0,a.kq)("",!0)}var jo={name:"CompanyBadge",props:{verified:Boolean,premium:Boolean},mounted(){Array.from(document.querySelectorAll('a[data-bs-toggle="popover"]')).forEach((e=>new B.Popover(e,{html:!0})))}};const Ko=(0,E.Z)(jo,[["render",Zo],["__scopeId","data-v-013fe816"]]);var Ho=Ko,Yo={name:"AboOptions",props:["abo"],components:{CompanyBadge:Ho},emits:["chooseAbo"],methods:{chooseAbo(e){this.$emit("chooseAbo",e)}}};const Jo=(0,E.Z)(Yo,[["render",No],["__scopeId","data-v-39f734bc"]]);var Qo=Jo;const Xo=e=>((0,a.dD)("data-v-9cc3105c"),e=e(),(0,a.Cn)(),e),el=(0,a.uE)("<h1 data-v-9cc3105c>Allgemeine Geschäftsbedingungen von „Schillerando“ gegenüber Unternehmen</h1><h3 data-v-9cc3105c>§1 Bedingungen gegenüber Unternehmen und Begriffsdefinitionen</h3><p data-v-9cc3105c>(1) Die nachfolgenden Allgemeinen Geschäftsbedingungen gelten für alle Unternehmen, die Waren oder Dienstleistungen über Schillerando erwerben oder verkaufen, im Folgenden auch Auftraggeber genannt, in ihrer zum Zeitpunkt der Bestellung gültigen Fassung. </p><h3 data-v-9cc3105c>§2 Zustandekommen eines Vertrages, Speicherung des Vertragstextes</h3><p data-v-9cc3105c>(1) Die folgenden Regelungen über den Vertragsabschluss gelten für Leistungen von Schillerando gegenüber Unternehmen. Der Auftraggeber verpflichtet sich, im Auftrag seines Unternehmens zu handeln. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Anfallende Kosten werden mit dem Auftraggeber persönlich abgerechnet, sollte sich das angegebene Unternehmen als nicht existent erweisen.</p><h3 data-v-9cc3105c>(3) Im Falle des Vertragsschlusses kommt der Vertrag zwischen</h3><p data-v-9cc3105c>Schillerando<br data-v-9cc3105c> Schulstraße 34<br data-v-9cc3105c> D-71672 Marbach</p><h3 data-v-9cc3105c>Und dem auftraggebenden Unternehmen zustande.</h3>",8),tl=Xo((()=>(0,a._)("br",null,null,-1))),il=Xo((()=>(0,a._)("br",null,null,-1))),sl=["href"],al=(0,a.uE)("<h3 data-v-9cc3105c>§3 Preise, Zahlung, Fälligkeit</h3><p data-v-9cc3105c>(1) Im Falle einer Bestellung werden zu liefernde Produkte von einem Schillerando Lieferanten bezahlt. Schillerando rechnet die Kosten eigenständig mit dem Besteller ab. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Der Auftraggeber verpflichtet sich, den vollen Preis einer Dienstleistung zu zahlen. Sollte die Zahlung zum Zeitpunkt der Fertigstellung des gewählten Service noch nicht erfolgt sein, behält sich Schillerando eine Auflösung des Vertrags vor. Hierbei können Strafgebühren für den Auftraggeber anfallen. </p><h3 data-v-9cc3105c>§4 Abonnements</h3><p data-v-9cc3105c>(1) Schillerando bietet drei verschiedene Abonnements für Unternehmen an. Die Anmeldung ist vor und während des Projektes möglich. Beim Abschluss vor Projektstart sind die Gebühren am ersten Tag des Projekts zu bezahlen, bei Abschluss während des Projekts am Tag des Abschlusses. <br data-v-9cc3105c><br data-v-9cc3105c> (2) Folgende Abonnements werden angeboten: <br data-v-9cc3105c><br data-v-9cc3105c> Abo 1 (Standard): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Gebührenpflichtige Lieferungen*<br data-v-9cc3105c> Gebührenpflichtige Services<br data-v-9cc3105c> Kosten: 50$**<br data-v-9cc3105c><br data-v-9cc3105c> Abo 2 (Delivery): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Kostenlose Lieferungen<br data-v-9cc3105c> Gebührenpflichtige Services<br data-v-9cc3105c> Kosten: 100$**<br data-v-9cc3105c><br data-v-9cc3105c> Abo 3 (Business): <br data-v-9cc3105c> Kostenlose Buchhaltung<br data-v-9cc3105c> Kostenlose Lieferungen<br data-v-9cc3105c> Kostenlose Services<br data-v-9cc3105c> Kosten: 200$**<br data-v-9cc3105c><br data-v-9cc3105c> *Zu Abo 1 (Standard): Bei Abo 1 (Standard) werden 5% Lieferkosten des Bestellwerts fällig. Daher bezahlt der Schillerando Lieferant bei Abholung einer Bestellung 95% der regulären Kosten. <br data-v-9cc3105c><br data-v-9cc3105c> **$ entspricht der Staatswährung, in der die Kosten des ausgewählten Abos bezahlt werden müssen. (1$ ≙ 0,1€)<br data-v-9cc3105c><br data-v-9cc3105c> Sollten die Abokosten nicht zur vereinbarten Frist bezahlt werden, so hält sich Schillerando das Recht vor, alle Anzeigen und Produkte wieder zu entfernen.<br data-v-9cc3105c><br data-v-9cc3105c> Bei zeitlich begrenzten Rabatten auf die Abo Preise, wird der Preis fällig, der zum Zeitpunkt der Auswahl beworben wurde. <br data-v-9cc3105c><br data-v-9cc3105c> (3) Bei Registrierung ohne Abonnement wird das Unternehmen weder im Onlineshop angezeigt noch hat es Zugriff auf Schillerando Business. </p><h3 data-v-9cc3105c>§5 Sonstige Leistungen</h3><p data-v-9cc3105c>(1) Sonstige gewählte Leistungen werden nach Abschluss der Leistung in Rechnung gestellt.</p><h3 data-v-9cc3105c>§6 Vertragssprache</h3><p data-v-9cc3105c>(1) Als Vertragssprache steht ausschließlich Deutsch zur Verfügung.</p><h3 data-v-9cc3105c>§7 Sonstiges</h3><p data-v-9cc3105c>(1) Schillerando gibt keine Garantie, dass durch ein gekauftes Abonnement der Umsatz des Unternehmens steigt.<br data-v-9cc3105c><br data-v-9cc3105c> (2) Die Reihenfolge der Auflistung auf der Schillerando Website kann nicht extern beeinflusst werden und ist nicht veränderbar. </p><h6 data-v-9cc3105c>Stand der AGB: Mai 2023</h6>",11);function nl(e,t,i,s,n,r){return(0,a.wg)(),(0,a.iD)("div",null,[el,(0,a._)("p",null,[(0,a.Uk)("(3) Die Präsentation der Dienstleistungen stellt kein rechtlich bindendes Vertragsangebot dar, sondern dient lediglich der unverbindlichen Information. Mit der Bestellung des gewünschten Abonnements oder der gewünschten Dienstleistung gibt das Unternehmen ein verbindliches Angebot auf Abschluss eines Kaufvertrages ab. Gültig wird der Vertrag nach Annahme des Angebots durch Schillerando. "),tl,il,(0,a.Uk)(" (4) Speicherung des Vertragstextes: Schillerando speichert den Vertragstext, sowie das Einverständnis unserer Kunden. Die AGB kann jederzeit auch unter "),(0,a._)("a",{href:n.businessUrl+"/agb"},"https://www.business.schillerando.de/agb",8,sl),(0,a.Uk)(" eingesehen werden.")]),al])}var rl={name:"AGB",data(){return{businessUrl:"https://business.schillerando.de"}}};const ol=(0,E.Z)(rl,[["render",nl],["__scopeId","data-v-9cc3105c"]]);var ll=ol,cl={name:"CompanyRegistrationView",components:{AlertPopup:oi,AGB:ll,AboOptions:Qo,EditProductOverlay:ui,ProductTile:is},data(){return{page:0,continuePressed:!1,action:"",alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!",newProduct:!1}},computed:{...(0,V.Se)(["getState"])},watch:{page:function(){const e=document.getElementById("progress");e.style.width=20*(this.page+1)+"%"},getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new B.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new B.Modal(document.getElementById("alertModal"),{});s.show(),"register"==this.action&&this.signUpFailure()}}},setup(){const e=(0,Yt.qj)({name:"",location:"",category:"Kategorie",info:"",employees:[""],products:[],abo:null}),t=(0,V.oR)();return{store:t,form:e}},methods:{imageInput(){var e=document.getElementById("formFile");if(e.files&&e.files[0]){var t=new FileReader;t.onload=e=>{this.form.image=e.target.result},t.readAsDataURL(e.files[0])}},addEmployee(){var e=document.getElementsByClassName("signup-mail"),t=0;Array.from(e).forEach((e=>{this.form.employees[t]=e.value,t++})),this.form.employees.push("")},addProduct(){this.newProduct=!0},editProduct(e){const t=this.form.products.map((function(e){return e.id})).indexOf(e.id);this.form.products[t]=e},stopEditingProduct(e){null!=e&&""!=e.name&&this.form.products.push(e),this.newProduct=!1},deleteProduct(e){if(null==e)this.newProduct=!1;else{var t=this.form.products.findIndex((t=>t.id==e.id));this.form.products.splice(t,1)}},chooseAbo(e){this.form.abo=e,this.validatePage(3,!1)},skipPage(e){1==e?this.form.employees=[""]:2==e&&(this.form.products=[]),this.page++},async validatePage(e,t){if(0==e){var i=document.getElementById("signup-name"),s=document.getElementById("signup-location"),a=document.getElementById("signup-category"),n=document.getElementById("signup-info");this.form.name=i.value,this.form.location=s.value,this.form.info=n.value,this.form.category=a.value}if(t||this.continuePressed)if(0==e){t&&(i.value=i.value.trim()),t&&(s.value=s.value.trim()),t&&(n.value=n.value.trim());var r=!0;if(i.value.trim().length<3?(i.classList.remove("is-valid"),i.classList.add("is-invalid"),r=!1):(i.classList.remove("is-invalid"),i.classList.add("is-valid")),s.value.trim().length<3||s.value.trim().length>100?(s.classList.remove("is-valid"),s.classList.add("is-invalid"),r=!1):(s.classList.remove("is-invalid"),s.classList.add("is-valid")),"Kategorie"==a.value?(a.classList.remove("is-valid"),a.classList.add("is-invalid"),r=!1):(a.classList.remove("is-invalid"),a.classList.add("is-valid")),n.value.trim().length<10?(n.classList.remove("is-valid"),n.classList.add("is-invalid"),r=!1):(n.classList.remove("is-invalid"),n.classList.add("is-valid")),this.continuePressed=!0,r&&t){this.store.commit("setState","loading");const{data:e,error:t}=await tt.from("companies").select().eq("alias",i.value.replace(/\s/g,"").toLowerCase());if(t||null!=e[0])return this.failureAlertTitle="Name schon vergeben",this.failureAlertInfo="Es gibt bereits ein Unternehmen mit diesem Namen. Bitte wähle einen anderen!",this.store.commit("setState","failure"),i.classList.remove("is-valid"),void i.classList.add("is-invalid");this.successAlertTitle="",this.store.commit("setState","success"),this.form.name=i.value,this.form.location=s.value,this.form.info=n.value,this.form.category=a.value,this.continuePressed=!1,this.page++}}else if(1==e){var o=document.getElementsByClassName("signup-mail");r=!0;var l=o[0].getAttribute("data-regex");if(Array.from(o).forEach((e=>{e.value=e.value.replace(/\s/g,""),e.value.match(l)||""==e.value?(e.classList.remove("is-invalid"),""!=e.value&&e.classList.add("is-valid")):(e.classList.remove("is-valid"),e.classList.add("is-invalid"),r=!1)})),this.continuePressed=!0,r&&t){var c=0;Array.from(o).forEach((e=>{this.form.employees[c]=e.value,c++})),this.continuePressed=!1,this.page++}}else if(2==e)this.page++;else if(3==e){const e=document.getElementById("alert-danger");r=!1,null==this.form.abo?(e.style.visibility="visible",e.style.position="relative"):(e.style.visibility="hidden",e.style.position="absolute",r=!0),this.continuePressed=!0,r&&t&&(console.log(this.form),this.continuePressed=!1,this.page++)}else if(4==e){const e=document.getElementById("acceptCheck");r=!1,e.checked?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),r=!0):(e.classList.add("is-invalid"),e.classList.remove("is-valid")),this.continuePressed=!0,r&&t&&(this.continuePressed=!1,this.signUp())}},signUp(){this.store.dispatch("createCompany",this.form),this.failureAlertTitle="Registrierung fehlgeschlagen",this.failureAlertInfo="Bei der Registrierung deines Unternehmens ist ein Fehler aufgetreten! Versuche es später erneut.",this.successAlertTitle=""},signUpFailure(){var e=document.getElementById("signup-mail");e.classList.remove("is-valid"),e.classList.add("is-invalid");var t=document.getElementsByClassName("invalid-feedback");Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}))},removeValidation(){const e=document.getElementById("reset-mail");e.value="",e.classList.remove("is-valid"),e.classList.remove("is-invalid")}}};const dl=(0,E.Z)(cl,[["render",to],["__scopeId","data-v-33d03e5c"]]);var ul=dl;const pl=e=>((0,a.dD)("data-v-a6d589b6"),e=e(),(0,a.Cn)(),e),ml={style:{width:"100vw"}},hl={class:"download"},gl=pl((()=>(0,a._)("p",{class:"download-title"},"Herunterladen",-1))),vl=pl((()=>(0,a._)("p",{style:{"margin-bottom":"20px"}},[(0,a.Uk)(" $ "),(0,a._)("span",{style:{"font-size":"1.3rem"}},"≙"),(0,a.Uk)(" Schilli ")],-1))),yl={class:"row"},fl={class:"col-12 total-numbers"},bl={class:"row table"},_l={class:"col-lg-4 equal"},wl={class:"card"},kl={class:"card-body"},El=pl((()=>(0,a._)("h3",null,"Gewinn / Verlust",-1))),Cl={class:"euroProfit"},Al=pl((()=>(0,a._)("a",{id:"tooltip",tabindex:"0","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"mit Einberechnung von Umtauschsteuer"},[(0,a._)("i",{class:"fa-regular fa-circle-question fa-lg"})],-1))),Sl={class:"col-lg-4 equal"},xl={class:"card"},Dl={class:"card-body"},Pl=pl((()=>(0,a._)("h3",null,"Einnahmen",-1))),Il={key:0,class:"euroProfit"},Bl={key:1,class:"euroProfit"},Ll={class:"col-lg-4 equal"},Ul={class:"card"},Tl={class:"card-body"},ql=pl((()=>(0,a._)("h3",null,"Ausgaben",-1))),zl={key:0,class:"euroProfit"},Fl={key:1,class:"euroProfit"},Ol=(0,a.uE)('<div class="canvas" data-v-a6d589b6><div id="total-charts" data-v-a6d589b6><canvas class="total-chart" data-v-a6d589b6></canvas></div><div id="type-charts" data-v-a6d589b6><canvas class="type-chart" data-v-a6d589b6></canvas></div></div>',1),Ml=[Ol],Rl={class:"col-lg-6"},Nl={class:"entries"};function Gl(e,t,i,s,n,r){const o=(0,a.up)("EditAccountingEntryOverlay"),l=(0,a.up)("TitleDiv"),c=(0,a.up)("SortableList");return(0,a.wg)(),(0,a.iD)(a.HY,null,[n.newEntry?((0,a.wg)(),(0,a.j4)(o,{key:0,products:n.products,onStopEditingEntry:t[0]||(t[0]=e=>r.stopEditingEntry(e)),onDeleteEntry:t[1]||(t[1]=e=>r.deleteEntry())},null,8,["products"])):(0,a.kq)("",!0),(0,a._)("div",ml,[(0,a.Wm)(l,{title:"Buchhaltung"}),(0,a._)("div",hl,[gl,(0,a._)("button",{class:"btn btn-primary mb-4 download-button",onClick:t[2]||(t[2]=e=>r.downloadCSV())}," CSV (EXCEL) "),(0,a._)("button",{disabled:"",class:"btn btn-primary mb-4 download-button",onClick:t[3]||(t[3]=e=>r.downloadCSV())}," PDF ")]),vl,(0,a._)("button",{class:"btn btn-primary mb-4 add-product",onClick:t[4]||(t[4]=e=>r.addEntry())}," Eintrag hinzufügen "),(0,a._)("div",yl,[(0,a._)("div",fl,[(0,a._)("div",bl,[(0,a._)("div",_l,[(0,a._)("div",wl,[(0,a._)("div",kl,[((0,a.wg)(),(0,a.iD)("div",{key:n.key,class:(0,Ue.C_)(["profit",{revenue:n.profit>0,expenses:n.profit<0}])},[El,(0,a._)("h1",null,(0,Ue.zw)(n.profit)+" $",1),(0,a._)("div",Cl,(0,Ue.zw)(n.euroProfit)+" €",1),Al],2))])])]),(0,a._)("div",Sl,[(0,a._)("div",xl,[(0,a._)("div",Dl,[((0,a.wg)(),(0,a.iD)("div",{key:n.key,class:"revenue"},[Pl,(0,a._)("h1",null,(0,Ue.zw)(n.revenue)+" $",1),0!=n.euroRevenue&&0!=n.schilliRevenue?((0,a.wg)(),(0,a.iD)("div",Il,(0,Ue.zw)(n.euroRevenue)+" € + "+(0,Ue.zw)(n.schilliRevenue)+" $",1)):0!=n.euroRevenue?((0,a.wg)(),(0,a.iD)("div",Bl,(0,Ue.zw)(n.euroRevenue)+" €",1)):(0,a.kq)("",!0)]))])])]),(0,a._)("div",Ll,[(0,a._)("div",Ul,[(0,a._)("div",Tl,[((0,a.wg)(),(0,a.iD)("div",{key:n.key,class:"expenses"},[ql,(0,a._)("h1",null,(0,Ue.zw)(n.expenses)+" $",1),0!=n.euroExpenses&&0!=n.schilliExpenses?((0,a.wg)(),(0,a.iD)("div",zl,(0,Ue.zw)(n.euroExpenses)+" € + "+(0,Ue.zw)(n.schilliExpenses)+" $",1)):0!=n.euroExpenses?((0,a.wg)(),(0,a.iD)("div",Fl,(0,Ue.zw)(n.euroExpenses)+" €",1)):(0,a.kq)("",!0)]))])])])])]),(0,a._)("div",{class:(0,Ue.C_)([{invisible:0==this.entries.length},"col-lg-6"])},Ml,2),(0,a._)("div",Rl,[(0,a._)("div",Nl,[((0,a.wg)(),(0,a.j4)(c,{items:n.entries,products:n.products,key:n.key,element:"AccountingEntryTile",onDeleteEntry:t[5]||(t[5]=e=>r.deleteEntry(e)),onStopEditingEntry:t[6]||(t[6]=e=>r.stopEditingEntry(e))},null,8,["items","products"]))])])])])],64)}var Vl=i(1809),Wl={name:"AccountingView",components:{TitleDiv:lt,EditAccountingEntryOverlay:na,SortableList:ua},setup(){const e=(0,V.oR)(),t=(0,a.Fl)((()=>e.state.userCompany));return{store:e,companyData:t}},mounted(){window.jQuery=window.$=i(9755),window.Popper=i(4599),i(1016),window.$("body").tooltip({selector:'[data-bs-toggle="tooltip"]'})},data(){return{entries:[],products:[],euroExpenses:0,schilliExpenses:0,expenses:0,euroRevenue:0,schilliRevenue:0,revenue:0,profit:0,euroProfit:0,newEntry:!1,listKey:0,key:0,totalChart:null,typeChart:null}},async created(){{const{data:e,error:t}=await tt.from("products").select().eq("company_id",this.companyData.id);if(t)throw t;this.products=e.sort(((e,t)=>e.name.localeCompare(t.name)))}const{data:e,error:t}=await tt.from("accounting").select("*, users(name)").eq("company_id",this.companyData.id);if(t)throw t;this.entries=e,this.calculateProfit(),this.updateGraphs()},methods:{downloadCSV(){let e="Titel;Art;Währung;Betrag;Datum;Uhrzeit;Ersteller;Beschreibung";const t=this.entries.sort(((e,t)=>e.created_at.localeCompare(t.created_at)));for(let s=0;s<t.length;s++){const i=t[s];e+=`\n${i.name};${i.type.replace("+","").replace("-","")};${i.currencyIsEuro?"Euro":"Schilli"};${i.amount};${ta(i.created_at.split("T")[0])};${ia(i.created_at.split("T")[1])};${i.users.name};${i.info}`}let i=document.createElement("a");i.textContent="download",i.download="buchhaltung.csv",i.href="data:text/csv;charset=utf-8,"+encodeURIComponent(e),document.body.appendChild(i),i.style.display="none",i.click(),document.body.removeChild(i)},deleteEntry(e){this.newEntry=!1;var t=this.entries.findIndex((t=>t.id==e.id));this.entries.splice(t,1),this.store.dispatch("deleteEntry",e),this.calculateProfit(),this.updateGraphs(),this.key++},stopEditingEntry(e){if(this.newEntry=!1,null!=e){const t=this.entries.findIndex((t=>t.id==e.id));console.log(this.entries),console.log(t),-1==t?this.entries.push(e):(this.entries[t].type=e.type,this.entries[t].product=e.product,this.entries[t].name=e.name,this.entries[t].amount=e.amount,this.entries[t].info=e.info,this.entries[t].bill_picture=e.bill_picture,this.entries[t].currencyIsEuro=e.currencyIsEuro)}this.calculateProfit(),this.updateGraphs(),this.key++},addEntry(){this.newEntry=!0},calculateProfit(){this.euroRevenue=0,this.schilliRevenue=0,this.revenue=0,this.euroExpenses=0,this.schilliExpenses=0,this.expenses=0,this.entries.forEach((e=>{e.amount>0?e.currencyIsEuro?this.euroRevenue+=e.amount:this.schilliRevenue+=e.amount:e.currencyIsEuro?this.euroExpenses+=Math.abs(e.amount):this.schilliExpenses+=Math.abs(e.amount)})),this.revenue=this.schilliRevenue+12.5*this.euroRevenue,this.expenses=this.schilliExpenses+12.5*this.euroExpenses,this.profit=this.schilliRevenue-this.schilliExpenses+12.5*(this.euroRevenue-this.euroExpenses),this.euroProfit=.08*this.profit,this.euroRevenue=this.euroRevenue.toFixed(2),this.schilliRevenue=this.schilliRevenue.toFixed(0),this.euroExpenses=this.euroExpenses.toFixed(2),this.schilliExpenses=this.schilliExpenses.toFixed(0),this.revenue=this.revenue.toFixed(0),this.expenses=this.expenses.toFixed(0),this.profit=this.profit.toFixed(0),this.euroProfit=this.euroProfit.toFixed(2)},updateGraphs(){this.updateTotalGraph(),this.updateTypeGraph()},updateTotalGraph(){const e={type:"bar",label:"Einnahmen",data:[],backgroundColor:"rgba(0, 128, 0, 0.2)",borderColor:"rgba(0, 128, 0, 1)",order:2,borderSkipped:!1,borderWidth:1},t={type:"bar",label:"Ausgaben",data:[],backgroundColor:"rgba(255, 0, 0, 0.2)",borderColor:"rgba(255, 0, 0, 1)",order:3,borderSkipped:!1,borderWidth:1},i={type:"line",label:"Gewinn / Verlust",data:[],backgroundColor:"rgba(13, 110, 253, 1)",borderColor:"rgba(13, 110, 253, 1)",order:1};var s=[];this.entries.forEach((e=>{s.push(e)})),s.sort(((e,t)=>e.created_at.localeCompare(t.created_at)));const a=[];if(s.forEach((s=>{var n;a.includes(s.created_at.split("T")[0])?n=a.indexOf(s.created_at.split("T")[0]):(a.push(s.created_at.split("T")[0]),n=a.length-1,e.data.push(0),t.data.push(0),0==n?i.data.push(0):i.data[n]=i.data[n-1]);var r=s.currencyIsEuro?parseInt((12.5*s.amount).toFixed(0)):s.amount;r>0?e.data[n]+=r:t.data[n]+=r,i.data[n]+=r})),null!=this.totalChart){this.totalChart.destroy();const e=document.getElementsByClassName("total-chart");for(var n=0;n<e.length;n++)e[n].remove();const t=document.getElementById("total-charts"),i=document.createElement("canvas");i.classList.add("total-chart"),t.appendChild(i),i.style.marginBottom="50px"}this.totalChart=null;const r=document.getElementsByClassName("total-chart"),o=r[r.length-1];this.totalChart=new Vl.kL(o,{data:{labels:a,datasets:[e,t,i]},options:{scales:{x:{stacked:!0},y:{beginAtZero:!1}},responsive:!0}})},updateTypeGraph(){var e=[];this.entries.forEach((t=>{e.push(t)})),e.sort(((e,t)=>e.type[e.type.length-1].localeCompare(t.type[t.type.length-1])));const t={type:"bar",data:[],backgroundColor:[],borderColor:[],order:1,borderSkipped:!0,borderWidth:1},i=[];e.forEach((e=>{var s;i.includes(e.type.replace("+","").replace("-",""))?s=i.indexOf(e.type.replace("+","").replace("-","")):(i.push(e.type.replace("+","").replace("-","")),s=i.length-1,t.data.push(0),e.amount>0?(t.backgroundColor.push("rgba(0, 128, 0, 0.2)"),t.borderColor.push("rgba(0, 128, 0, 1)")):(t.backgroundColor.push("rgba(255, 0, 0, 0.2)"),t.borderColor.push("rgba(255, 0, 0, 1)")));var a=e.currencyIsEuro?parseInt((12.5*e.amount).toFixed(0)):e.amount;t.data[s]+=a}));var s=i.indexOf("Sonstige Einnahme");if(-1!=s&&(i[s]="Sonst. Einn."),s=i.indexOf("Sonstige Ausgabe"),-1!=s&&(i[s]="Sonst. Ausg."),null!=this.typeChart){this.typeChart.destroy();const e=document.getElementsByClassName("type-chart");for(var a=0;a<e.length;a++)e[a].remove();const t=document.getElementById("type-charts"),i=document.createElement("canvas");i.classList.add("type-chart"),t.appendChild(i),i.style.marginBottom="50px"}this.typeChart=null;const n=document.getElementsByClassName("type-chart"),r=n[n.length-1];this.typeChart=new Vl.kL(r,{data:{labels:i,datasets:[t]},options:{scales:{y:{beginAtZero:!1}},responsive:!0,plugins:{legend:{display:!1}}}})}}};const $l=(0,E.Z)(Wl,[["render",Gl],["__scopeId","data-v-a6d589b6"]]);var Zl=$l;function jl(e,t,i,s,n,r){const o=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o)])}var Kl={name:"AGBView",components:{AGB:ll}};const Hl=(0,E.Z)(Kl,[["render",jl],["__scopeId","data-v-7c51a6d1"]]);var Yl=Hl;const Jl=e=>((0,a.dD)("data-v-016cb5ea"),e=e(),(0,a.Cn)(),e),Ql={class:"container"},Xl={class:"row justify-content-center"},ec={class:"mb-4"},tc={class:"card container-card p-4 pb-0"},ic={class:"card-body"},sc=Jl((()=>(0,a._)("h1",null,"Abo Auswählen",-1))),ac={class:"text-muted"},nc={key:0},rc={key:1},oc=Jl((()=>(0,a._)("h4",null,"Bedingungen",-1))),lc={class:"card mb-4 p-4",style:{"overflow-y":"scroll",height:"400px"}},cc={class:"form-check mb-4"},dc=Jl((()=>(0,a._)("label",{class:"form-check-label",for:"acceptCheck"}," Bedingungen akzeptieren ",-1))),uc={style:{height:"80px"}},pc={key:0,class:"back"},mc=Jl((()=>(0,a._)("div",{class:"loading-button"},"Zurück",-1))),hc=Jl((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),gc=[mc,hc],vc={key:1,class:"continue"},yc=Jl((()=>(0,a._)("div",{class:"loading-button"},"Weiter",-1))),fc=Jl((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),bc=[yc,fc],_c={key:2,class:"continue"},wc=Jl((()=>(0,a._)("div",{class:"loading-button"},"Bestätigen",-1))),kc=Jl((()=>(0,a._)("div",{class:"spinner"},[(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),(0,a._)("span",{class:"sr-only"},"Loading...")],-1))),Ec=[wc,kc];function Cc(e,t,i,s,n,r){const o=(0,a.up)("AlertPopup"),l=(0,a.up)("AboOptions"),c=(0,a.up)("AGB");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{title:this.alertTitle,info:this.alertInfo},null,8,["title","info"]),(0,a._)("div",Ql,[(0,a._)("div",Xl,[(0,a._)("div",ec,[(0,a._)("div",tc,[(0,a._)("div",ic,[sc,(0,a._)("p",ac,' Wähle ein Abonnement für dein Unternehmen "'+(0,Ue.zw)(s.store.getters.getUserCompany.name)+'" ',1),0==this.page?((0,a.wg)(),(0,a.iD)("div",nc,[(0,a.Wm)(l,{abo:s.form.abo,onChooseAbo:t[0]||(t[0]=e=>r.chooseAbo(e))},null,8,["abo"])])):1==this.page?((0,a.wg)(),(0,a.iD)("div",rc,[oc,(0,a._)("div",lc,[(0,a.Wm)(c)]),(0,a._)("div",cc,[(0,a._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"acceptCheck",onChange:t[1]||(t[1]=e=>r.validatePage(1,!1))},null,32),dc])])):(0,a.kq)("",!0),(0,a._)("div",uc,[this.page>0?((0,a.wg)(),(0,a.iD)("div",pc,[(0,a._)("button",{type:"button",onClick:t[2]||(t[2]=e=>this.page--),class:"btn btn-secondary"},gc)])):(0,a.kq)("",!0),4!=this.page?((0,a.wg)(),(0,a.iD)("div",vc,[(0,a._)("button",{type:"button",onClick:t[3]||(t[3]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},bc)])):(0,a.kq)("",!0),4==this.page?((0,a.wg)(),(0,a.iD)("div",_c,[(0,a._)("button",{type:"button",onClick:t[4]||(t[4]=e=>r.validatePage(n.page,!0)),class:"btn btn-primary"},Ec)])):(0,a.kq)("",!0)])])])])])])])}var Ac={name:"UpdateAboView",components:{AlertPopup:oi,AboOptions:Qo,AGB:ll},data(){return{page:0,continuePressed:!1,action:"",alertTitle:"",alertInfo:"",successAlertTitle:"Erfolgreich",successAlertInfo:"Aktion wurde erfolgreich durchgeführt",failureAlertTitle:"Fehler",failureAlertInfo:"Es ist ein Fehler aufgetreten!"}},computed:{...(0,V.Se)(["getState"])},watch:{getState(e){var t=document.getElementsByClassName("spinner"),i=document.getElementsByClassName("loading-button");if("loading"==e)Array.from(t).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),Array.from(i).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"}));else if("success"==e){if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.successAlertTitle,this.alertInfo=this.successAlertInfo,""==this.alertTitle)return;s=new B.Modal(document.getElementById("alertModal"),{}),s.show()}else{if(Array.from(t).forEach((e=>{e.style.visibility="hidden",e.style.position="absolute"})),Array.from(i).forEach((e=>{e.style.visibility="visible",e.style.position="relative"})),this.alertTitle=this.failureAlertTitle,this.alertInfo=this.failureAlertInfo,""==this.alertTitle)return;var s=new B.Modal(document.getElementById("alertModal"),{});s.show(),"register"==this.action&&this.signUpFailure()}}},setup(){const e=(0,Yt.qj)({abo:null}),t=(0,V.oR)();return{store:t,form:e}},methods:{chooseAbo(e){this.form.abo=e,this.validatePage(0,!1)},async validatePage(e,t){if(t||this.continuePressed)if(0==e){const e=document.getElementById("alert-danger");var i=!1;null==this.form.abo?(e.style.visibility="visible",e.style.position="relative"):(e.style.visibility="hidden",e.style.position="absolute",i=!0),this.continuePressed=!0,i&&t&&(console.log(this.form),this.continuePressed=!1,this.page++)}else if(1==e){const e=document.getElementById("acceptCheck");i=!1,e.checked?(e.classList.remove("is-invalid"),e.classList.add("is-valid"),i=!0):(e.classList.add("is-invalid"),e.classList.remove("is-valid")),this.continuePressed=!0,i&&t&&(this.continuePressed=!1,this.updateAbo())}},updateAbo(){this.store.dispatch("updateAbo",this.form),this.failureAlertTitle="Aktualisierung fehlgeschlagen",this.failureAlertInfo="Bei der Aktualisierung des Abonnements ist ein Fehler aufgetreten! Versuche es später erneut.",this.successAlertTitle=""}}};const Sc=(0,E.Z)(Ac,[["render",Cc],["__scopeId","data-v-016cb5ea"]]);var xc=Sc,Dc=i(4702);const Pc=(0,V.MT)({state:{user:null,session:null,userCompany:null,state:void 0,currentProduct:null,currentEntry:null},mutations:{setUser(e,t){e.user=t},setUserCompany(e,t){e.userCompany=t},setState(e,t){e.state=t},setCurrentProduct(e,t){e.currentProduct=t},setCurrentEntry(e,t){e.currentEntry=t}},getters:{getUser(e){return e.user},getUserCompany(e){return e.userCompany},getState(e){return e.state},getCurrentProduct(e){return e.currentProduct},getCurrentEntry(e){return e.currentEntry}},actions:{async reload({commit:e}){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);t=!0;try{const{data:i,error:s}=await tt.auth.refreshSession();s||null==i.session?t?(e("setUser",null),e("setUserCompany",null)):this.dispatch("getSharedLogin"):(e("setUser",i.user),this.dispatch("startUserCompanySubscription"))}catch(i){e("setUser",null),e("setUserCompany",null)}t||(this.timer=setInterval((()=>{this.dispatch("getSharedLogin")}),1e3))},async getSharedLogin({commit:e}){const t=document.cookie.split(/\s*;\s*/).map((e=>e.split("="))),i=t.find((e=>"supabase-access-token"==e[0])),s=t.find((e=>"supabase-refresh-token"==e[0]));if(i&&s){if(null!=this.getters.getUser)return;const{data:t,error:a}=await tt.auth.setSession({access_token:i[1],refresh_token:s[1]});a||null==t.session?(e("setUser",null),e("setUserCompany",null),document.cookie="supabase-access-token=false;",document.cookie="supabase-refresh-token=false;",Uc.go(Uc.currentRoute)):null!=this.getters.getUser?(e("setUser",t.user),this.dispatch("startUserCompanySubscription")):(e("setUser",t.user),this.dispatch("startUserCompanySubscription"),Uc.go(Uc.currentRoute))}else null!=this.getters.getUser?(e("setUser",null),e("setUserCompany",null),Uc.go(Uc.currentRoute)):(e("setUserCompany",null),e("setUser",null))},async startUserCompanySubscription({commit:e}){try{const{data:t,error:i}=await tt.from("companies").select().or("user_uid.eq."+this.getters.getUser.id+',employees.cs.{"'+this.getters.getUser.email+'"}');if(i)throw i;if(null==t[0])return void e("setUserCompany",null);e("setUserCompany",t[0]);const s=tt.channel("any").on("postgres_changes",{event:"*",schema:"public",table:"companies",filter:"id=eq."+this.getters.getUserCompany.id},(t=>{console.log("Database change received!",t.new),e("setUserCompany",t.new)}));s.subscribe()}catch(t){e("setUserCompany",null),console.log(t.error_description||t.message)}},async stopUserCompanySubscription({commit:e}){try{await tt.removeAllChannels(),e("setUserCompanySubscription",null)}catch(t){console.log(t.error_description||t.message)}},async createCompany({commit:e},t){try{e("setState","loading");const l=t.name.replace(/\s/g,"").toLowerCase();var i=t.employees.filter((function(e,i){return t.employees.indexOf(e)==i}));const{data:c,error:d}=await tt.from("companies").insert({alias:l,name:t.name,categories:[t.category],location:t.location,info:t.info,user_uid:this.getters.getUser.id,employees:i,abo:"Later"==t.abo?null:t.abo,relevance:"Business"==t.abo?50:100}).select();if(d)throw d;if(e("setUserCompany",c[0]),null!=t.image){var s=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),a=c[0].id+"."+s.split("/")[1];{const{error:e}=await tt.storage.from("sellers-headings").upload(a,t.image,{cacheControl:"3600",upsert:!0,contentType:s});if(e)throw e}{const{error:e}=await tt.from("companies").update({header_picture:a}).eq("id",this.getters.getUserCompany.id);if(e)throw e}}{const{data:t,error:i}=await tt.auth.updateUser({data:{isCompanyLeader:!0}});if(i)throw i;e("setUser",t.user)}for(var n=0;n<t.products.length;n++){const e=t.products[n],{data:i,error:a}=await tt.from("products").insert({name:e.name,info:e.info,price:e.price,categories:e.categories,company_id:this.getters.getUserCompany.id,auth_uid:this.getters.getUser.id,delivery:e.delivery,public:e.public}).select();if(a)throw a;if(null!=e.image){var r=e.image.substring(e.image.indexOf(":"),e.image.indexOf(";")).replace(":",""),o=i[0].id+"."+s.split("/")[1];{const{error:t}=await tt.storage.from("products-pictures").upload(o,e.image,{cacheControl:"3600",upsert:!0,contentType:r});if(t)throw t}{const{error:e}=await tt.from("products").update({product_picture:o}).eq("id",i[0].id);if(e)throw e}}}console.log("Successfully registered"),e("setState","success"),this.dispatch("startUserCompanySubscription"),await Uc.replace("/einstellungen")}catch(l){e("setState","failure"),console.log(l.error_description||l.message)}},async updateAbo({commit:e},t){try{if(e("setState","loading"),"Later"!=t.abo){const{error:e}=await tt.from("companies").update({abo:t.abo,relevance:"Business"==t.abo?50:100}).eq("id",this.getters.getUserCompany.id);if(e)throw e}e("setState","success"),Uc.back()}catch(i){e("setState","failure"),console.log(i.error_description||i.message)}},async addProduct({commit:e},t){try{e("setState","loading");const{data:a,error:n}=await tt.from("products").insert({name:t.name,info:t.info,categories:t.categories,price:t.price,delivery:t.delivery,public:t.public,auth_uid:this.getters.getUser.id,company_id:this.getters.getUserCompany.id}).select();if(n)throw n;if(e("setCurrentProduct",a[0]),null!=t.image){var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=a[0].id+"."+i.split("/")[1];{const{error:e}=await tt.storage.from("products-pictures").upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:t,error:i}=await tt.from("products").update({product_picture:s}).eq("id",this.getters.getCurrentProduct.id).select();if(i)throw i;e("setCurrentProduct",t[0])}}e("setState","success")}catch(a){e("setCurrentProduct",null),e("setState","failure"),console.log(a.error_description||a.message)}},async updateProduct({commit:e},t){try{e("setState","loading");const{data:a,error:n}=await tt.from("products").update({name:t.name,info:t.info,categories:t.categories,price:t.price,delivery:t.delivery,public:t.public}).eq("id",t.id).select();if(n)throw n;if(e("setCurrentProduct",a[0]),null!=t.image&&t.imageBefore!=t.image){if(null!=t.imageBefore){const{error:e}=await tt.storage.from("products-pictures").remove(a[0].product_picture);if(e)throw e}var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=t.id+"."+i.split("/")[1];{const{error:e}=await tt.storage.from("products-pictures").upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:i,error:a}=await tt.from("products").update({product_picture:s}).eq("id",t.id).select();if(a)throw a;e("setCurrentProduct",i[0])}}e("setState","success")}catch(a){e("setCurrentProduct",null),e("setState","failure"),console.log(a.error_description||a.message)}},async deleteProduct({commit:e},t){try{if(e("setState","loading"),null!=t.product_picture){const{error:e}=await tt.storage.from("products-pictures").remove(t.product_picture);if(e)throw e}const{error:i}=await tt.from("products").delete().eq("id",t.id);if(i)throw i;e("setState","success")}catch(i){e("setState","failure"),console.log(i.error_description||i.message)}},async addEntry({commit:e},t){try{console.log(t),e("setState","loading");const{data:a,error:n}=await tt.from("accounting").insert({name:t.name,info:t.info,type:t.type,amount:t.type.includes("-")?-Math.abs(t.amount):Math.abs(t.amount),product:t.product.id,user_id:this.getters.getUser.id,company_id:this.getters.getUserCompany.id,currencyIsEuro:t.currencyIsEuro}).select();if(n)throw n;if(e("setCurrentEntry",a[0]),null!=t.image){var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=a[0].id+"."+i.split("/")[1];{console.log(t.image);const{error:e}=await tt.storage.from("bill-pictures/"+this.getters.getUserCompany.id).upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:t,error:i}=await tt.from("accounting").update({bill_picture:s}).eq("id",this.getters.getCurrentEntry.id).select();if(i)throw i;e("setCurrentEntry",t[0])}}const r=this.getters.getCurrentEntry;r.userName=this.getters.getUser.user_metadata.name,console.log(r.userName),e("setCurrentEntry",r),e("setState","success")}catch(a){e("setCurrentEntry",null),e("setState","failure"),console.log(a.error_description||a.message)}},async updateEntry({commit:e},t){try{e("setState","loading");const{data:a,error:n}=await tt.from("accounting").update({name:t.name,info:t.info,type:t.type,amount:t.type.includes("-")?-Math.abs(t.amount):Math.abs(t.amount),product:t.product.id,currencyIsEuro:t.currencyIsEuro}).eq("id",t.id).select();if(n)throw n;if(e("setCurrentEntry",a[0]),null!=t.image&&t.imageBefore!=t.image){if(null!=t.imageBefore){const{error:e}=await tt.storage.from("bill-pictures/"+this.getters.getUserCompany.id).remove(a[0].bill_picture);if(e)throw e}var i=t.image.substring(t.image.indexOf(":"),t.image.indexOf(";")).replace(":",""),s=t.id+"."+i.split("/")[1];{const{error:e}=await tt.storage.from("bill-pictures/"+this.getters.getUserCompany.id).upload(s,t.image,{cacheControl:"3600",upsert:!0,contentType:i});if(e)throw e}{const{data:i,error:a}=await tt.from("accounting").update({bill_picture:s}).eq("id",t.id).select();if(a)throw a;e("setCurrentEntry",i[0])}}e("setState","success")}catch(a){e("setCurrentEntry",null),e("setState","failure"),console.log(a.error_description||a.message)}},async deleteEntry({commit:e},t){try{if(e("setState","loading"),null!=t.product_picture){const{error:e}=await tt.storage.from("bill-pictures/"+this.getters.getUserCompany.id).remove(t.bill_picture);if(e)throw e}const{error:i}=await tt.from("accounting").delete().eq("id",t.id);if(i)throw i;e("setState","success")}catch(i){e("setState","failure"),console.log(i.error_description||i.message)}}},modules:{},plugins:[(0,Dc.Z)()]});var Ic=Pc;const Bc=[{path:"/",name:"HomeView",component:Ye},{path:"/produkte",name:"ProductView",component:ha,meta:{locked:!0,company:!0}},{path:"/services",name:"ServiceView",component:Ia,meta:{locked:!0,company:!0}},{path:"/buchhaltung",name:"AccountingView",component:Zl,meta:{locked:!0,company:!0}},{path:"/einstellungen",name:"SettingsView",component:Fn,meta:{locked:!0,company:!0,noAccess:!0}},{path:"/companyRegistration",name:"CompanyRegistrationView",component:ul,meta:{footer:!1,company:!1,auth:!0}},{path:"/agb",name:"AGBView",component:Yl},{path:"/updateAbo",name:"UpdateAboView",component:xc,meta:{footer:!1,company:!0}}],Lc=(0,W.p7)({history:(0,W.PO)("/"),routes:Bc,scrollBehavior(){document.getElementById("app").scrollIntoView({behavior:"smooth"}),document.getElementById("navbarToggler").classList.remove("show")}});Lc.beforeEach((async(e,t,i)=>{if("true"==e.query.ext&&null!=e.query.access_token&&"null"!=e.query.access_token)try{const{data:t}=await tt.auth.setSession({access_token:e.query.access_token,refresh_token:e.query.refresh_token});Ic.commit("setUser",t.user),Ic.dispatch("startUserCompanySubscription"),await new Promise((e=>setTimeout(e,500)))}catch(n){Ic.commit("setUser",null),Ic.commit("setUserCompany",null)}else"true"==e.query.ext&&await new Promise((e=>setTimeout(e,500)));const s=Ic.getters.getUser;var a=Ic.getters.getUserCompany;null==a&&(new Promise((e=>setTimeout(e,500))),a=Ic.getters.getUserCompany),(e.meta.auth||e.meta.company)&&null==s?(window.location.replace("https://schillerando.de/auth?redirect=ext_"+e.path),i()):e.meta.company&&null==a&&null!=s&&null==s.email_confirmed_at?(window.location.replace("https://schillerando.de/account"),i()):e.meta.company&&null==a&&null!=s?i({path:"companyRegistration"}):0==e.meta.company&&null!=a?i({path:"einstellungen"}):0==e.meta.auth&&null!=s||"UpdateAboView"==e.name&&null!=a&&""!=a.abo&&null!=a.abo?i({path:t.path}):"CompanyRegistrationView"==e.name&&null!=a?i({path:"einstellungen"}):i()}));var Uc=Lc;(0,s.ri)(ne).use(Ic).use(Uc).mount("#app")},5203:function(e,t,i){var s={"./accounting.png":63,"./boosting.png":6662,"./cola.png":7573,"./combined.png":9083,"./delivery.png":6323,"./hero_image.png":4077,"./location.png":6780,"./lock.png":1029,"./logo.png":6949,"./logo_reversed.png":4495,"./logo_reversed_background.png":4422,"./logo_transparent.png":5833,"./prices.png":8915,"./products.png":4939,"./schillerpay_button.png":179,"./schillerpay_einrichten.png":8597,"./schillerpay_logo.png":4868,"./service.png":3382};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id=5203},63:function(e,t,i){"use strict";e.exports=i.p+"img/accounting.0a000003.png"},6662:function(e,t,i){"use strict";e.exports=i.p+"img/boosting.e5b5add5.png"},7573:function(e,t,i){"use strict";e.exports=i.p+"img/cola.64f01ebe.png"},9083:function(e,t,i){"use strict";e.exports=i.p+"img/combined.d1178e41.png"},6323:function(e,t,i){"use strict";e.exports=i.p+"img/delivery.12c34355.png"},4077:function(e,t,i){"use strict";e.exports=i.p+"img/hero_image.9eefec6d.png"},6780:function(e,t,i){"use strict";e.exports=i.p+"img/location.753badd3.png"},1029:function(e,t,i){"use strict";e.exports=i.p+"img/lock.41092fc5.png"},6949:function(e,t,i){"use strict";e.exports=i.p+"img/logo.54c2e11f.png"},4495:function(e,t,i){"use strict";e.exports=i.p+"img/logo_reversed.07c16239.png"},4422:function(e,t,i){"use strict";e.exports=i.p+"img/logo_reversed_background.ed99d671.png"},5833:function(e,t,i){"use strict";e.exports=i.p+"img/logo_transparent.67ae4d7f.png"},8915:function(e,t,i){"use strict";e.exports=i.p+"img/prices.f03e18bc.png"},4939:function(e,t,i){"use strict";e.exports=i.p+"img/products.aee9eb33.png"},179:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_button.13d44137.png"},8597:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_einrichten.7b1a0f77.png"},4868:function(e,t,i){"use strict";e.exports=i.p+"img/schillerpay_logo.59e49007.png"},3382:function(e,t,i){"use strict";e.exports=i.p+"img/service.643a402c.png"}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,n){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],n=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(i.O).every((function(e){return i.O[e](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var n=Object.create(null);i.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){r[e]=function(){return s[e]}}));return r["default"]=function(){return s},i.d(n,r),n}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(t&&t(s);c<r.length;c++)n=r[c],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(d)},s=self["webpackChunkbusiness"]=self["webpackChunkbusiness"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(7850)}));s=i.O(s)})();
//# sourceMappingURL=app.1f206e27.js.map